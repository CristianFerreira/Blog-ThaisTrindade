/*!
 * jQuery JavaScript Library v1.4.2
 * http://jquery.com/
 *
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2010, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Sat Feb 13 22:33:48 2010 -0500
 */
(function(window,undefined){var jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},_jQuery=window.jQuery,_$=window.$,document=window.document,rootjQuery,quickExpr=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,isSimple=/^.[^:#\[\.,]*$/,rnotwhite=/\S/,rtrim=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,userAgent=navigator.userAgent,browserMatch,readyBound=false,readyList=[],DOMContentLoaded,toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,push=Array.prototype.push,slice=Array.prototype.slice,indexOf=Array.prototype.indexOf;jQuery.fn=jQuery.prototype={init:function(selector,context){var match,elem,ret,doc;if(!selector){return this}if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}if(selector==="body"&&!context){this.context=document;this[0]=document.body;this.selector="body";this.length=1;return this}if(typeof selector==="string"){match=quickExpr.exec(selector);if(match&&(match[1]||!context)){if(match[1]){doc=(context?context.ownerDocument||context:document);ret=rsingleTag.exec(selector);if(ret){if(jQuery.isPlainObject(context)){selector=[document.createElement(ret[1])];jQuery.fn.attr.call(selector,context,true)}else{selector=[doc.createElement(ret[1])]}}else{ret=buildFragment([match[1]],[doc]);selector=(ret.cacheable?ret.fragment.cloneNode(true):ret.fragment).childNodes}return jQuery.merge(this,selector)}else{elem=document.getElementById(match[2]);if(elem){if(elem.id!==match[2]){return rootjQuery.find(selector)}this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else{if(!context&&/^\w+$/.test(selector)){this.selector=selector;this.context=document;selector=document.getElementsByTagName(selector);return jQuery.merge(this,selector)}else{if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return jQuery(context).find(selector)}}}}else{if(jQuery.isFunction(selector)){return rootjQuery.ready(selector)}}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)},selector:"",jquery:"1.4.2",length:0,size:function(){return this.length},toArray:function(){return slice.call(this,0)},get:function(num){return num==null?this.toArray():(num<0?this.slice(num)[0]:this[num])},pushStack:function(elems,name,selector){var ret=jQuery();if(jQuery.isArray(elems)){push.apply(ret,elems)}else{jQuery.merge(ret,elems)}ret.prevObject=this;ret.context=this.context;if(name==="find"){ret.selector=this.selector+(this.selector?" ":"")+selector}else{if(name){ret.selector=this.selector+"."+name+"("+selector+")"}}return ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){jQuery.bindReady();if(jQuery.isReady){fn.call(document,jQuery)}else{if(readyList){readyList.push(fn)}}return this},eq:function(i){return i===-1?this.slice(i):this.slice(i,+i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(slice.apply(this,arguments),"slice",slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||jQuery(null)},push:push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var target=arguments[0]||{},i=1,length=arguments.length,deep=false,options,name,src,copy;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(length===i){target=this;--i}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||jQuery.isArray(copy))){var clone=src&&(jQuery.isPlainObject(src)||jQuery.isArray(src))?src:jQuery.isArray(copy)?[]:{};target[name]=jQuery.extend(deep,clone,copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target};jQuery.extend({noConflict:function(deep){window.$=_$;if(deep){window.jQuery=_jQuery}return jQuery},isReady:false,ready:function(){if(!jQuery.isReady){if(!document.body){return setTimeout(jQuery.ready,13)}jQuery.isReady=true;if(readyList){var fn,i=0;while((fn=readyList[i++])){fn.call(document,jQuery)}readyList=null}if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler("ready")}}},bindReady:function(){if(readyBound){return}readyBound=true;if(document.readyState==="complete"){return jQuery.ready()}if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);window.addEventListener("load",jQuery.ready,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",jQuery.ready);var toplevel=false;try{toplevel=window.frameElement==null}catch(e){}if(document.documentElement.doScroll&&toplevel){doScrollCheck()}}}},isFunction:function(obj){return toString.call(obj)==="[object Function]"},isArray:function(obj){return toString.call(obj)==="[object Array]"},isPlainObject:function(obj){if(!obj||toString.call(obj)!=="[object Object]"||obj.nodeType||obj.setInterval){return false}if(obj.constructor&&!hasOwnProperty.call(obj,"constructor")&&!hasOwnProperty.call(obj.constructor.prototype,"isPrototypeOf")){return false}var key;for(key in obj){}return key===undefined||hasOwnProperty.call(obj,key)},isEmptyObject:function(obj){for(var name in obj){return false}return true},error:function(msg){throw msg},parseJSON:function(data){if(typeof data!=="string"||!data){return null}data=jQuery.trim(data);if(/^[\],:{}\s]*$/.test(data.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return window.JSON&&window.JSON.parse?window.JSON.parse(data):(new Function("return "+data))()}else{jQuery.error("Invalid JSON: "+data)}},noop:function(){},globalEval:function(data){if(data&&rnotwhite.test(data)){var head=document.getElementsByTagName("head")[0]||document.documentElement,script=document.createElement("script");script.type="text/javascript";if(jQuery.support.scriptEval){script.appendChild(document.createTextNode(data))}else{script.text=data}head.insertBefore(script,head.firstChild);head.removeChild(script)}},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase()},each:function(object,callback,args){var name,i=0,length=object.length,isObj=length===undefined||jQuery.isFunction(object);if(args){if(isObj){for(name in object){if(callback.apply(object[name],args)===false){break}}}else{for(;i<length;){if(callback.apply(object[i++],args)===false){break}}}}else{if(isObj){for(name in object){if(callback.call(object[name],name,object[name])===false){break}}}else{for(var value=object[0];i<length&&callback.call(value,i,value)!==false;value=object[++i]){}}}return object},trim:function(text){return(text||"").replace(rtrim,"")},makeArray:function(array,results){var ret=results||[];if(array!=null){if(array.length==null||typeof array==="string"||jQuery.isFunction(array)||(typeof array!=="function"&&array.setInterval)){push.call(ret,array)}else{jQuery.merge(ret,array)}}return ret},inArray:function(elem,array){if(array.indexOf){return array.indexOf(elem)}for(var i=0,length=array.length;i<length;i++){if(array[i]===elem){return i}}return -1},merge:function(first,second){var i=first.length,j=0;if(typeof second.length==="number"){for(var l=second.length;j<l;j++){first[i++]=second[j]}}else{while(second[j]!==undefined){first[i++]=second[j++]}}first.length=i;return first},grep:function(elems,callback,inv){var ret=[];for(var i=0,length=elems.length;i<length;i++){if(!inv!==!callback(elems[i],i)){ret.push(elems[i])}}return ret},map:function(elems,callback,arg){var ret=[],value;for(var i=0,length=elems.length;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value}}return ret.concat.apply([],ret)},guid:1,proxy:function(fn,proxy,thisObject){if(arguments.length===2){if(typeof proxy==="string"){thisObject=fn;fn=thisObject[proxy];proxy=undefined}else{if(proxy&&!jQuery.isFunction(proxy)){thisObject=proxy;proxy=undefined}}}if(!proxy&&fn){proxy=function(){return fn.apply(thisObject||this,arguments)}}if(fn){proxy.guid=fn.guid=fn.guid||proxy.guid||jQuery.guid++}return proxy},uaMatch:function(ua){ua=ua.toLowerCase();var match=/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||!/compatible/.test(ua)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}},browser:{}});browserMatch=jQuery.uaMatch(userAgent);if(browserMatch.browser){jQuery.browser[browserMatch.browser]=true;jQuery.browser.version=browserMatch.version}if(jQuery.browser.webkit){jQuery.browser.safari=true}if(indexOf){jQuery.inArray=function(elem,array){return indexOf.call(array,elem)}}rootjQuery=jQuery(document);if(document.addEventListener){DOMContentLoaded=function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);jQuery.ready()}}else{if(document.attachEvent){DOMContentLoaded=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);jQuery.ready()}}}}function doScrollCheck(){if(jQuery.isReady){return}try{document.documentElement.doScroll("left")}catch(error){setTimeout(doScrollCheck,1);return}jQuery.ready()}function evalScript(i,elem){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:"script"})}else{jQuery.globalEval(elem.text||elem.textContent||elem.innerHTML||"")}if(elem.parentNode){elem.parentNode.removeChild(elem)}}function access(elems,key,value,exec,fn,pass){var length=elems.length;if(typeof key==="object"){for(var k in key){access(elems,k,key[k],exec,fn,value)}return elems}if(value!==undefined){exec=!pass&&exec&&jQuery.isFunction(value);for(var i=0;i<length;i++){fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass)}return elems}return length?fn(elems[0],key):undefined}function now(){return(new Date).getTime()}(function(){jQuery.support={};var root=document.documentElement,script=document.createElement("script"),div=document.createElement("div"),id="script"+now();div.style.display="none";div.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var all=div.getElementsByTagName("*"),a=div.getElementsByTagName("a")[0];if(!all||!all.length||!a){return}jQuery.support={leadingWhitespace:div.firstChild.nodeType===3,tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/red/.test(a.getAttribute("style")),hrefNormalized:a.getAttribute("href")==="/a",opacity:/^0.55$/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:div.getElementsByTagName("input")[0].value==="on",optSelected:document.createElement("select").appendChild(document.createElement("option")).selected,parentNode:div.removeChild(div.appendChild(document.createElement("div"))).parentNode===null,deleteExpando:true,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null};script.type="text/javascript";try{script.appendChild(document.createTextNode("window."+id+"=1;"))}catch(e){}root.insertBefore(script,root.firstChild);if(window[id]){jQuery.support.scriptEval=true;delete window[id]}try{delete script.test}catch(e){jQuery.support.deleteExpando=false}root.removeChild(script);if(div.attachEvent&&div.fireEvent){div.attachEvent("onclick",function click(){jQuery.support.noCloneEvent=false;div.detachEvent("onclick",click)});div.cloneNode(true).fireEvent("onclick")}div=document.createElement("div");div.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";var fragment=document.createDocumentFragment();fragment.appendChild(div.firstChild);jQuery.support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;jQuery(function(){var div=document.createElement("div");div.style.width=div.style.paddingLeft="1px";document.body.appendChild(div);jQuery.boxModel=jQuery.support.boxModel=div.offsetWidth===2;document.body.removeChild(div).style.display="none";div=null});var eventSupported=function(eventName){var el=document.createElement("div");eventName="on"+eventName;var isSupported=(eventName in el);if(!isSupported){el.setAttribute(eventName,"return;");isSupported=typeof el[eventName]==="function"}el=null;return isSupported};jQuery.support.submitBubbles=eventSupported("submit");jQuery.support.changeBubbles=eventSupported("change");root=script=div=all=a=null})();jQuery.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var expando="jQuery"+now(),uuid=0,windowData={};jQuery.extend({cache:{},expando:expando,noData:{embed:true,object:true,applet:true},data:function(elem,name,data){if(elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()]){return}elem=elem==window?windowData:elem;var id=elem[expando],cache=jQuery.cache,thisCache;if(!id&&typeof name==="string"&&data===undefined){return null}if(!id){id=++uuid}if(typeof name==="object"){elem[expando]=id;thisCache=cache[id]=jQuery.extend(true,{},name)}else{if(!cache[id]){elem[expando]=id;cache[id]={}}}thisCache=cache[id];if(data!==undefined){thisCache[name]=data}return typeof name==="string"?thisCache[name]:thisCache},removeData:function(elem,name){if(elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()]){return}elem=elem==window?windowData:elem;var id=elem[expando],cache=jQuery.cache,thisCache=cache[id];if(name){if(thisCache){delete thisCache[name];if(jQuery.isEmptyObject(thisCache)){jQuery.removeData(elem)}}}else{if(jQuery.support.deleteExpando){delete elem[jQuery.expando]}else{if(elem.removeAttribute){elem.removeAttribute(jQuery.expando)}}delete cache[id]}}});jQuery.fn.extend({data:function(key,value){if(typeof key==="undefined"&&this.length){return jQuery.data(this[0])}else{if(typeof key==="object"){return this.each(function(){jQuery.data(this,key)})}}var parts=key.split(".");parts[1]=parts[1]?"."+parts[1]:"";if(value===undefined){var data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]);if(data===undefined&&this.length){data=jQuery.data(this[0],key)}return data===undefined&&parts[1]?this.data(parts[0]):data}else{return this.trigger("setData"+parts[1]+"!",[parts[0],value]).each(function(){jQuery.data(this,key,value)})}},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}});jQuery.extend({queue:function(elem,type,data){if(!elem){return}type=(type||"fx")+"queue";var q=jQuery.data(elem,type);if(!data){return q||[]}if(!q||jQuery.isArray(data)){q=jQuery.data(elem,type,jQuery.makeArray(data))}else{q.push(data)}return q},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),fn=queue.shift();if(fn==="inprogress"){fn=queue.shift()}if(fn){if(type==="fx"){queue.unshift("inprogress")}fn.call(elem,function(){jQuery.dequeue(elem,type)})}}});jQuery.fn.extend({queue:function(type,data){if(typeof type!=="string"){data=type;type="fx"}if(data===undefined){return jQuery.queue(this[0],type)}return this.each(function(i,elem){var queue=jQuery.queue(this,type,data);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(){var elem=this;setTimeout(function(){jQuery.dequeue(elem,type)},time)})},clearQueue:function(type){return this.queue(type||"fx",[])}});var rclass=/[\n\t]/g,rspace=/\s+/,rreturn=/\r/g,rspecialurl=/href|src|style/,rtype=/(button|input)/i,rfocusable=/(button|input|object|select|textarea)/i,rclickable=/^(a|area)$/i,rradiocheck=/radio|checkbox/;jQuery.fn.extend({attr:function(name,value){return access(this,name,value,true,jQuery.attr)},removeAttr:function(name,fn){return this.each(function(){jQuery.attr(this,name,"");if(this.nodeType===1){this.removeAttribute(name)}})},addClass:function(value){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);self.addClass(value.call(this,i,self.attr("class")))})}if(value&&typeof value==="string"){var classNames=(value||"").split(rspace);for(var i=0,l=this.length;i<l;i++){var elem=this[i];if(elem.nodeType===1){if(!elem.className){elem.className=value}else{var className=" "+elem.className+" ",setClass=elem.className;for(var c=0,cl=classNames.length;c<cl;c++){if(className.indexOf(" "+classNames[c]+" ")<0){setClass+=" "+classNames[c]}}elem.className=jQuery.trim(setClass)}}}}return this},removeClass:function(value){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);self.removeClass(value.call(this,i,self.attr("class")))})}if((value&&typeof value==="string")||value===undefined){var classNames=(value||"").split(rspace);for(var i=0,l=this.length;i<l;i++){var elem=this[i];if(elem.nodeType===1&&elem.className){if(value){var className=(" "+elem.className+" ").replace(rclass," ");for(var c=0,cl=classNames.length;c<cl;c++){className=className.replace(" "+classNames[c]+" "," ")}elem.className=jQuery.trim(className)}else{elem.className=""}}}}return this},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal==="boolean";if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);self.toggleClass(value.call(this,i,self.attr("class"),stateVal),stateVal)})}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(rspace);while((className=classNames[i++])){state=isBool?state:!self.hasClass(className);self[state?"addClass":"removeClass"](className)}}else{if(type==="undefined"||type==="boolean"){if(this.className){jQuery.data(this,"__className__",this.className)}this.className=this.className||value===false?"":jQuery.data(this,"__className__")||""}}})},hasClass:function(selector){var className=" "+selector+" ";for(var i=0,l=this.length;i<l;i++){if((" "+this[i].className+" ").replace(rclass," ").indexOf(className)>-1){return true}}return false},val:function(value){if(value===undefined){var elem=this[0];if(elem){if(jQuery.nodeName(elem,"option")){return(elem.attributes.value||{}).specified?elem.value:elem.text}if(jQuery.nodeName(elem,"select")){var index=elem.selectedIndex,values=[],options=elem.options,one=elem.type==="select-one";if(index<0){return null}for(var i=one?index:0,max=one?index+1:options.length;i<max;i++){var option=options[i];if(option.selected){value=jQuery(option).val();if(one){return value}values.push(value)}}return values}if(rradiocheck.test(elem.type)&&!jQuery.support.checkOn){return elem.getAttribute("value")===null?"on":elem.value}return(elem.value||"").replace(rreturn,"")}return undefined}var isFunction=jQuery.isFunction(value);return this.each(function(i){var self=jQuery(this),val=value;if(this.nodeType!==1){return}if(isFunction){val=value.call(this,i,self.val())}if(typeof val==="number"){val+=""}if(jQuery.isArray(val)&&rradiocheck.test(this.type)){this.checked=jQuery.inArray(self.val(),val)>=0}else{if(jQuery.nodeName(this,"select")){var values=jQuery.makeArray(val);jQuery("option",this).each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0});if(!values.length){this.selectedIndex=-1}}else{this.value=val}}})}});jQuery.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(elem,name,value,pass){if(!elem||elem.nodeType===3||elem.nodeType===8){return undefined}if(pass&&name in jQuery.attrFn){return jQuery(elem)[name](value)}var notxml=elem.nodeType!==1||!jQuery.isXMLDoc(elem),set=value!==undefined;name=notxml&&jQuery.props[name]||name;if(elem.nodeType===1){var special=rspecialurl.test(name);if(name==="selected"&&!jQuery.support.optSelected){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex}}}if(name in elem&&notxml&&!special){if(set){if(name==="type"&&rtype.test(elem.nodeName)&&elem.parentNode){jQuery.error("type property can't be changed")}elem[name]=value}if(jQuery.nodeName(elem,"form")&&elem.getAttributeNode(name)){return elem.getAttributeNode(name).nodeValue}if(name==="tabIndex"){var attributeNode=elem.getAttributeNode("tabIndex");return attributeNode&&attributeNode.specified?attributeNode.value:rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}return elem[name]}if(!jQuery.support.style&&notxml&&name==="style"){if(set){elem.style.cssText=""+value}return elem.style.cssText}if(set){elem.setAttribute(name,""+value)}var attr=!jQuery.support.hrefNormalized&&notxml&&special?elem.getAttribute(name,2):elem.getAttribute(name);return attr===null?undefined:attr}return jQuery.style(elem,name,value)}});var rnamespaces=/\.(.*)$/,fcleanup=function(nm){return nm.replace(/[^\w\s\.\|`]/g,function(ch){return"\\"+ch})};jQuery.event={add:function(elem,types,handler,data){if(elem.nodeType===3||elem.nodeType===8){return}if(elem.setInterval&&(elem!==window&&!elem.frameElement)){elem=window}var handleObjIn,handleObj;if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler}if(!handler.guid){handler.guid=jQuery.guid++}var elemData=jQuery.data(elem);if(!elemData){return}var events=elemData.events=elemData.events||{},eventHandle=elemData.handle,eventHandle;if(!eventHandle){elemData.handle=eventHandle=function(){return typeof jQuery!=="undefined"&&!jQuery.event.triggered?jQuery.event.handle.apply(eventHandle.elem,arguments):undefined}}eventHandle.elem=elem;types=types.split(" ");var type,i=0,namespaces;while((type=types[i++])){handleObj=handleObjIn?jQuery.extend({},handleObjIn):{handler:handler,data:data};if(type.indexOf(".")>-1){namespaces=type.split(".");type=namespaces.shift();handleObj.namespace=namespaces.slice(0).sort().join(".")}else{namespaces=[];handleObj.namespace=""}handleObj.type=type;handleObj.guid=handler.guid;var handlers=events[type],special=jQuery.event.special[type]||{};if(!handlers){handlers=events[type]=[];if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false)}else{if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle)}}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}handlers.push(handleObj);jQuery.event.global[type]=true}elem=null},global:{},remove:function(elem,types,handler,pos){if(elem.nodeType===3||elem.nodeType===8){return}var ret,type,fn,i=0,all,namespaces,namespace,special,eventType,handleObj,origType,elemData=jQuery.data(elem),events=elemData&&elemData.events;if(!elemData||!events){return}if(types&&types.type){handler=types.handler;types=types.type}if(!types||typeof types==="string"&&types.charAt(0)==="."){types=types||"";for(type in events){jQuery.event.remove(elem,type+types)}return}types=types.split(" ");while((type=types[i++])){origType=type;handleObj=null;all=type.indexOf(".")<0;namespaces=[];if(!all){namespaces=type.split(".");type=namespaces.shift();namespace=new RegExp("(^|\\.)"+jQuery.map(namespaces.slice(0).sort(),fcleanup).join("\\.(?:.*\\.)?")+"(\\.|$)")}eventType=events[type];if(!eventType){continue}if(!handler){for(var j=0;j<eventType.length;j++){handleObj=eventType[j];if(all||namespace.test(handleObj.namespace)){jQuery.event.remove(elem,origType,handleObj.handler,j);eventType.splice(j--,1)}}continue}special=jQuery.event.special[type]||{};for(var j=pos||0;j<eventType.length;j++){handleObj=eventType[j];if(handler.guid===handleObj.guid){if(all||namespace.test(handleObj.namespace)){if(pos==null){eventType.splice(j--,1)}if(special.remove){special.remove.call(elem,handleObj)}}if(pos!=null){break}}}if(eventType.length===0||pos!=null&&eventType.length===1){if(!special.teardown||special.teardown.call(elem,namespaces)===false){removeEvent(elem,type,elemData.handle)}ret=null;delete events[type]}}if(jQuery.isEmptyObject(events)){var handle=elemData.handle;if(handle){handle.elem=null}delete elemData.events;delete elemData.handle;if(jQuery.isEmptyObject(elemData)){jQuery.removeData(elem)}}},trigger:function(event,data,elem){var type=event.type||event,bubbling=arguments[3];if(!bubbling){event=typeof event==="object"?event[expando]?event:jQuery.extend(jQuery.Event(type),event):jQuery.Event(type);if(type.indexOf("!")>=0){event.type=type=type.slice(0,-1);event.exclusive=true}if(!elem){event.stopPropagation();if(jQuery.event.global[type]){jQuery.each(jQuery.cache,function(){if(this.events&&this.events[type]){jQuery.event.trigger(event,data,this.handle.elem)}})}}if(!elem||elem.nodeType===3||elem.nodeType===8){return undefined}event.result=undefined;event.target=elem;data=jQuery.makeArray(data);data.unshift(event)}event.currentTarget=elem;var handle=jQuery.data(elem,"handle");if(handle){handle.apply(elem,data)}var parent=elem.parentNode||elem.ownerDocument;try{if(!(elem&&elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()])){if(elem["on"+type]&&elem["on"+type].apply(elem,data)===false){event.result=false}}}catch(e){}if(!event.isPropagationStopped()&&parent){jQuery.event.trigger(event,data,parent,true)}else{if(!event.isDefaultPrevented()){var target=event.target,old,isClick=jQuery.nodeName(target,"a")&&type==="click",special=jQuery.event.special[type]||{};if((!special._default||special._default.call(elem,event)===false)&&!isClick&&!(target&&target.nodeName&&jQuery.noData[target.nodeName.toLowerCase()])){try{if(target[type]){old=target["on"+type];if(old){target["on"+type]=null}jQuery.event.triggered=true;target[type]()}}catch(e){}if(old){target["on"+type]=old}jQuery.event.triggered=false}}}},handle:function(event){var all,handlers,namespaces,namespace,events;event=arguments[0]=jQuery.event.fix(event||window.event);event.currentTarget=this;all=event.type.indexOf(".")<0&&!event.exclusive;if(!all){namespaces=event.type.split(".");event.type=namespaces.shift();namespace=new RegExp("(^|\\.)"+namespaces.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")}var events=jQuery.data(this,"events"),handlers=events[event.type];if(events&&handlers){handlers=handlers.slice(0);for(var j=0,l=handlers.length;j<l;j++){var handleObj=handlers[j];if(all||namespace.test(handleObj.namespace)){event.handler=handleObj.handler;event.data=handleObj.data;event.handleObj=handleObj;var ret=handleObj.handler.apply(this,arguments);if(ret!==undefined){event.result=ret;if(ret===false){event.preventDefault();event.stopPropagation()}}if(event.isImmediatePropagationStopped()){break}}}}return event.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(event){if(event[expando]){return event}var originalEvent=event;event=jQuery.Event(originalEvent);for(var i=this.props.length,prop;i;){prop=this.props[--i];event[prop]=originalEvent[prop]}if(!event.target){event.target=event.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement}if(event.pageX==null&&event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.which&&((event.charCode||event.charCode===0)?event.charCode:event.keyCode)){event.which=event.charCode||event.keyCode}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey}if(!event.which&&event.button!==undefined){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)))}return event},guid:100000000,proxy:jQuery.proxy,special:{ready:{setup:jQuery.bindReady,teardown:jQuery.noop},live:{add:function(handleObj){jQuery.event.add(this,handleObj.origType,jQuery.extend({},handleObj,{handler:liveHandler}))},remove:function(handleObj){var remove=true,type=handleObj.origType.replace(rnamespaces,"");jQuery.each(jQuery.data(this,"events").live||[],function(){if(type===this.origType.replace(rnamespaces,"")){remove=false;return false}});if(remove){jQuery.event.remove(this,handleObj.origType,liveHandler)}}},beforeunload:{setup:function(data,namespaces,eventHandle){if(this.setInterval){this.onbeforeunload=eventHandle}return false},teardown:function(namespaces,eventHandle){if(this.onbeforeunload===eventHandle){this.onbeforeunload=null}}}}};var removeEvent=document.removeEventListener?function(elem,type,handle){elem.removeEventListener(type,handle,false)}:function(elem,type,handle){elem.detachEvent("on"+type,handle)};jQuery.Event=function(src){if(!this.preventDefault){return new jQuery.Event(src)}if(src&&src.type){this.originalEvent=src;this.type=src.type}else{this.type=src}this.timeStamp=now();this[expando]=true};function returnFalse(){return false}function returnTrue(){return true}jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return}if(e.preventDefault){e.preventDefault()}e.returnValue=false},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};var withinElement=function(event){var parent=event.relatedTarget;try{while(parent&&parent!==this){parent=parent.parentNode}if(parent!==this){event.type=event.data;jQuery.event.handle.apply(this,arguments)}}catch(e){}},delegate=function(event){event.type=event.data;jQuery.event.handle.apply(this,arguments)};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={setup:function(data){jQuery.event.add(this,fix,data&&data.selector?delegate:withinElement,orig)},teardown:function(data){jQuery.event.remove(this,fix,data&&data.selector?delegate:withinElement)}}});if(!jQuery.support.submitBubbles){jQuery.event.special.submit={setup:function(data,namespaces){if(this.nodeName.toLowerCase()!=="form"){jQuery.event.add(this,"click.specialSubmit",function(e){var elem=e.target,type=elem.type;if((type==="submit"||type==="image")&&jQuery(elem).closest("form").length){return trigger("submit",this,arguments)}});jQuery.event.add(this,"keypress.specialSubmit",function(e){var elem=e.target,type=elem.type;if((type==="text"||type==="password")&&jQuery(elem).closest("form").length&&e.keyCode===13){return trigger("submit",this,arguments)}})}else{return false}},teardown:function(namespaces){jQuery.event.remove(this,".specialSubmit")}}}if(!jQuery.support.changeBubbles){var formElems=/textarea|input|select/i,changeFilters,getVal=function(elem){var type=elem.type,val=elem.value;if(type==="radio"||type==="checkbox"){val=elem.checked}else{if(type==="select-multiple"){val=elem.selectedIndex>-1?jQuery.map(elem.options,function(elem){return elem.selected}).join("-"):""}else{if(elem.nodeName.toLowerCase()==="select"){val=elem.selectedIndex}}}return val},testChange=function testChange(e){var elem=e.target,data,val;if(!formElems.test(elem.nodeName)||elem.readOnly){return}data=jQuery.data(elem,"_change_data");val=getVal(elem);if(e.type!=="focusout"||elem.type!=="radio"){jQuery.data(elem,"_change_data",val)}if(data===undefined||val===data){return}if(data!=null||val){e.type="change";return jQuery.event.trigger(e,arguments[1],elem)}};jQuery.event.special.change={filters:{focusout:testChange,click:function(e){var elem=e.target,type=elem.type;if(type==="radio"||type==="checkbox"||elem.nodeName.toLowerCase()==="select"){return testChange.call(this,e)}},keydown:function(e){var elem=e.target,type=elem.type;if((e.keyCode===13&&elem.nodeName.toLowerCase()!=="textarea")||(e.keyCode===32&&(type==="checkbox"||type==="radio"))||type==="select-multiple"){return testChange.call(this,e)}},beforeactivate:function(e){var elem=e.target;jQuery.data(elem,"_change_data",getVal(elem))}},setup:function(data,namespaces){if(this.type==="file"){return false}for(var type in changeFilters){jQuery.event.add(this,type+".specialChange",changeFilters[type])}return formElems.test(this.nodeName)},teardown:function(namespaces){jQuery.event.remove(this,".specialChange");return formElems.test(this.nodeName)}};changeFilters=jQuery.event.special.change.filters}function trigger(type,elem,args){args[0].type=type;return jQuery.event.handle.apply(elem,args)}if(document.addEventListener){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){jQuery.event.special[fix]={setup:function(){this.addEventListener(orig,handler,true)},teardown:function(){this.removeEventListener(orig,handler,true)}};function handler(e){e=jQuery.event.fix(e);e.type=fix;return jQuery.event.handle.call(this,e)}})}jQuery.each(["bind","one"],function(i,name){jQuery.fn[name]=function(type,data,fn){if(typeof type==="object"){for(var key in type){this[name](key,data,type[key],fn)}return this}if(jQuery.isFunction(data)){fn=data;data=undefined}var handler=name==="one"?jQuery.proxy(fn,function(event){jQuery(this).unbind(event,handler);return fn.apply(this,arguments)}):fn;if(type==="unload"&&name!=="one"){this.one(type,data,fn)}else{for(var i=0,l=this.length;i<l;i++){jQuery.event.add(this[i],type,handler,data)}}return this}});jQuery.fn.extend({unbind:function(type,fn){if(typeof type==="object"&&!type.preventDefault){for(var key in type){this.unbind(key,type[key])}}else{for(var i=0,l=this.length;i<l;i++){jQuery.event.remove(this[i],type,fn)}}return this},delegate:function(selector,types,data,fn){return this.live(types,data,fn,selector)},undelegate:function(selector,types,fn){if(arguments.length===0){return this.unbind("live")}else{return this.die(types,null,fn,selector)}},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){if(this[0]){var event=jQuery.Event(type);event.preventDefault();event.stopPropagation();jQuery.event.trigger(event,data,this[0]);return event.result}},toggle:function(fn){var args=arguments,i=1;while(i<args.length){jQuery.proxy(fn,args[i++])}return this.click(jQuery.proxy(fn,function(event){var lastToggle=(jQuery.data(this,"lastToggle"+fn.guid)||0)%i;jQuery.data(this,"lastToggle"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false}))},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}});var liveMap={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};jQuery.each(["live","die"],function(i,name){jQuery.fn[name]=function(types,data,fn,origSelector){var type,i=0,match,namespaces,preType,selector=origSelector||this.selector,context=origSelector?this:jQuery(this.context);if(jQuery.isFunction(data)){fn=data;data=undefined}types=(types||"").split(" ");while((type=types[i++])!=null){match=rnamespaces.exec(type);namespaces="";if(match){namespaces=match[0];type=type.replace(rnamespaces,"")}if(type==="hover"){types.push("mouseenter"+namespaces,"mouseleave"+namespaces);continue}preType=type;if(type==="focus"||type==="blur"){types.push(liveMap[type]+namespaces);type=type+namespaces}else{type=(liveMap[type]||type)+namespaces}if(name==="live"){context.each(function(){jQuery.event.add(this,liveConvert(type,selector),{data:data,selector:selector,handler:fn,origType:type,origHandler:fn,preType:preType})})}else{context.unbind(liveConvert(type,selector),fn)}}return this}});function liveHandler(event){var stop,elems=[],selectors=[],args=arguments,related,match,handleObj,elem,j,i,l,data,events=jQuery.data(this,"events");if(event.liveFired===this||!events||!events.live||event.button&&event.type==="click"){return}event.liveFired=this;var live=events.live.slice(0);for(j=0;j<live.length;j++){handleObj=live[j];if(handleObj.origType.replace(rnamespaces,"")===event.type){selectors.push(handleObj.selector)}else{live.splice(j--,1)}}match=jQuery(event.target).closest(selectors,event.currentTarget);for(i=0,l=match.length;i<l;i++){for(j=0;j<live.length;j++){handleObj=live[j];if(match[i].selector===handleObj.selector){elem=match[i].elem;related=null;if(handleObj.preType==="mouseenter"||handleObj.preType==="mouseleave"){related=jQuery(event.relatedTarget).closest(handleObj.selector)[0]}if(!related||related!==elem){elems.push({elem:elem,handleObj:handleObj})}}}}for(i=0,l=elems.length;i<l;i++){match=elems[i];event.currentTarget=match.elem;event.data=match.handleObj.data;event.handleObj=match.handleObj;if(match.handleObj.origHandler.apply(match.elem,args)===false){stop=false;break}}return stop}function liveConvert(type,selector){return"live."+(type&&type!=="*"?type+".":"")+selector.replace(/\./g,"`").replace(/ /g,"&")}jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(i,name){jQuery.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name)};if(jQuery.attrFn){jQuery.attrFn[name]=true}});if(window.attachEvent&&!window.addEventListener){window.attachEvent("onunload",function(){for(var id in jQuery.cache){if(jQuery.cache[id].handle){try{jQuery.event.remove(jQuery.cache[id].handle.elem)}catch(e){}}}})}
/*!
 * Sizzle CSS Selector Engine - v1.0
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var chunker=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,done=0,toString=Object.prototype.toString,hasDuplicate=false,baseHasDuplicate=true;[0,0].sort(function(){baseHasDuplicate=false;return 0});var Sizzle=function(selector,context,results,seed){results=results||[];var origContext=context=context||document;if(context.nodeType!==1&&context.nodeType!==9){return[]}if(!selector||typeof selector!=="string"){return results}var parts=[],m,set,checkSet,extra,prune=true,contextXML=isXML(context),soFar=selector;while((chunker.exec(""),m=chunker.exec(soFar))!==null){soFar=m[3];parts.push(m[1]);if(m[2]){extra=m[3];break}}if(parts.length>1&&origPOS.exec(selector)){if(parts.length===2&&Expr.relative[parts[0]]){set=posProcess(parts[0]+parts[1],context)}else{set=Expr.relative[parts[0]]?[context]:Sizzle(parts.shift(),context);while(parts.length){selector=parts.shift();if(Expr.relative[selector]){selector+=parts.shift()}set=posProcess(selector,set)}}}else{if(!seed&&parts.length>1&&context.nodeType===9&&!contextXML&&Expr.match.ID.test(parts[0])&&!Expr.match.ID.test(parts[parts.length-1])){var ret=Sizzle.find(parts.shift(),context,contextXML);context=ret.expr?Sizzle.filter(ret.expr,ret.set)[0]:ret.set[0]}if(context){var ret=seed?{expr:parts.pop(),set:makeArray(seed)}:Sizzle.find(parts.pop(),parts.length===1&&(parts[0]==="~"||parts[0]==="+")&&context.parentNode?context.parentNode:context,contextXML);set=ret.expr?Sizzle.filter(ret.expr,ret.set):ret.set;if(parts.length>0){checkSet=makeArray(set)}else{prune=false}while(parts.length){var cur=parts.pop(),pop=cur;if(!Expr.relative[cur]){cur=""}else{pop=parts.pop()}if(pop==null){pop=context}Expr.relative[cur](checkSet,pop,contextXML)}}else{checkSet=parts=[]}}if(!checkSet){checkSet=set}if(!checkSet){Sizzle.error(cur||selector)}if(toString.call(checkSet)==="[object Array]"){if(!prune){results.push.apply(results,checkSet)}else{if(context&&context.nodeType===1){for(var i=0;checkSet[i]!=null;i++){if(checkSet[i]&&(checkSet[i]===true||checkSet[i].nodeType===1&&contains(context,checkSet[i]))){results.push(set[i])}}}else{for(var i=0;checkSet[i]!=null;i++){if(checkSet[i]&&checkSet[i].nodeType===1){results.push(set[i])}}}}}else{makeArray(checkSet,results)}if(extra){Sizzle(extra,origContext,results,seed);Sizzle.uniqueSort(results)}return results};Sizzle.uniqueSort=function(results){if(sortOrder){hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate){for(var i=1;i<results.length;i++){if(results[i]===results[i-1]){results.splice(i--,1)}}}}return results};Sizzle.matches=function(expr,set){return Sizzle(expr,null,null,set)};Sizzle.find=function(expr,context,isXML){var set,match;if(!expr){return[]}for(var i=0,l=Expr.order.length;i<l;i++){var type=Expr.order[i],match;if((match=Expr.leftMatch[type].exec(expr))){var left=match[1];match.splice(1,1);if(left.substr(left.length-1)!=="\\"){match[1]=(match[1]||"").replace(/\\/g,"");set=Expr.find[type](match,context,isXML);if(set!=null){expr=expr.replace(Expr.match[type],"");break}}}}if(!set){set=context.getElementsByTagName("*")}return{set:set,expr:expr}};Sizzle.filter=function(expr,set,inplace,not){var old=expr,result=[],curLoop=set,match,anyFound,isXMLFilter=set&&set[0]&&isXML(set[0]);while(expr&&set.length){for(var type in Expr.filter){if((match=Expr.leftMatch[type].exec(expr))!=null&&match[2]){var filter=Expr.filter[type],found,item,left=match[1];anyFound=false;match.splice(1,1);if(left.substr(left.length-1)==="\\"){continue}if(curLoop===result){result=[]}if(Expr.preFilter[type]){match=Expr.preFilter[type](match,curLoop,inplace,result,not,isXMLFilter);if(!match){anyFound=found=true}else{if(match===true){continue}}}if(match){for(var i=0;(item=curLoop[i])!=null;i++){if(item){found=filter(item,match,i,curLoop);var pass=not^!!found;if(inplace&&found!=null){if(pass){anyFound=true}else{curLoop[i]=false}}else{if(pass){result.push(item);anyFound=true}}}}}if(found!==undefined){if(!inplace){curLoop=result}expr=expr.replace(Expr.match[type],"");if(!anyFound){return[]}break}}}if(expr===old){if(anyFound==null){Sizzle.error(expr)}else{break}}old=expr}return curLoop};Sizzle.error=function(msg){throw"Syntax error, unrecognized expression: "+msg};var Expr=Sizzle.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(elem){return elem.getAttribute("href")}},relative:{"+":function(checkSet,part){var isPartStr=typeof part==="string",isTag=isPartStr&&!/\W/.test(part),isPartStrNotTag=isPartStr&&!isTag;if(isTag){part=part.toLowerCase()}for(var i=0,l=checkSet.length,elem;i<l;i++){if((elem=checkSet[i])){while((elem=elem.previousSibling)&&elem.nodeType!==1){}checkSet[i]=isPartStrNotTag||elem&&elem.nodeName.toLowerCase()===part?elem||false:elem===part}}if(isPartStrNotTag){Sizzle.filter(part,checkSet,true)}},">":function(checkSet,part){var isPartStr=typeof part==="string";if(isPartStr&&!/\W/.test(part)){part=part.toLowerCase();for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var parent=elem.parentNode;checkSet[i]=parent.nodeName.toLowerCase()===part?parent:false}}}else{for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){checkSet[i]=isPartStr?elem.parentNode:elem.parentNode===part}}if(isPartStr){Sizzle.filter(part,checkSet,true)}}},"":function(checkSet,part,isXML){var doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!/\W/.test(part)){var nodeCheck=part=part.toLowerCase();checkFn=dirNodeCheck}checkFn("parentNode",part,doneName,checkSet,nodeCheck,isXML)},"~":function(checkSet,part,isXML){var doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!/\W/.test(part)){var nodeCheck=part=part.toLowerCase();checkFn=dirNodeCheck}checkFn("previousSibling",part,doneName,checkSet,nodeCheck,isXML)}},find:{ID:function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m?[m]:[]}},NAME:function(match,context){if(typeof context.getElementsByName!=="undefined"){var ret=[],results=context.getElementsByName(match[1]);for(var i=0,l=results.length;i<l;i++){if(results[i].getAttribute("name")===match[1]){ret.push(results[i])}}return ret.length===0?null:ret}},TAG:function(match,context){return context.getElementsByTagName(match[1])}},preFilter:{CLASS:function(match,curLoop,inplace,result,not,isXML){match=" "+match[1].replace(/\\/g,"")+" ";if(isXML){return match}for(var i=0,elem;(elem=curLoop[i])!=null;i++){if(elem){if(not^(elem.className&&(" "+elem.className+" ").replace(/[\t\n]/g," ").indexOf(match)>=0)){if(!inplace){result.push(elem)}}else{if(inplace){curLoop[i]=false}}}}return false},ID:function(match){return match[1].replace(/\\/g,"")},TAG:function(match,curLoop){return match[1].toLowerCase()},CHILD:function(match){if(match[1]==="nth"){var test=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(match[2]==="even"&&"2n"||match[2]==="odd"&&"2n+1"||!/\D/.test(match[2])&&"0n+"+match[2]||match[2]);match[2]=(test[1]+(test[2]||1))-0;match[3]=test[3]-0}match[0]=done++;return match},ATTR:function(match,curLoop,inplace,result,not,isXML){var name=match[1].replace(/\\/g,"");if(!isXML&&Expr.attrMap[name]){match[1]=Expr.attrMap[name]}if(match[2]==="~="){match[4]=" "+match[4]+" "}return match},PSEUDO:function(match,curLoop,inplace,result,not){if(match[1]==="not"){if((chunker.exec(match[3])||"").length>1||/^\w/.test(match[3])){match[3]=Sizzle(match[3],null,null,curLoop)}else{var ret=Sizzle.filter(match[3],curLoop,inplace,true^not);if(!inplace){result.push.apply(result,ret)}return false}}else{if(Expr.match.POS.test(match[0])||Expr.match.CHILD.test(match[0])){return true}}return match},POS:function(match){match.unshift(true);return match}},filters:{enabled:function(elem){return elem.disabled===false&&elem.type!=="hidden"},disabled:function(elem){return elem.disabled===true},checked:function(elem){return elem.checked===true},selected:function(elem){elem.parentNode.selectedIndex;return elem.selected===true},parent:function(elem){return !!elem.firstChild},empty:function(elem){return !elem.firstChild},has:function(elem,i,match){return !!Sizzle(match[3],elem).length},header:function(elem){return/h\d/i.test(elem.nodeName)},text:function(elem){return"text"===elem.type},radio:function(elem){return"radio"===elem.type},checkbox:function(elem){return"checkbox"===elem.type},file:function(elem){return"file"===elem.type},password:function(elem){return"password"===elem.type},submit:function(elem){return"submit"===elem.type},image:function(elem){return"image"===elem.type},reset:function(elem){return"reset"===elem.type},button:function(elem){return"button"===elem.type||elem.nodeName.toLowerCase()==="button"},input:function(elem){return/input|select|textarea|button/i.test(elem.nodeName)}},setFilters:{first:function(elem,i){return i===0},last:function(elem,i,match,array){return i===array.length-1},even:function(elem,i){return i%2===0},odd:function(elem,i){return i%2===1},lt:function(elem,i,match){return i<match[3]-0},gt:function(elem,i,match){return i>match[3]-0},nth:function(elem,i,match){return match[3]-0===i},eq:function(elem,i,match){return match[3]-0===i}},filter:{PSEUDO:function(elem,match,i,array){var name=match[1],filter=Expr.filters[name];if(filter){return filter(elem,i,match,array)}else{if(name==="contains"){return(elem.textContent||elem.innerText||getText([elem])||"").indexOf(match[3])>=0}else{if(name==="not"){var not=match[3];for(var i=0,l=not.length;i<l;i++){if(not[i]===elem){return false}}return true}else{Sizzle.error("Syntax error, unrecognized expression: "+name)}}}},CHILD:function(elem,match){var type=match[1],node=elem;switch(type){case"only":case"first":while((node=node.previousSibling)){if(node.nodeType===1){return false}}if(type==="first"){return true}node=elem;case"last":while((node=node.nextSibling)){if(node.nodeType===1){return false}}return true;case"nth":var first=match[2],last=match[3];if(first===1&&last===0){return true}var doneName=match[0],parent=elem.parentNode;if(parent&&(parent.sizcache!==doneName||!elem.nodeIndex)){var count=0;for(node=parent.firstChild;node;node=node.nextSibling){if(node.nodeType===1){node.nodeIndex=++count}}parent.sizcache=doneName}var diff=elem.nodeIndex-last;if(first===0){return diff===0}else{return(diff%first===0&&diff/first>=0)}}},ID:function(elem,match){return elem.nodeType===1&&elem.getAttribute("id")===match},TAG:function(elem,match){return(match==="*"&&elem.nodeType===1)||elem.nodeName.toLowerCase()===match},CLASS:function(elem,match){return(" "+(elem.className||elem.getAttribute("class"))+" ").indexOf(match)>-1},ATTR:function(elem,match){var name=match[1],result=Expr.attrHandle[name]?Expr.attrHandle[name](elem):elem[name]!=null?elem[name]:elem.getAttribute(name),value=result+"",type=match[2],check=match[4];return result==null?type==="!=":type==="="?value===check:type==="*="?value.indexOf(check)>=0:type==="~="?(" "+value+" ").indexOf(check)>=0:!check?value&&result!==false:type==="!="?value!==check:type==="^="?value.indexOf(check)===0:type==="$="?value.substr(value.length-check.length)===check:type==="|="?value===check||value.substr(0,check.length+1)===check+"-":false},POS:function(elem,match,i,array){var name=match[2],filter=Expr.setFilters[name];if(filter){return filter(elem,i,match,array)}}}};var origPOS=Expr.match.POS;for(var type in Expr.match){Expr.match[type]=new RegExp(Expr.match[type].source+/(?![^\[]*\])(?![^\(]*\))/.source);Expr.leftMatch[type]=new RegExp(/(^(?:.|\r|\n)*?)/.source+Expr.match[type].source.replace(/\\(\d+)/g,function(all,num){return"\\"+(num-0+1)}))}var makeArray=function(array,results){array=Array.prototype.slice.call(array,0);if(results){results.push.apply(results,array);return results}return array};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(e){makeArray=function(array,results){var ret=results||[];if(toString.call(array)==="[object Array]"){Array.prototype.push.apply(ret,array)}else{if(typeof array.length==="number"){for(var i=0,l=array.length;i<l;i++){ret.push(array[i])}}else{for(var i=0;array[i];i++){ret.push(array[i])}}}return ret}}var sortOrder;if(document.documentElement.compareDocumentPosition){sortOrder=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b){hasDuplicate=true}return a.compareDocumentPosition?-1:1}var ret=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(ret===0){hasDuplicate=true}return ret}}else{if("sourceIndex" in document.documentElement){sortOrder=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b){hasDuplicate=true}return a.sourceIndex?-1:1}var ret=a.sourceIndex-b.sourceIndex;if(ret===0){hasDuplicate=true}return ret}}else{if(document.createRange){sortOrder=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b){hasDuplicate=true}return a.ownerDocument?-1:1}var aRange=a.ownerDocument.createRange(),bRange=b.ownerDocument.createRange();aRange.setStart(a,0);aRange.setEnd(a,0);bRange.setStart(b,0);bRange.setEnd(b,0);var ret=aRange.compareBoundaryPoints(Range.START_TO_END,bRange);if(ret===0){hasDuplicate=true}return ret}}}}function getText(elems){var ret="",elem;for(var i=0;elems[i];i++){elem=elems[i];if(elem.nodeType===3||elem.nodeType===4){ret+=elem.nodeValue}else{if(elem.nodeType!==8){ret+=getText(elem.childNodes)}}}return ret}(function(){var form=document.createElement("div"),id="script"+(new Date).getTime();form.innerHTML="<a name='"+id+"'/>";var root=document.documentElement;root.insertBefore(form,root.firstChild);if(document.getElementById(id)){Expr.find.ID=function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m?m.id===match[1]||typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id").nodeValue===match[1]?[m]:undefined:[]}};Expr.filter.ID=function(elem,match){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return elem.nodeType===1&&node&&node.nodeValue===match}}root.removeChild(form);root=form=null})();(function(){var div=document.createElement("div");div.appendChild(document.createComment(""));if(div.getElementsByTagName("*").length>0){Expr.find.TAG=function(match,context){var results=context.getElementsByTagName(match[1]);if(match[1]==="*"){var tmp=[];for(var i=0;results[i];i++){if(results[i].nodeType===1){tmp.push(results[i])}}results=tmp}return results}}div.innerHTML="<a href='#'></a>";if(div.firstChild&&typeof div.firstChild.getAttribute!=="undefined"&&div.firstChild.getAttribute("href")!=="#"){Expr.attrHandle.href=function(elem){return elem.getAttribute("href",2)}}div=null})();if(document.querySelectorAll){(function(){var oldSizzle=Sizzle,div=document.createElement("div");div.innerHTML="<p class='TEST'></p>";if(div.querySelectorAll&&div.querySelectorAll(".TEST").length===0){return}Sizzle=function(query,context,extra,seed){context=context||document;if(!seed&&context.nodeType===9&&!isXML(context)){try{return makeArray(context.querySelectorAll(query),extra)}catch(e){}}return oldSizzle(query,context,extra,seed)};for(var prop in oldSizzle){Sizzle[prop]=oldSizzle[prop]}div=null})()}(function(){var div=document.createElement("div");div.innerHTML="<div class='test e'></div><div class='test'></div>";if(!div.getElementsByClassName||div.getElementsByClassName("e").length===0){return}div.lastChild.className="e";if(div.getElementsByClassName("e").length===1){return}Expr.order.splice(1,0,"CLASS");Expr.find.CLASS=function(match,context,isXML){if(typeof context.getElementsByClassName!=="undefined"&&!isXML){return context.getElementsByClassName(match[1])}};div=null})();function dirNodeCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){elem=elem[dir];var match=false;while(elem){if(elem.sizcache===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1&&!isXML){elem.sizcache=doneName;elem.sizset=i}if(elem.nodeName.toLowerCase()===cur){match=elem;break}elem=elem[dir]}checkSet[i]=match}}}function dirCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){elem=elem[dir];var match=false;while(elem){if(elem.sizcache===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1){if(!isXML){elem.sizcache=doneName;elem.sizset=i}if(typeof cur!=="string"){if(elem===cur){match=true;break}}else{if(Sizzle.filter(cur,[elem]).length>0){match=elem;break}}}elem=elem[dir]}checkSet[i]=match}}}var contains=document.compareDocumentPosition?function(a,b){return !!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};var isXML=function(elem){var documentElement=(elem?elem.ownerDocument||elem:0).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};var posProcess=function(selector,context){var tmpSet=[],later="",match,root=context.nodeType?[context]:context;while((match=Expr.match.PSEUDO.exec(selector))){later+=match[0];selector=selector.replace(Expr.match.PSEUDO,"")}selector=Expr.relative[selector]?selector+"*":selector;for(var i=0,l=root.length;i<l;i++){Sizzle(selector,root[i],tmpSet)}return Sizzle.filter(later,tmpSet)};jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.filters;jQuery.unique=Sizzle.uniqueSort;jQuery.text=getText;jQuery.isXMLDoc=isXML;jQuery.contains=contains;return;window.Sizzle=Sizzle})();var runtil=/Until$/,rparentsprev=/^(?:parents|prevUntil|prevAll)/,rmultiselector=/,/,slice=Array.prototype.slice;var winnow=function(elements,qualifier,keep){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return !!qualifier.call(elem,i,elem)===keep})}else{if(qualifier.nodeType){return jQuery.grep(elements,function(elem,i){return(elem===qualifier)===keep})}else{if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep)}else{qualifier=jQuery.filter(qualifier,filtered)}}}}return jQuery.grep(elements,function(elem,i){return(jQuery.inArray(elem,qualifier)>=0)===keep})};jQuery.fn.extend({find:function(selector){var ret=this.pushStack("","find",selector),length=0;for(var i=0,l=this.length;i<l;i++){length=ret.length;jQuery.find(selector,this[i],ret);if(i>0){for(var n=length;n<ret.length;n++){for(var r=0;r<length;r++){if(ret[r]===ret[n]){ret.splice(n--,1);break}}}}}return ret},has:function(target){var targets=jQuery(target);return this.filter(function(){for(var i=0,l=targets.length;i<l;i++){if(jQuery.contains(this,targets[i])){return true}}})},not:function(selector){return this.pushStack(winnow(this,selector,false),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,true),"filter",selector)},is:function(selector){return !!selector&&jQuery.filter(selector,this).length>0},closest:function(selectors,context){if(jQuery.isArray(selectors)){var ret=[],cur=this[0],match,matches={},selector;if(cur&&selectors.length){for(var i=0,l=selectors.length;i<l;i++){selector=selectors[i];if(!matches[selector]){matches[selector]=jQuery.expr.match.POS.test(selector)?jQuery(selector,context||this.context):selector}}while(cur&&cur.ownerDocument&&cur!==context){for(selector in matches){match=matches[selector];if(match.jquery?match.index(cur)>-1:jQuery(cur).is(match)){ret.push({selector:selector,elem:cur});delete matches[selector]}}cur=cur.parentNode}}return ret}var pos=jQuery.expr.match.POS.test(selectors)?jQuery(selectors,context||this.context):null;return this.map(function(i,cur){while(cur&&cur.ownerDocument&&cur!==context){if(pos?pos.index(cur)>-1:jQuery(cur).is(selectors)){return cur}cur=cur.parentNode}return null})},index:function(elem){if(!elem||typeof elem==="string"){return jQuery.inArray(this[0],elem?jQuery(elem):this.parent().children())}return jQuery.inArray(elem.jquery?elem[0]:elem,this)},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context||this.context):jQuery.makeArray(selector),all=jQuery.merge(this.get(),set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all))},andSelf:function(){return this.add(this.prevObject)}});function isDisconnected(node){return !node||!node.parentNode||node.parentNode.nodeType===11}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return jQuery.nth(elem,2,"nextSibling")},prev:function(elem){return jQuery.nth(elem,2,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name)){selector=until}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret)}ret=this.length>1?jQuery.unique(ret):ret;if((this.length>1||rmultiselector.test(selector))&&rparentsprev.test(name)){ret=ret.reverse()}return this.pushStack(ret,name,slice.call(arguments).join(","))}});jQuery.extend({filter:function(expr,elems,not){if(not){expr=":not("+expr+")"}return jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur)}cur=cur[dir]}return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType===1&&++num===result){break}}return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n)}}return r}});var rinlinejQuery=/ jQuery\d+="(?:\d+|null)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/(<([\w:]+)[^>]*?)\/>/g,rselfClosing=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnocache=/<script|<object|<embed|<option|<style/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,fcloseTag=function(all,front,tag){return rselfClosing.test(tag)?all:front+"></"+tag+">"},wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!jQuery.support.htmlSerialize){wrapMap._default=[1,"div<div>","</div>"]}jQuery.fn.extend({text:function(text){if(jQuery.isFunction(text)){return this.each(function(i){var self=jQuery(this);self.text(text.call(this,i,self.text()))})}if(typeof text!=="object"&&text!==undefined){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(text))}return jQuery.text(this)},wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){return this.each(function(){jQuery(this).wrapAll(html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.insertBefore(elem,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this)})}else{if(arguments.length){var set=jQuery(arguments[0]);set.push.apply(set,this.toArray());return this.pushStack(set,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})}else{if(arguments.length){var set=this.pushStack(this,"after",arguments);set.push.apply(set,jQuery(arguments[0]).toArray());return set}}},remove:function(selector,keepData){for(var i=0,elem;(elem=this[i])!=null;i++){if(!selector||jQuery.filter(selector,[elem]).length){if(!keepData&&elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));jQuery.cleanData([elem])}if(elem.parentNode){elem.parentNode.removeChild(elem)}}}return this},empty:function(){for(var i=0,elem;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"))}while(elem.firstChild){elem.removeChild(elem.firstChild)}}return this},clone:function(events){var ret=this.map(function(){if(!jQuery.support.noCloneEvent&&!jQuery.isXMLDoc(this)){var html=this.outerHTML,ownerDocument=this.ownerDocument;if(!html){var div=ownerDocument.createElement("div");div.appendChild(this.cloneNode(true));html=div.innerHTML}return jQuery.clean([html.replace(rinlinejQuery,"").replace(/=([^="'>\s]+\/)>/g,'="$1">').replace(rleadingWhitespace,"")],ownerDocument)[0]}else{return this.cloneNode(true)}});if(events===true){cloneCopyEvent(this,ret);cloneCopyEvent(this.find("*"),ret.find("*"))}return ret},html:function(value){if(value===undefined){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(rinlinejQuery,""):null}else{if(typeof value==="string"&&!rnocache.test(value)&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,fcloseTag);try{for(var i=0,l=this.length;i<l;i++){if(this[i].nodeType===1){jQuery.cleanData(this[i].getElementsByTagName("*"));this[i].innerHTML=value}}}catch(e){this.empty().append(value)}}else{if(jQuery.isFunction(value)){this.each(function(i){var self=jQuery(this),old=self.html();self.empty().append(function(){return value.call(this,i,old)})})}else{this.empty().append(value)}}}return this},replaceWith:function(value){if(this[0]&&this[0].parentNode){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old))})}if(typeof value!=="string"){value=jQuery(value).detach()}return this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove();if(next){jQuery(next).before(value)}else{jQuery(parent).append(value)}})}else{return this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value)}},detach:function(selector){return this.remove(selector,true)},domManip:function(args,table,callback){var results,first,value=args[0],scripts=[],fragment,parent;if(!jQuery.support.checkClone&&arguments.length===3&&typeof value==="string"&&rchecked.test(value)){return this.each(function(){jQuery(this).domManip(args,table,callback,true)})}if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined);self.domManip(args,table,callback)})}if(this[0]){parent=value&&value.parentNode;if(jQuery.support.parentNode&&parent&&parent.nodeType===11&&parent.childNodes.length===this.length){results={fragment:parent}}else{results=buildFragment(args,this,scripts)}fragment=results.fragment;if(fragment.childNodes.length===1){first=fragment=fragment.firstChild}else{first=fragment.firstChild}if(first){table=table&&jQuery.nodeName(first,"tr");for(var i=0,l=this.length;i<l;i++){callback.call(table?root(this[i],first):this[i],i>0||results.cacheable||this.length>1?fragment.cloneNode(true):fragment)}}if(scripts.length){jQuery.each(scripts,evalScript)}}return this;function root(elem,cur){return jQuery.nodeName(elem,"table")?(elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody"))):elem}}});function cloneCopyEvent(orig,ret){var i=0;ret.each(function(){if(this.nodeName!==(orig[i]&&orig[i].nodeName)){return}var oldData=jQuery.data(orig[i++]),curData=jQuery.data(this,oldData),events=oldData&&oldData.events;if(events){delete curData.handle;curData.events={};for(var type in events){for(var handler in events[type]){jQuery.event.add(this,type,events[type][handler],events[type][handler].data)}}}})}function buildFragment(args,nodes,scripts){var fragment,cacheable,cacheresults,doc=(nodes&&nodes[0]?nodes[0].ownerDocument||nodes[0]:document);if(args.length===1&&typeof args[0]==="string"&&args[0].length<512&&doc===document&&!rnocache.test(args[0])&&(jQuery.support.checkClone||!rchecked.test(args[0]))){cacheable=true;cacheresults=jQuery.fragments[args[0]];if(cacheresults){if(cacheresults!==1){fragment=cacheresults}}}if(!fragment){fragment=doc.createDocumentFragment();jQuery.clean(args,doc,fragment,scripts)}if(cacheable){jQuery.fragments[args[0]]=cacheresults?fragment:1}return{fragment:fragment,cacheable:cacheable}}jQuery.fragments={};jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var ret=[],insert=jQuery(selector),parent=this.length===1&&this[0].parentNode;if(parent&&parent.nodeType===11&&parent.childNodes.length===1&&insert.length===1){insert[original](this[0]);return this}else{for(var i=0,l=insert.length;i<l;i++){var elems=(i>0?this.clone(true):this).get();jQuery.fn[original].apply(jQuery(insert[i]),elems);ret=ret.concat(elems)}return this.pushStack(ret,name,insert.selector)}}});jQuery.extend({clean:function(elems,context,fragment,scripts){context=context||document;if(typeof context.createElement==="undefined"){context=context.ownerDocument||context[0]&&context[0].ownerDocument||document}var ret=[];for(var i=0,elem;(elem=elems[i])!=null;i++){if(typeof elem==="number"){elem+=""}if(!elem){continue}if(typeof elem==="string"&&!rhtml.test(elem)){elem=context.createTextNode(elem)}else{if(typeof elem==="string"){elem=elem.replace(rxhtmlTag,fcloseTag);var tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,depth=wrap[0],div=context.createElement("div");div.innerHTML=wrap[1]+elem+wrap[2];while(depth--){div=div.lastChild}if(!jQuery.support.tbody){var hasBody=rtbody.test(elem),tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]==="<table>"&&!hasBody?div.childNodes:[];for(var j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j])}}}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild)}elem=div.childNodes}}if(elem.nodeType){ret.push(elem)}else{ret=jQuery.merge(ret,elem)}}if(fragment){for(var i=0;ret[i];i++){if(scripts&&jQuery.nodeName(ret[i],"script")&&(!ret[i].type||ret[i].type.toLowerCase()==="text/javascript")){scripts.push(ret[i].parentNode?ret[i].parentNode.removeChild(ret[i]):ret[i])}else{if(ret[i].nodeType===1){ret.splice.apply(ret,[i+1,0].concat(jQuery.makeArray(ret[i].getElementsByTagName("script"))))}fragment.appendChild(ret[i])}}}return ret},cleanData:function(elems){var data,id,cache=jQuery.cache,special=jQuery.event.special,deleteExpando=jQuery.support.deleteExpando;for(var i=0,elem;(elem=elems[i])!=null;i++){id=elem[jQuery.expando];if(id){data=cache[id];if(data.events){for(var type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{removeEvent(elem,type,data.handle)}}}if(deleteExpando){delete elem[jQuery.expando]}else{if(elem.removeAttribute){elem.removeAttribute(jQuery.expando)}}delete cache[id]}}}});var rexclude=/z-?index|font-?weight|opacity|zoom|line-?height/i,ralpha=/alpha\([^)]*\)/,ropacity=/opacity=([^)]*)/,rfloat=/float/i,rdashAlpha=/-([a-z])/ig,rupper=/([A-Z])/g,rnumpx=/^-?\d+(?:px)?$/i,rnum=/^-?\d/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssWidth=["Left","Right"],cssHeight=["Top","Bottom"],getComputedStyle=document.defaultView&&document.defaultView.getComputedStyle,styleFloat=jQuery.support.cssFloat?"cssFloat":"styleFloat",fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn.css=function(name,value){return access(this,name,value,true,function(elem,name,value){if(value===undefined){return jQuery.curCSS(elem,name)}if(typeof value==="number"&&!rexclude.test(name)){value+="px"}jQuery.style(elem,name,value)})};jQuery.extend({style:function(elem,name,value){if(!elem||elem.nodeType===3||elem.nodeType===8){return undefined}if((name==="width"||name==="height")&&parseFloat(value)<0){value=undefined}var style=elem.style||elem,set=value!==undefined;if(!jQuery.support.opacity&&name==="opacity"){if(set){style.zoom=1;var opacity=parseInt(value,10)+""==="NaN"?"":"alpha(opacity="+value*100+")";var filter=style.filter||jQuery.curCSS(elem,"filter")||"";style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):opacity}return style.filter&&style.filter.indexOf("opacity=")>=0?(parseFloat(ropacity.exec(style.filter)[1])/100)+"":""}if(rfloat.test(name)){name=styleFloat}name=name.replace(rdashAlpha,fcamelCase);if(set){style[name]=value}return style[name]},css:function(elem,name,force,extra){if(name==="width"||name==="height"){var val,props=cssShow,which=name==="width"?cssWidth:cssHeight;function getWH(){val=name==="width"?elem.offsetWidth:elem.offsetHeight;if(extra==="border"){return}jQuery.each(which,function(){if(!extra){val-=parseFloat(jQuery.curCSS(elem,"padding"+this,true))||0}if(extra==="margin"){val+=parseFloat(jQuery.curCSS(elem,"margin"+this,true))||0}else{val-=parseFloat(jQuery.curCSS(elem,"border"+this+"Width",true))||0}})}if(elem.offsetWidth!==0){getWH()}else{jQuery.swap(elem,props,getWH)}return Math.max(0,Math.round(val))}return jQuery.curCSS(elem,name,force)},curCSS:function(elem,name,force){var ret,style=elem.style,filter;if(!jQuery.support.opacity&&name==="opacity"&&elem.currentStyle){ret=ropacity.test(elem.currentStyle.filter||"")?(parseFloat(RegExp.$1)/100)+"":"";return ret===""?"1":ret}if(rfloat.test(name)){name=styleFloat}if(!force&&style&&style[name]){ret=style[name]}else{if(getComputedStyle){if(rfloat.test(name)){name="float"}name=name.replace(rupper,"-$1").toLowerCase();var defaultView=elem.ownerDocument.defaultView;if(!defaultView){return null}var computedStyle=defaultView.getComputedStyle(elem,null);if(computedStyle){ret=computedStyle.getPropertyValue(name)}if(name==="opacity"&&ret===""){ret="1"}}else{if(elem.currentStyle){var camelCase=name.replace(rdashAlpha,fcamelCase);ret=elem.currentStyle[name]||elem.currentStyle[camelCase];if(!rnumpx.test(ret)&&rnum.test(ret)){var left=style.left,rsLeft=elem.runtimeStyle.left;elem.runtimeStyle.left=elem.currentStyle.left;style.left=camelCase==="fontSize"?"1em":(ret||0);ret=style.pixelLeft+"px";style.left=left;elem.runtimeStyle.left=rsLeft}}}}return ret},swap:function(elem,options,callback){var old={};for(var name in options){old[name]=elem.style[name];elem.style[name]=options[name]}callback.call(elem);for(var name in options){elem.style[name]=old[name]}}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){var width=elem.offsetWidth,height=elem.offsetHeight,skip=elem.nodeName.toLowerCase()==="tr";return width===0&&height===0&&!skip?true:width>0&&height>0&&!skip?false:jQuery.curCSS(elem,"display")==="none"};jQuery.expr.filters.visible=function(elem){return !jQuery.expr.filters.hidden(elem)}}var jsc=now(),rscript=/<script(.|\s)*?\/script>/gi,rselectTextarea=/select|textarea/i,rinput=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,jsre=/=\?(&|$)/,rquery=/\?/,rts=/(\?|&)_=.*?(&|$)/,rurl=/^(\w+:)?\/\/([^\/?#]+)/,r20=/%20/g,_load=jQuery.fn.load;jQuery.fn.extend({load:function(url,params,callback){if(typeof url!=="string"){return _load.call(this,url)}else{if(!this.length){return this}}var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=null}else{if(typeof params==="object"){params=jQuery.param(params,jQuery.ajaxSettings.traditional);type="POST"}}}var self=this;jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(res,status){if(status==="success"||status==="notmodified"){self.html(selector?jQuery("<div />").append(res.responseText.replace(rscript,"")).find(selector):res.responseText)}if(callback){self.each(callback,[res.responseText,status,res])}}});return this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val}}):{name:elem.name,value:val}}).get()}});jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f)}});jQuery.extend({get:function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=null}return jQuery.ajax({type:"GET",url:url,data:data,success:callback,dataType:type})},getScript:function(url,callback){return jQuery.get(url,null,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},post:function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data={}}return jQuery.ajax({type:"POST",url:url,data:data,success:callback,dataType:type})},ajaxSetup:function(settings){jQuery.extend(jQuery.ajaxSettings,settings)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:window.XMLHttpRequest&&!window.ActiveXObject?function(){return new window.XMLHttpRequest()}:function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(origSettings){var s=jQuery.extend(true,{},jQuery.ajaxSettings,origSettings);var jsonp,status,data,callbackContext=origSettings&&origSettings.context||s,type=s.type.toUpperCase();if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}if(s.dataType==="jsonp"){if(type==="GET"){if(!jsre.test(s.url)){s.url+=(rquery.test(s.url)?"&":"?")+(s.jsonp||"callback")+"=?"}}else{if(!s.data||!jsre.test(s.data)){s.data=(s.data?s.data+"&":"")+(s.jsonp||"callback")+"=?"}}s.dataType="json"}if(s.dataType==="json"&&(s.data&&jsre.test(s.data)||jsre.test(s.url))){jsonp=s.jsonpCallback||("jsonp"+jsc++);if(s.data){s.data=(s.data+"").replace(jsre,"="+jsonp+"$1")}s.url=s.url.replace(jsre,"="+jsonp+"$1");s.dataType="script";window[jsonp]=window[jsonp]||function(tmp){data=tmp;success();complete();window[jsonp]=undefined;try{delete window[jsonp]}catch(e){}if(head){head.removeChild(script)}}}if(s.dataType==="script"&&s.cache===null){s.cache=false}if(s.cache===false&&type==="GET"){var ts=now();var ret=s.url.replace(rts,"$1_="+ts+"$2");s.url=ret+((ret===s.url)?(rquery.test(s.url)?"&":"?")+"_="+ts:"")}if(s.data&&type==="GET"){s.url+=(rquery.test(s.url)?"&":"?")+s.data}if(s.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var parts=rurl.exec(s.url),remote=parts&&(parts[1]&&parts[1]!==location.protocol||parts[2]!==location.host);if(s.dataType==="script"&&type==="GET"&&remote){var head=document.getElementsByTagName("head")[0]||document.documentElement;var script=document.createElement("script");script.src=s.url;if(s.scriptCharset){script.charset=s.scriptCharset}if(!jsonp){var done=false;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){done=true;success();complete();script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script)}}}}head.insertBefore(script,head.firstChild);return undefined}var requestDone=false;var xhr=s.xhr();if(!xhr){return}if(s.username){xhr.open(type,s.url,s.async,s.username,s.password)}else{xhr.open(type,s.url,s.async)}try{if(s.data||origSettings&&origSettings.contentType){xhr.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){if(jQuery.lastModified[s.url]){xhr.setRequestHeader("If-Modified-Since",jQuery.lastModified[s.url])}if(jQuery.etag[s.url]){xhr.setRequestHeader("If-None-Match",jQuery.etag[s.url])}}if(!remote){xhr.setRequestHeader("X-Requested-With","XMLHttpRequest")}xhr.setRequestHeader("Accept",s.dataType&&s.accepts[s.dataType]?s.accepts[s.dataType]+", */*":s.accepts._default)}catch(e){}if(s.beforeSend&&s.beforeSend.call(callbackContext,xhr,s)===false){if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}xhr.abort();return false}if(s.global){trigger("ajaxSend",[xhr,s])}var onreadystatechange=xhr.onreadystatechange=function(isTimeout){if(!xhr||xhr.readyState===0||isTimeout==="abort"){if(!requestDone){complete()}requestDone=true;if(xhr){xhr.onreadystatechange=jQuery.noop}}else{if(!requestDone&&xhr&&(xhr.readyState===4||isTimeout==="timeout")){requestDone=true;xhr.onreadystatechange=jQuery.noop;status=isTimeout==="timeout"?"timeout":!jQuery.httpSuccess(xhr)?"error":s.ifModified&&jQuery.httpNotModified(xhr,s.url)?"notmodified":"success";var errMsg;if(status==="success"){try{data=jQuery.httpData(xhr,s.dataType,s)}catch(err){status="parsererror";errMsg=err}}if(status==="success"||status==="notmodified"){if(!jsonp){success()}}else{jQuery.handleError(s,xhr,status,errMsg)}complete();if(isTimeout==="timeout"){xhr.abort()}if(s.async){xhr=null}}}};try{var oldAbort=xhr.abort;xhr.abort=function(){if(xhr){oldAbort.call(xhr)}onreadystatechange("abort")}}catch(e){}if(s.async&&s.timeout>0){setTimeout(function(){if(xhr&&!requestDone){onreadystatechange("timeout")}},s.timeout)}try{xhr.send(type==="POST"||type==="PUT"||type==="DELETE"?s.data:null)}catch(e){jQuery.handleError(s,xhr,null,e);complete()}if(!s.async){onreadystatechange()}function success(){if(s.success){s.success.call(callbackContext,data,status,xhr)}if(s.global){trigger("ajaxSuccess",[xhr,s])}}function complete(){if(s.complete){s.complete.call(callbackContext,xhr,status)}if(s.global){trigger("ajaxComplete",[xhr,s])}if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}}function trigger(type,args){(s.context?jQuery(s.context):jQuery.event).trigger(type,args)}return xhr},handleError:function(s,xhr,status,e){if(s.error){s.error.call(s.context||s,xhr,status,e)}if(s.global){(s.context?jQuery(s.context):jQuery.event).trigger("ajaxError",[xhr,s,e])}},active:0,httpSuccess:function(xhr){try{return !xhr.status&&location.protocol==="file:"||(xhr.status>=200&&xhr.status<300)||xhr.status===304||xhr.status===1223||xhr.status===0}catch(e){}return false},httpNotModified:function(xhr,url){var lastModified=xhr.getResponseHeader("Last-Modified"),etag=xhr.getResponseHeader("Etag");if(lastModified){jQuery.lastModified[url]=lastModified}if(etag){jQuery.etag[url]=etag}return xhr.status===304||xhr.status===0},httpData:function(xhr,type,s){var ct=xhr.getResponseHeader("content-type")||"",xml=type==="xml"||!type&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.nodeName==="parsererror"){jQuery.error("parsererror")}if(s&&s.dataFilter){data=s.dataFilter(data,type)}if(typeof data==="string"){if(type==="json"||!type&&ct.indexOf("json")>=0){data=jQuery.parseJSON(data)}else{if(type==="script"||!type&&ct.indexOf("javascript")>=0){jQuery.globalEval(data)}}}return data},param:function(a,traditional){var s=[];if(traditional===undefined){traditional=jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||a.jquery){jQuery.each(a,function(){add(this.name,this.value)})}else{for(var prefix in a){buildParams(prefix,a[prefix])}}return s.join("&").replace(r20,"+");function buildParams(prefix,obj){if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||/\[\]$/.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"||jQuery.isArray(v)?i:"")+"]",v)}})}else{if(!traditional&&obj!=null&&typeof obj==="object"){jQuery.each(obj,function(k,v){buildParams(prefix+"["+k+"]",v)})}else{add(prefix,obj)}}}function add(key,value){value=jQuery.isFunction(value)?value():value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)}}});var elemdisplay={},rfxtypes=/toggle|show|hide/,rfxnum=/^([+-]=)?([\d+-.]+)(.*)$/,timerId,fxAttrs=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];jQuery.fn.extend({show:function(speed,callback){if(speed||speed===0){return this.animate(genFx("show",3),speed,callback)}else{for(var i=0,l=this.length;i<l;i++){var old=jQuery.data(this[i],"olddisplay");this[i].style.display=old||"";if(jQuery.css(this[i],"display")==="none"){var nodeName=this[i].nodeName,display;if(elemdisplay[nodeName]){display=elemdisplay[nodeName]}else{var elem=jQuery("<"+nodeName+" />").appendTo("body");display=elem.css("display");if(display==="none"){display="block"}elem.remove();elemdisplay[nodeName]=display}jQuery.data(this[i],"olddisplay",display)}}for(var j=0,k=this.length;j<k;j++){this[j].style.display=jQuery.data(this[j],"olddisplay")||""}return this}},hide:function(speed,callback){if(speed||speed===0){return this.animate(genFx("hide",3),speed,callback)}else{for(var i=0,l=this.length;i<l;i++){var old=jQuery.data(this[i],"olddisplay");if(!old&&old!=="none"){jQuery.data(this[i],"olddisplay",jQuery.css(this[i],"display"))}}for(var j=0,k=this.length;j<k;j++){this[j].style.display="none"}return this}},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2){var bool=typeof fn==="boolean";if(jQuery.isFunction(fn)&&jQuery.isFunction(fn2)){this._toggle.apply(this,arguments)}else{if(fn==null||bool){this.each(function(){var state=bool?fn:jQuery(this).is(":hidden");jQuery(this)[state?"show":"hide"]()})}else{this.animate(genFx("toggle",3),fn,fn2)}}return this},fadeTo:function(speed,to,callback){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:to},speed,callback)},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);if(jQuery.isEmptyObject(prop)){return this.each(optall.complete)}return this[optall.queue===false?"each":"queue"](function(){var opt=jQuery.extend({},optall),p,hidden=this.nodeType===1&&jQuery(this).is(":hidden"),self=this;for(p in prop){var name=p.replace(rdashAlpha,fcamelCase);if(p!==name){prop[name]=prop[p];delete prop[p];p=name}if(prop[p]==="hide"&&hidden||prop[p]==="show"&&!hidden){return opt.complete.call(this)}if((p==="height"||p==="width")&&this.style){opt.display=jQuery.css(this,"display");opt.overflow=this.style.overflow}if(jQuery.isArray(prop[p])){(opt.specialEasing=opt.specialEasing||{})[p]=prop[p][1];prop[p]=prop[p][0]}}if(opt.overflow!=null){this.style.overflow="hidden"}opt.curAnim=jQuery.extend({},prop);jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);if(rfxtypes.test(val)){e[val==="toggle"?hidden?"show":"hide":val](prop)}else{var parts=rfxnum.exec(val),start=e.cur(true)||0;if(parts){var end=parseFloat(parts[2]),unit=parts[3]||"px";if(unit!=="px"){self.style[name]=(end||1)+unit;start=((end||1)/e.cur(true))*start;self.style[name]=start+unit}if(parts[1]){end=((parts[1]==="-="?-1:1)*end)+start}e.custom(start,end,unit)}else{e.custom(start,val,"")}}});return true})},stop:function(clearQueue,gotoEnd){var timers=jQuery.timers;if(clearQueue){this.queue([])}this.each(function(){for(var i=timers.length-1;i>=0;i--){if(timers[i].elem===this){if(gotoEnd){timers[i](true)}timers.splice(i,1)}}});if(!gotoEnd){this.dequeue()}return this}});jQuery.each({slideDown:genFx("show",1),slideUp:genFx("hide",1),slideToggle:genFx("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(name,props){jQuery.fn[name]=function(speed,callback){return this.animate(props,speed,callback)}});jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&typeof speed==="object"?speed:{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:jQuery.fx.speeds[opt.duration]||jQuery.fx.speeds._default;opt.old=opt.complete;opt.complete=function(){if(opt.queue!==false){jQuery(this).dequeue()}if(jQuery.isFunction(opt.old)){opt.old.call(this)}};return opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum}},timers:[],fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;if(!options.orig){options.orig={}}}});jQuery.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style){this.elem.style.display="block"}},cur:function(force){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var r=parseFloat(jQuery.css(this.elem,this.prop,force));return r&&r>-10000?r:parseFloat(jQuery.curCSS(this.elem,this.prop))||0},custom:function(from,to,unit){this.startTime=now();this.start=from;this.end=to;this.unit=unit||this.unit||"px";this.now=this.start;this.pos=this.state=0;var self=this;function t(gotoEnd){return self.step(gotoEnd)}t.elem=this.elem;if(t()&&jQuery.timers.push(t)&&!timerId){timerId=setInterval(jQuery.fx.tick,13)}},show:function(){this.options.orig[this.prop]=jQuery.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(gotoEnd){var t=now(),done=true;if(gotoEnd||t>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var i in this.options.curAnim){if(this.options.curAnim[i]!==true){done=false}}if(done){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;var old=jQuery.data(this.elem,"olddisplay");this.elem.style.display=old?old:this.options.display;if(jQuery.css(this.elem,"display")==="none"){this.elem.style.display="block"}}if(this.options.hide){jQuery(this.elem).hide()}if(this.options.hide||this.options.show){for(var p in this.options.curAnim){jQuery.style(this.elem,p,this.options.orig[p])}}this.options.complete.call(this.elem)}return false}else{var n=t-this.startTime;this.state=n/this.options.duration;var specialEasing=this.options.specialEasing&&this.options.specialEasing[this.prop];var defaultEasing=this.options.easing||(jQuery.easing.swing?"swing":"linear");this.pos=jQuery.easing[specialEasing||defaultEasing](this.state,n,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};jQuery.extend(jQuery.fx,{tick:function(){var timers=jQuery.timers;for(var i=0;i<timers.length;i++){if(!timers[i]()){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}},stop:function(){clearInterval(timerId);timerId=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(fx){jQuery.style(fx.elem,"opacity",fx.now)},_default:function(fx){if(fx.elem.style&&fx.elem.style[fx.prop]!=null){fx.elem.style[fx.prop]=(fx.prop==="width"||fx.prop==="height"?Math.max(0,fx.now):fx.now)+fx.unit}else{fx.elem[fx.prop]=fx.now}}}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length}}function genFx(type,num){var obj={};jQuery.each(fxAttrs.concat.apply([],fxAttrs.slice(0,num)),function(){obj[this]=type});return obj}if("getBoundingClientRect" in document.documentElement){jQuery.fn.offset=function(options){var elem=this[0];if(options){return this.each(function(i){jQuery.offset.setOffset(this,options,i)})}if(!elem||!elem.ownerDocument){return null}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}var box=elem.getBoundingClientRect(),doc=elem.ownerDocument,body=doc.body,docElem=doc.documentElement,clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,top=box.top+(self.pageYOffset||jQuery.support.boxModel&&docElem.scrollTop||body.scrollTop)-clientTop,left=box.left+(self.pageXOffset||jQuery.support.boxModel&&docElem.scrollLeft||body.scrollLeft)-clientLeft;return{top:top,left:left}}}else{jQuery.fn.offset=function(options){var elem=this[0];if(options){return this.each(function(i){jQuery.offset.setOffset(this,options,i)})}if(!elem||!elem.ownerDocument){return null}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}jQuery.offset.initialize();var offsetParent=elem.offsetParent,prevOffsetParent=elem,doc=elem.ownerDocument,computedStyle,docElem=doc.documentElement,body=doc.body,defaultView=doc.defaultView,prevComputedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top=elem.offsetTop,left=elem.offsetLeft;while((elem=elem.parentNode)&&elem!==body&&elem!==docElem){if(jQuery.offset.supportsFixedPosition&&prevComputedStyle.position==="fixed"){break}computedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle;top-=elem.scrollTop;left-=elem.scrollLeft;if(elem===offsetParent){top+=elem.offsetTop;left+=elem.offsetLeft;if(jQuery.offset.doesNotAddBorder&&!(jQuery.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(elem.nodeName))){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevOffsetParent=offsetParent,offsetParent=elem.offsetParent}if(jQuery.offset.subtractsBorderForOverflowNotVisible&&computedStyle.overflow!=="visible"){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevComputedStyle=computedStyle}if(prevComputedStyle.position==="relative"||prevComputedStyle.position==="static"){top+=body.offsetTop;left+=body.offsetLeft}if(jQuery.offset.supportsFixedPosition&&prevComputedStyle.position==="fixed"){top+=Math.max(docElem.scrollTop,body.scrollTop);left+=Math.max(docElem.scrollLeft,body.scrollLeft)}return{top:top,left:left}}}jQuery.offset={initialize:function(){var body=document.body,container=document.createElement("div"),innerDiv,checkDiv,table,td,bodyMarginTop=parseFloat(jQuery.curCSS(body,"marginTop",true))||0,html="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";jQuery.extend(container.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});container.innerHTML=html;body.insertBefore(container,body.firstChild);innerDiv=container.firstChild;checkDiv=innerDiv.firstChild;td=innerDiv.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(checkDiv.offsetTop!==5);this.doesAddBorderForTableAndCells=(td.offsetTop===5);checkDiv.style.position="fixed",checkDiv.style.top="20px";this.supportsFixedPosition=(checkDiv.offsetTop===20||checkDiv.offsetTop===15);checkDiv.style.position=checkDiv.style.top="";innerDiv.style.overflow="hidden",innerDiv.style.position="relative";this.subtractsBorderForOverflowNotVisible=(checkDiv.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(body.offsetTop!==bodyMarginTop);body.removeChild(container);body=container=innerDiv=checkDiv=table=td=null;jQuery.offset.initialize=jQuery.noop},bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;jQuery.offset.initialize();if(jQuery.offset.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.curCSS(body,"marginTop",true))||0;left+=parseFloat(jQuery.curCSS(body,"marginLeft",true))||0}return{top:top,left:left}},setOffset:function(elem,options,i){if(/static/.test(jQuery.curCSS(elem,"position"))){elem.style.position="relative"}var curElem=jQuery(elem),curOffset=curElem.offset(),curTop=parseInt(jQuery.curCSS(elem,"top",true),10)||0,curLeft=parseInt(jQuery.curCSS(elem,"left",true),10)||0;if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}var props={top:(options.top-curOffset.top)+curTop,left:(options.left-curOffset.left)+curLeft};if("using" in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({position:function(){if(!this[0]){return null}var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=/^body|html$/i.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat(jQuery.curCSS(elem,"marginTop",true))||0;offset.left-=parseFloat(jQuery.curCSS(elem,"marginLeft",true))||0;parentOffset.top+=parseFloat(jQuery.curCSS(offsetParent[0],"borderTopWidth",true))||0;parentOffset.left+=parseFloat(jQuery.curCSS(offsetParent[0],"borderLeftWidth",true))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&(!/^body|html$/i.test(offsetParent.nodeName)&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent})}});jQuery.each(["Left","Top"],function(i,name){var method="scroll"+name;jQuery.fn[method]=function(val){var elem=this[0],win;if(!elem){return null}if(val!==undefined){return this.each(function(){win=getWindow(this);if(win){win.scrollTo(!i?val:jQuery(win).scrollLeft(),i?val:jQuery(win).scrollTop())}else{this[method]=val}})}else{win=getWindow(elem);return win?("pageXOffset" in win)?win[i?"pageYOffset":"pageXOffset"]:jQuery.support.boxModel&&win.document.documentElement[method]||win.document.body[method]:elem[method]}}});function getWindow(elem){return("scrollTo" in elem&&elem.document)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false}jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();jQuery.fn["inner"+name]=function(){return this[0]?jQuery.css(this[0],type,false,"padding"):null};jQuery.fn["outer"+name]=function(margin){return this[0]?jQuery.css(this[0],type,false,margin?"margin":"border"):null};jQuery.fn[type]=function(size){var elem=this[0];if(!elem){return size==null?null:this}if(jQuery.isFunction(size)){return this.each(function(i){var self=jQuery(this);self[type](size.call(this,i,self[type]()))})}return("scrollTo" in elem&&elem.document)?elem.document.compatMode==="CSS1Compat"&&elem.document.documentElement["client"+name]||elem.document.body["client"+name]:(elem.nodeType===9)?Math.max(elem.documentElement["client"+name],elem.body["scroll"+name],elem.documentElement["scroll"+name],elem.body["offset"+name],elem.documentElement["offset"+name]):size===undefined?jQuery.css(elem,type):this.css(type,typeof size==="string"?size:size+"px")}});window.jQuery=window.$=jQuery})(window);/*!
 * jQuery UI Widget 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(b,j){if(b.cleanData){var k=b.cleanData;b.cleanData=function(a){for(var c=0,d;(d=a[c])!=null;c++){try{b(d).triggerHandler("remove")}catch(e){}}k(a)}}else{var l=b.fn.remove;b.fn.remove=function(a,c){return this.each(function(){if(!c){if(!a||b.filter(a,[this]).length){b("*",this).add([this]).each(function(){try{b(this).triggerHandler("remove")}catch(d){}})}}return l.call(b(this),a,c)})}}b.widget=function(a,c,d){var e=a.split(".")[0],f;a=a.split(".")[1];f=e+"-"+a;if(!d){d=c;c=b.Widget}b.expr[":"][f]=function(h){return !!b.data(h,a)};b[e]=b[e]||{};b[e][a]=function(h,g){arguments.length&&this._createWidget(h,g)};c=new c;c.options=b.extend(true,{},c.options);b[e][a].prototype=b.extend(true,c,{namespace:e,widgetName:a,widgetEventPrefix:b[e][a].prototype.widgetEventPrefix||a,widgetBaseClass:f},d);b.widget.bridge(a,b[e][a])};b.widget.bridge=function(a,c){b.fn[a]=function(d){var e=typeof d==="string",f=Array.prototype.slice.call(arguments,1),h=this;d=!e&&f.length?b.extend.apply(null,[true,d].concat(f)):d;if(e&&d.charAt(0)==="_"){return h}e?this.each(function(){var g=b.data(this,a),i=g&&b.isFunction(g[d])?g[d].apply(g,f):g;if(i!==g&&i!==j){h=i;return false}}):this.each(function(){var g=b.data(this,a);g?g.option(d||{})._init():b.data(this,a,new c(d,this))});return h}};b.Widget=function(a,c){arguments.length&&this._createWidget(a,c)};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(a,c){b.data(c,this.widgetName,this);this.element=b(c);this.options=b.extend(true,{},this.options,this._getCreateOptions(),a);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(a,c){var d=a;if(arguments.length===0){return b.extend({},this.options)}if(typeof a==="string"){if(c===j){return this.options[a]}d={};d[a]=c}this._setOptions(d);return this},_setOptions:function(a){var c=this;b.each(a,function(d,e){c._setOption(d,e)});return this},_setOption:function(a,c){this.options[a]=c;if(a==="disabled"){this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(a,c,d){var e=this.options[a];c=b.Event(c);c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();d=d||{};if(c.originalEvent){a=b.event.props.length;for(var f;a;){f=b.event.props[--a];c[f]=c.originalEvent[f]}}this.element.trigger(c,d);return !(b.isFunction(e)&&e.call(this.element[0],c,d)===false||c.isDefaultPrevented())}}})(jQuery);jQuery.effects||function(f,j){function m(c){var a;if(c&&c.constructor==Array&&c.length==3){return c}if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c)){return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)]}if(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c)){return[parseFloat(a[1])*2.55,parseFloat(a[2])*2.55,parseFloat(a[3])*2.55]}if(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c)){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}if(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c)){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}if(/rgba\(0, 0, 0, 0\)/.exec(c)){return n.transparent}return n[f.trim(c).toLowerCase()]}function s(c,a){var b;do{b=f.curCSS(c,a);if(b!=""&&b!="transparent"||f.nodeName(c,"body")){break}a="backgroundColor"}while(c=c.parentNode);return m(b)}function o(){var c=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,a={},b,d;if(c&&c.length&&c[0]&&c[c[0]]){for(var e=c.length;e--;){b=c[e];if(typeof c[b]=="string"){d=b.replace(/\-(\w)/g,function(g,h){return h.toUpperCase()});a[d]=c[b]}}}else{for(b in c){if(typeof c[b]==="string"){a[b]=c[b]}}}return a}function p(c){var a,b;for(a in c){b=c[a];if(b==null||f.isFunction(b)||a in t||/scrollbar/.test(a)||!/color/i.test(a)&&isNaN(parseFloat(b))){delete c[a]}}return c}function u(c,a){var b={_:0},d;for(d in a){if(c[d]!=a[d]){b[d]=a[d]}}return b}function k(c,a,b,d){if(typeof c=="object"){d=a;b=null;a=c;c=a.effect}if(f.isFunction(a)){d=a;b=null;a={}}if(typeof a=="number"||f.fx.speeds[a]){d=b;b=a;a={}}if(f.isFunction(b)){d=b;b=null}a=a||{};b=b||a.duration;b=f.fx.off?0:typeof b=="number"?b:b in f.fx.speeds?f.fx.speeds[b]:f.fx.speeds._default;d=d||a.complete;return[c,a,b,d]}function l(c){if(!c||typeof c==="number"||f.fx.speeds[c]){return true}if(typeof c==="string"&&!f.effects[c]){return true}return false}f.effects={};f.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(c,a){f.fx.step[a]=function(b){if(!b.colorInit){b.start=s(b.elem,a);b.end=m(b.end);b.colorInit=true}b.elem.style[a]="rgb("+Math.max(Math.min(parseInt(b.pos*(b.end[0]-b.start[0])+b.start[0],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[1]-b.start[1])+b.start[1],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[2]-b.start[2])+b.start[2],10),255),0)+")"}});var n={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},q=["add","remove","toggle"],t={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};f.effects.animateClass=function(c,a,b,d){if(f.isFunction(b)){d=b;b=null}return this.queue(function(){var e=f(this),g=e.attr("style")||" ",h=p(o.call(this)),r,v=e.attr("class");f.each(q,function(w,i){c[i]&&e[i+"Class"](c[i])});r=p(o.call(this));e.attr("class",v);e.animate(u(h,r),{queue:false,duration:a,easing:b,complete:function(){f.each(q,function(w,i){c[i]&&e[i+"Class"](c[i])});if(typeof e.attr("style")=="object"){e.attr("style").cssText="";e.attr("style").cssText=g}else{e.attr("style",g)}d&&d.apply(this,arguments);f.dequeue(this)}})})};f.fn.extend({_addClass:f.fn.addClass,addClass:function(c,a,b,d){return a?f.effects.animateClass.apply(this,[{add:c},a,b,d]):this._addClass(c)},_removeClass:f.fn.removeClass,removeClass:function(c,a,b,d){return a?f.effects.animateClass.apply(this,[{remove:c},a,b,d]):this._removeClass(c)},_toggleClass:f.fn.toggleClass,toggleClass:function(c,a,b,d,e){return typeof a=="boolean"||a===j?b?f.effects.animateClass.apply(this,[a?{add:c}:{remove:c},b,d,e]):this._toggleClass(c,a):f.effects.animateClass.apply(this,[{toggle:c},a,b,d])},switchClass:function(c,a,b,d,e){return f.effects.animateClass.apply(this,[{add:a,remove:c},b,d,e])}});f.extend(f.effects,{version:"1.8.16",save:function(c,a){for(var b=0;b<a.length;b++){a[b]!==null&&c.data("ec.storage."+a[b],c[0].style[a[b]])}},restore:function(c,a){for(var b=0;b<a.length;b++){a[b]!==null&&c.css(a[b],c.data("ec.storage."+a[b]))}},setMode:function(c,a){if(a=="toggle"){a=c.is(":hidden")?"show":"hide"}return a},getBaseline:function(c,a){var b;switch(c[0]){case"top":b=0;break;case"middle":b=0.5;break;case"bottom":b=1;break;default:b=c[0]/a.height}switch(c[1]){case"left":c=0;break;case"center":c=0.5;break;case"right":c=1;break;default:c=c[1]/a.width}return{x:c,y:b}},createWrapper:function(c){if(c.parent().is(".ui-effects-wrapper")){return c.parent()}var a={width:c.outerWidth(true),height:c.outerHeight(true),"float":c.css("float")},b=f("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),d=document.activeElement;c.wrap(b);if(c[0]===d||f.contains(c[0],d)){f(d).focus()}b=c.parent();if(c.css("position")=="static"){b.css({position:"relative"});c.css({position:"relative"})}else{f.extend(a,{position:c.css("position"),zIndex:c.css("z-index")});f.each(["top","left","bottom","right"],function(e,g){a[g]=c.css(g);if(isNaN(parseInt(a[g],10))){a[g]="auto"}});c.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}return b.css(a).show()},removeWrapper:function(c){var a,b=document.activeElement;if(c.parent().is(".ui-effects-wrapper")){a=c.parent().replaceWith(c);if(c[0]===b||f.contains(c[0],b)){f(b).focus()}return a}return c},setTransition:function(c,a,b,d){d=d||{};f.each(a,function(e,g){unit=c.cssUnit(g);if(unit[0]>0){d[g]=unit[0]*b+unit[1]}});return d}});f.fn.extend({effect:function(c){var a=k.apply(this,arguments),b={options:a[1],duration:a[2],callback:a[3]};a=b.options.mode;var d=f.effects[c];if(f.fx.off||!d){return a?this[a](b.duration,b.callback):this.each(function(){b.callback&&b.callback.call(this)})}return d.call(this,b)},_show:f.fn.show,show:function(c){if(l(c)){return this._show.apply(this,arguments)}else{var a=k.apply(this,arguments);a[1].mode="show";return this.effect.apply(this,a)}},_hide:f.fn.hide,hide:function(c){if(l(c)){return this._hide.apply(this,arguments)}else{var a=k.apply(this,arguments);a[1].mode="hide";return this.effect.apply(this,a)}},__toggle:f.fn.toggle,toggle:function(c){if(l(c)||typeof c==="boolean"||f.isFunction(c)){return this.__toggle.apply(this,arguments)}else{var a=k.apply(this,arguments);a[1].mode="toggle";return this.effect.apply(this,a)}},cssUnit:function(c){var a=this.css(c),b=[];f.each(["em","px","%","pt"],function(d,e){if(a.indexOf(e)>0){b=[parseFloat(a),e]}});return b}});f.easing.jswing=f.easing.swing;f.extend(f.easing,{def:"easeOutQuad",swing:function(c,a,b,d,e){return f.easing[f.easing.def](c,a,b,d,e)},easeInQuad:function(c,a,b,d,e){return d*(a/=e)*a+b},easeOutQuad:function(c,a,b,d,e){return -d*(a/=e)*(a-2)+b},easeInOutQuad:function(c,a,b,d,e){if((a/=e/2)<1){return d/2*a*a+b}return -d/2*(--a*(a-2)-1)+b},easeInCubic:function(c,a,b,d,e){return d*(a/=e)*a*a+b},easeOutCubic:function(c,a,b,d,e){return d*((a=a/e-1)*a*a+1)+b},easeInOutCubic:function(c,a,b,d,e){if((a/=e/2)<1){return d/2*a*a*a+b}return d/2*((a-=2)*a*a+2)+b},easeInQuart:function(c,a,b,d,e){return d*(a/=e)*a*a*a+b},easeOutQuart:function(c,a,b,d,e){return -d*((a=a/e-1)*a*a*a-1)+b},easeInOutQuart:function(c,a,b,d,e){if((a/=e/2)<1){return d/2*a*a*a*a+b}return -d/2*((a-=2)*a*a*a-2)+b},easeInQuint:function(c,a,b,d,e){return d*(a/=e)*a*a*a*a+b},easeOutQuint:function(c,a,b,d,e){return d*((a=a/e-1)*a*a*a*a+1)+b},easeInOutQuint:function(c,a,b,d,e){if((a/=e/2)<1){return d/2*a*a*a*a*a+b}return d/2*((a-=2)*a*a*a*a+2)+b},easeInSine:function(c,a,b,d,e){return -d*Math.cos(a/e*(Math.PI/2))+d+b},easeOutSine:function(c,a,b,d,e){return d*Math.sin(a/e*(Math.PI/2))+b},easeInOutSine:function(c,a,b,d,e){return -d/2*(Math.cos(Math.PI*a/e)-1)+b},easeInExpo:function(c,a,b,d,e){return a==0?b:d*Math.pow(2,10*(a/e-1))+b},easeOutExpo:function(c,a,b,d,e){return a==e?b+d:d*(-Math.pow(2,-10*a/e)+1)+b},easeInOutExpo:function(c,a,b,d,e){if(a==0){return b}if(a==e){return b+d}if((a/=e/2)<1){return d/2*Math.pow(2,10*(a-1))+b}return d/2*(-Math.pow(2,-10*--a)+2)+b},easeInCirc:function(c,a,b,d,e){return -d*(Math.sqrt(1-(a/=e)*a)-1)+b},easeOutCirc:function(c,a,b,d,e){return d*Math.sqrt(1-(a=a/e-1)*a)+b},easeInOutCirc:function(c,a,b,d,e){if((a/=e/2)<1){return -d/2*(Math.sqrt(1-a*a)-1)+b}return d/2*(Math.sqrt(1-(a-=2)*a)+1)+b},easeInElastic:function(c,a,b,d,e){c=1.70158;var g=0,h=d;if(a==0){return b}if((a/=e)==1){return b+d}g||(g=e*0.3);if(h<Math.abs(d)){h=d;c=g/4}else{c=g/(2*Math.PI)*Math.asin(d/h)}return -(h*Math.pow(2,10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g))+b},easeOutElastic:function(c,a,b,d,e){c=1.70158;var g=0,h=d;if(a==0){return b}if((a/=e)==1){return b+d}g||(g=e*0.3);if(h<Math.abs(d)){h=d;c=g/4}else{c=g/(2*Math.PI)*Math.asin(d/h)}return h*Math.pow(2,-10*a)*Math.sin((a*e-c)*2*Math.PI/g)+d+b},easeInOutElastic:function(c,a,b,d,e){c=1.70158;var g=0,h=d;if(a==0){return b}if((a/=e/2)==2){return b+d}g||(g=e*0.3*1.5);if(h<Math.abs(d)){h=d;c=g/4}else{c=g/(2*Math.PI)*Math.asin(d/h)}if(a<1){return -0.5*h*Math.pow(2,10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g)+b}return h*Math.pow(2,-10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g)*0.5+d+b},easeInBack:function(c,a,b,d,e,g){if(g==j){g=1.70158}return d*(a/=e)*a*((g+1)*a-g)+b},easeOutBack:function(c,a,b,d,e,g){if(g==j){g=1.70158}return d*((a=a/e-1)*a*((g+1)*a+g)+1)+b},easeInOutBack:function(c,a,b,d,e,g){if(g==j){g=1.70158}if((a/=e/2)<1){return d/2*a*a*(((g*=1.525)+1)*a-g)+b}return d/2*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)+b},easeInBounce:function(c,a,b,d,e){return d-f.easing.easeOutBounce(c,e-a,0,d,e)+b},easeOutBounce:function(c,a,b,d,e){return(a/=e)<1/2.75?d*7.5625*a*a+b:a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?d*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:d*(7.5625*(a-=2.625/2.75)*a+0.984375)+b},easeInOutBounce:function(c,a,b,d,e){if(a<e/2){return f.easing.easeInBounce(c,a*2,0,d,e)*0.5+b}return f.easing.easeOutBounce(c,a*2-e,0,d,e)*0.5+d*0.5+b}})}(jQuery);(function(b){b.effects.highlight=function(c){return this.queue(function(){var a=b(this),e=["backgroundImage","backgroundColor","opacity"],d=b.effects.setMode(a,c.options.mode||"show"),f={backgroundColor:a.css("backgroundColor")};if(d=="hide"){f.opacity=0}b.effects.save(a,e);a.show().css({backgroundImage:"none",backgroundColor:c.options.color||"#ffff99"}).animate(f,{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){d=="hide"&&a.hide();b.effects.restore(a,e);d=="show"&&!b.support.opacity&&this.style.removeAttribute("filter");c.callback&&c.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);window.jQueryComentarios=$.noConflict(true);var glb=glb||{};glb.comentarios=glb.comentarios||{};glb.comentarios.getJqueryComentarios=function(){var jQueryFound=window.jQueryComentarios||window.jQuery;var rePontos=new RegExp("\\.","g");var jQueryFoundVersion=parseInt(jQueryFound.fn.jquery.replace(rePontos,""));if(jQueryFoundVersion>183){throw new Error("Versao do jQuery nao suportada para comentarios. E necessario 1.8.3 ou inferior.")}return jQueryFound};glbComentarios = {}; glbComentarios.templates = {"formulario.tpl":"<div class=\"glbComentarios-formulario-aberto\">    <div class=\"glbComentarios-dados-form\">        <div class=\"glbComentarios-dados-form-interno\">            <div class=\"glbComentarios-usuario-anonimo-avatar\">                <img class=\"glbComentarios-usuario-avatar\" src=\"data:image\/gif;base64,R0lGODlhAQABAIAAAAAAAP\/\/\/yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\/>            <\/div>            <div class=\"glbComentarios-texto-wrapper\">                <textarea rows=\"0\" cols=\"0\" class=\"glbComentarios-widget-comentarios-texto\" placeholder=\"Escreva um coment\u00e1rio...\"><\/textarea>            <\/div>            <button type=\"button\" class=\"glbComentarios-botaoEnviar\">Enviar<\/button>            <div class=\"glbComentarios-captcha\"><\/div>        <\/div>    <\/div><\/div>","main.tpl":"<div class=\"glbComentarios-header\">    <div class=\"glbComentarios-contador\"><\/div>    <div class=\"glbComentarios-texto-contador glbComentarios-zerado\">Seja o primeiro a comentar<\/div><\/div><p class=\"glbComentarios-disclaimer\">    Os coment\u00e1rios s\u00e3o de responsabilidade exclusiva de seus autores e n\u00e3o representam a opini\u00e3o deste site. Se achar algo que viole os    <a class=\"glbComentarios-link\" id=\"glbComentarios-termo\" href=\"https:\/\/login.globo.com\/termosUso\/3004\" target=\"_blank\">termos de uso<\/a>, denuncie. Leia as <a class=\"glbComentarios-link gui-color-primary\" id=\"glbComentarios-perguntas\" href=\"http:\/\/ajudacomentarios.globo.com\" target=\"_blank\">perguntas mais frequentes<\/a> para saber o que \u00e9 impr\u00f3prio ou ilegal.<\/p><div class=\"glbComentarios-formulario glbComentarios-sem-captcha\">{{{form_template}}}<\/div><div class=\"glbComentarios-aba glbComentarios-sem-ratings\">    <p class=\"recentes\"><\/p>    <p class=\"populares\"><\/p><\/div><div class=\"glbComentarios-lista glbComentarios-lista-recentes\">{{{lista_template}}}<\/div><div class=\"glbComentarios-lista glbComentarios-lista-populares\" style=\"display:none\">{{{lista_template}}}<\/div>","lista.tpl":"<div class=\"glbComentarios-aba glbComentarios-sem-ratings interno\">    <p class=\"recentes glbComentarios-barra-cor-produto\" style=\"\">recentes<\/p>    <p class=\"populares\">populares<\/p><\/div><ul class=\"glbComentarios-lista-todos\">    <input type=\"hidden\" name=\"url-post-interatividade\" value=\"{{urlPostInteratividade}}\">    <input type=\"hidden\" name=\"url-get-interatividade\" value=\"{{ urlInteratividade }}\">    <input type=\"hidden\" name=\"agregador\" value=\"{{ agregador }}\">{{#itens}}    <li id=\"comentario-{{idComentario}}\" itemscope        itemtype=\"http:\/\/schema.org\/UserComments\"        data-comentario-qtd_replies=\"{{qtd_replies}}\"         data-comentario-id=\"comentario-{{idComentario}}\"         data-interatividade-id=\"{{idInteratividade}}\"         {{#compartilhado}}            class=\"comentario-compartilhado\"        {{\/compartilhado}}{{#Usuario}}         data-usuario-id=\"usuario-{{usuarioId}}\"         data-usuario-sexo=\"{{sexo}}\"         data-usuario-avatarimgurl=\"{{avatarImgUrl}}\"         data-usuario-oficial=\"{{usuarioOficial}}\" >            <div class=\"glbComentarios-conteudo\">                <div class=\"glbComentarios-conteudo-interno\">                    <div class=\"glbComentarios-usuario-anonimo-avatar\">                        <img class=\"glbComentarios-usuario-avatar\" src=\"data:image\/gif;base64,R0lGODlhAQABAIAAAAAAAP\/\/\/yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\/>                    <\/div>                    <div itemprop=\"creator\" itemscope itemtype=\"http:\/\/schema.org\/Person\" class=\"glbComentarios-dados-usuario\">                        <strong itemprop=\"name\" class=\"glbComentarios-dados-usuario-nome\" title=\"{{nomeFormatado}}\">{{nomeFormatado}}<\/strong>                        <div class=\"glbComentarios-btn-denunciar-wrapper\" data-denunciar-usuario-id=\"denunciar-usuario-{{usuarioId}}\">                            <button type=\"button\" class=\"glbComentarios-bt-denunciar-sim\">denunciar<\/button>                            <svg class=\"glbComentarios-btn glbComentarios-bt-denunciar\"version=\"1.1\" id=\"Layer_1\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" xmlns:xlink=\"http:\/\/www.w3.org\/1999\/xlink\" x=\"0px\" y=\"0px\"                                    width=\"13px\" height=\"13px\" viewBox=\"0 0 13 13\" enable-background=\"new 0 0 13 13\" xml:space=\"preserve\">                            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" fill=\"#CCCCCC\" d=\"M10.7,1.5c2.7,2.3,3.1,6.4,0.8,9.2s-6.4,3.1-9.2,0.8                                    s-3.1-6.4-0.8-9.2C3.8-0.4,7.9-0.8,10.7,1.5z M10.2,9.7c1.6-1.9,1.5-4.6,0-6.3L4,10.7C6,11.9,8.7,11.5,10.2,9.7z M2.8,9.7L9,2.3                                    c-2-1.2-4.7-0.8-6.3,1C1.2,5.2,1.2,7.9,2.8,9.7z\"\/>                            <\/svg>                        <\/div>                        {{#usuarioOficial}}                            <p class=\"usuario-oficial\">usu\u00e1rio oficial {{#usuarioOficialFuncao}}<span class=\"funcao\">({{usuarioOficialFuncao}})<\/span>{{\/usuarioOficialFuncao}}<\/p>                        {{\/usuarioOficial}}{{\/Usuario}}                    <div class=\"glbComentarios-data\">{{^qtd_replies}}                        <abbr itemprop=\"commentTime\" title=\"{{dataCadastro}}\" class=\"data cadastro\">{{dataCadastro}}<\/abbr>{{\/qtd_replies}}{{#qtd_replies}}                        <abbr itemprop=\"commentTime\" title=\"{{dataCadastro}}\" class=\"data cadastro no-reduced\">{{dataCadastro}}<\/abbr>                        <abbr itemprop=\"commentTime\" title=\"\" class=\"data cadastro reduced\">&nbsp;<\/abbr>{{\/qtd_replies}}                    <\/div>                    <p class=\"glbComentarios-texto-comentario\" itemprop=\"commentText\">{{texto}}<\/p>                    <div class=\"glbComentarios-btns-thumb-share {{#temInteratividade}}tem-interatividade{{\/temInteratividade}}\">{{#temInteratividade}}                        <button type=\"button\" class=\"glbComentarios-btn glbComentarios-thumbs glbComentarios-thumbs-up voted\" data-opcao-id=\"{{idThumbsUp}}\">0<\/button>                        <button type=\"button\" class=\"glbComentarios-btn glbComentarios-thumbs glbComentarios-thumbs-down voted\" data-opcao-id=\"{{idThumbsDown}}\">0<\/button>{{\/temInteratividade}}                        <div class=\"glbComentarios-barra-share glbComentarios-share-{{idComentario}}\" data-comentario-id=\"{{idComentario}}\"><\/div>                    <\/div>                <\/div>                <div class=\"glbComentarios-lista-resposta\" data-total-replies=\"{{qtd_replies}}\">                    {{{_criaBotaoPaginacaoResposta}}}                    <ul class=\"glbComentarios-lista-resposta-todos\">                        {{#replies}}                            {{>reply}}                        {{\/replies}}                    <\/ul>                <\/div>            <\/div>        <\/div>    <\/li>{{\/itens}}<\/ul >"};if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function($){var Captcha={};Captcha.listaCaptcha=[];Captcha.options={theme:"custom",lang:"pt"};Captcha.load=function(idRecaptcha){this.elemento.find(".glbComentarios-captcha").recaptchaGoogle({idCaptchaNaPagina:idRecaptcha});this.elemento.find(".glbComentarios-captcha").trigger("recaptchaGoogle.createCaptcha")};Captcha.seleciona=function(elemento,comentarioPai){this.elemento=elemento;var container=$(".recaptcha_container");var elementoFormulario=this.elemento.closest(".glbComentarios-formulario");var containerFormulario=container.closest(".glbComentarios-formulario-resposta");if(!elementoFormulario.length){elementoFormulario=this.elemento.closest(".glbComentarios-formulario-resposta");containerFormulario=container.closest(".glbComentarios-formulario")}containerFormulario.addClass("glbComentarios-sem-captcha");elementoFormulario.removeClass("glbComentarios-sem-captcha");container.find("#recaptcha_image").attr("id","novoImagem");container.find("#recaptcha_response_field").attr({id:"novoResponseField",name:"novoResponseField"});container.find("#recaptcha_challenge_field_holder").attr("id","novoRecaptchaHolder");container.find("#recaptcha_challenge_field").attr({id:"novoChallengeField",name:"novoChallengeField"});this.load(comentarioPai)};window.Captcha=Captcha})(glb.comentarios.getJqueryComentarios());/*! Kizzy - a cross-browser LocalStorage API
  * Copyright: Dustin Diaz 2011
  * https://github.com/ded/kizzy
  * License: MIT
  */
;!function(win,doc,store){function noop(){}var hasLocalStorage,html5=0,writeThrough=function(){return 1};try{hasLocalStorage=!!localStorage||!!globalStorage;if(!localStorage){localStorage=globalStorage[store]}html5=1}catch(ex1){html5=0;try{if(doc.documentElement.addBehavior){html5=0;hasLocalStorage=1;var dataStore=doc.documentElement;dataStore.addBehavior("#default#userData");dataStore.load(store);var xmlDoc=dataStore.xmlDocument;var xmlDocEl=xmlDoc.documentElement}}catch(ex2){hasLocalStorage=false}}var setLocalStorage=noop,getLocalStorage=noop,removeLocalStorage=noop,clearLocalStorage=noop;if(hasLocalStorage){setLocalStorage=html5?html5setLocalStorage:setUserData;getLocalStorage=html5?html5getLocalStorage:getUserData;removeLocalStorage=html5?html5removeLocalStorage:removeUserData;clearLocalStorage=html5?html5clearLocalStorage:clearUserData;writeThrough=function(inst){try{var v=JSON.stringify(inst._);if(v=="{}"){removeLocalStorage(inst.ns)}else{setLocalStorage(inst.ns,v)}return 1}catch(x){return 0}}}function time(){return +new Date()}function checkExpiry(inst,k){if(inst._[k]&&inst._[k].e&&inst._[k].e<time()){inst.remove(k)}}function isNumber(n){return typeof n==="number"&&isFinite(n)}function html5getLocalStorage(k){return localStorage[k]}function html5setLocalStorage(k,v){localStorage[k]=v;return v}function html5removeLocalStorage(k){delete localStorage[k]}function html5clearLocalStorage(){localStorage.clear()}function getNodeByName(name){var childNodes=xmlDocEl.childNodes,node,returnVal=null;for(var i=0,len=childNodes.length;i<len;i++){node=childNodes.item(i);if(node.getAttribute("key")==name){returnVal=node;break}}return returnVal}function getUserData(name){var node=getNodeByName(name);var returnVal=null;if(node){returnVal=node.getAttribute("value")}return returnVal}function setUserData(name,value){var node=getNodeByName(name);if(!node){node=xmlDoc.createNode(1,"item","");node.setAttribute("key",name);node.setAttribute("value",value);xmlDocEl.appendChild(node)}else{node.setAttribute("value",value)}dataStore.save(store);return value}function removeUserData(name){getNodeByName(name)&&xmlDocEl.removeChild(node);dataStore.save(store)}function clearUserData(){while(xmlDocEl.firstChild){xmlDocEl.removeChild(xmlDocEl.firstChild)}dataStore.save(store)}function _Kizzy(){this._={}}_Kizzy.prototype={set:function(k,v,optTtl){this._[k]={value:v,e:isNumber(optTtl)?time()+optTtl:0};writeThrough(this)||this.remove(k);return v},get:function(k){checkExpiry(this,k);return this._[k]?this._[k].value:undefined},remove:function(k){delete this._[k];writeThrough(this)},clear:function(){this._={};writeThrough(this)},clearExpireds:function(){for(var k in this._){checkExpiry(this,k)}writeThrough(this)}};function Kizzy(ns){this.ns=ns;this._=JSON.parse(getLocalStorage(ns)||"{}")}Kizzy.prototype=_Kizzy.prototype;function kizzy(ns){return new Kizzy(ns)}kizzy.remove=removeLocalStorage;kizzy.clear=clearLocalStorage;win.kizzy=kizzy;typeof module!=="undefined"&&module.exports&&(module.exports.cache=kizzy)}(this,document,document.domain);/*!
 * jQuery blockUI plugin
 * Version 2.38 (29-MAR-2011)
 * @requires jQuery v1.2.3 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2010 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
;(function($){if(/1\.(0|1|2)\.(0|1|2)/.test($.fn.jquery)||/^1.1/.test($.fn.jquery)){if(window.console&&console.log){}return}$.fn._fadeIn=$.fn.fadeIn;var noOp=function(){};var mode=document.documentMode||0;var setExpr=$.browser.msie&&(($.browser.version<8&&!mode)||mode<8);var ie6=$.browser.msie&&/MSIE 6.0/.test(navigator.userAgent)&&!mode;$.blockUI=function(opts){install(window,opts)};$.unblockUI=function(opts){remove(window,opts)};$.growlUI=function(title,message,timeout,onClose){var $m=$('<div class="growlUI"></div>');if(title){$m.append("<h1>"+title+"</h1>")}if(message){$m.append("<h2>"+message+"</h2>")}if(timeout==undefined){timeout=3000}$.blockUI({message:$m,fadeIn:700,fadeOut:1000,centerY:false,timeout:timeout,showOverlay:false,onUnblock:onClose,css:$.blockUI.defaults.growlCSS})};$.fn.block=function(opts){return this.unblock({fadeOut:0}).each(function(){if($.css(this,"position")=="static"){this.style.position="relative"}if($.browser.msie){this.style.zoom=1}install(this,opts)})};$.fn.unblock=function(opts){return this.each(function(){remove(this,opts)})};$.blockUI.version=2.38;$.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0.6,cursor:"wait"},growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,applyPlatformOpacityRules:true,onBlock:null,onUnblock:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg"};var pageBlock=null;var pageBlockEls=[];function install(el,opts){var full=(el==window);var msg=opts&&opts.message!==undefined?opts.message:undefined;opts=$.extend({},$.blockUI.defaults,opts||{});opts.overlayCSS=$.extend({},$.blockUI.defaults.overlayCSS,opts.overlayCSS||{});var css=$.extend({},$.blockUI.defaults.css,opts.css||{});var themedCSS=$.extend({},$.blockUI.defaults.themedCSS,opts.themedCSS||{});msg=msg===undefined?opts.message:msg;if(full&&pageBlock){remove(window,{fadeOut:0})}if(msg&&typeof msg!="string"&&(msg.parentNode||msg.jquery)){var node=msg.jquery?msg[0]:msg;var data={};$(el).data("blockUI.history",data);data.el=node;data.parent=node.parentNode;data.display=node.style.display;data.position=node.style.position;if(data.parent){data.parent.removeChild(node)}}var z=opts.baseZ;var lyr1=($.browser.msie||opts.forceIframe)?$('<iframe class="blockUI" style="z-index:'+(z++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+opts.iframeSrc+'"></iframe>'):$('<div class="blockUI" style="display:none"></div>');var lyr2=opts.theme?$('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(z++)+';display:none"></div>'):$('<div class="blockUI blockOverlay" style="z-index:'+(z++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');var lyr3,s;if(opts.theme&&full){s='<div class="blockUI '+opts.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+z+';display:none;position:fixed"><div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(opts.title||"&nbsp;")+'</div><div class="ui-widget-content ui-dialog-content"></div></div>'}else{if(opts.theme){s='<div class="blockUI '+opts.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+z+';display:none;position:absolute"><div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(opts.title||"&nbsp;")+'</div><div class="ui-widget-content ui-dialog-content"></div></div>'}else{if(full){s='<div class="blockUI '+opts.blockMsgClass+' blockPage" style="z-index:'+z+';display:none;position:fixed"></div>'}else{s='<div class="blockUI '+opts.blockMsgClass+' blockElement" style="z-index:'+z+';display:none;position:absolute"></div>'}}}lyr3=$(s);if(msg){if(opts.theme){lyr3.css(themedCSS);lyr3.addClass("ui-widget-content")}else{lyr3.css(css)}}if(!opts.theme&&(!opts.applyPlatformOpacityRules||!($.browser.mozilla&&/Linux/.test(navigator.platform)))){lyr2.css(opts.overlayCSS)}lyr2.css("position",full?"fixed":"absolute");if($.browser.msie||opts.forceIframe){lyr1.css("opacity",0)}var layers=[lyr1,lyr2,lyr3],$par=full?$("body"):$(el);$.each(layers,function(){this.appendTo($par)});if(opts.theme&&opts.draggable&&$.fn.draggable){lyr3.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var expr=setExpr&&(!$.boxModel||$("object,embed",full?null:el).length>0);if(ie6||expr){if(full&&opts.allowBodyStretch&&$.boxModel){$("html,body").css("height","100%")}if((ie6||!$.boxModel)&&!full){var t=sz(el,"borderTopWidth"),l=sz(el,"borderLeftWidth");var fixT=t?"(0 - "+t+")":0;var fixL=l?"(0 - "+l+")":0}$.each([lyr1,lyr2,lyr3],function(i,o){var s=o[0].style;s.position="absolute";if(i<2){full?s.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.boxModel?0:"+opts.quirksmodeOffsetHack+') + "px"'):s.setExpression("height",'this.parentNode.offsetHeight + "px"');full?s.setExpression("width",'jQuery.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):s.setExpression("width",'this.parentNode.offsetWidth + "px"');if(fixL){s.setExpression("left",fixL)}if(fixT){s.setExpression("top",fixT)}}else{if(opts.centerY){if(full){s.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}s.marginTop=0}else{if(!opts.centerY&&full){var top=(opts.css&&opts.css.top)?parseInt(opts.css.top):0;var expression="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+top+') + "px"';s.setExpression("top",expression)}}}})}if(msg){if(opts.theme){lyr3.find(".ui-widget-content").append(msg)}else{lyr3.append(msg)}if(msg.jquery||msg.nodeType){$(msg).show()}}if(($.browser.msie||opts.forceIframe)&&opts.showOverlay){lyr1.show()}if(opts.fadeIn){var cb=opts.onBlock?opts.onBlock:noOp;var cb1=(opts.showOverlay&&!msg)?cb:noOp;var cb2=msg?cb:noOp;if(opts.showOverlay){lyr2._fadeIn(opts.fadeIn,cb1)}if(msg){lyr3._fadeIn(opts.fadeIn,cb2)}}else{if(opts.showOverlay){lyr2.show()}if(msg){lyr3.show()}if(opts.onBlock){opts.onBlock()}}bind(1,el,opts);if(full){pageBlock=lyr3[0];pageBlockEls=$(":input:enabled:visible",pageBlock);if(opts.focusInput){setTimeout(focus,20)}}else{center(lyr3[0],opts.centerX,opts.centerY)}if(opts.timeout){var to=setTimeout(function(){full?$.unblockUI(opts):$(el).unblock(opts)},opts.timeout);$(el).data("blockUI.timeout",to)}}function remove(el,opts){var full=(el==window);var $el=$(el);var data=$el.data("blockUI.history");var to=$el.data("blockUI.timeout");if(to){clearTimeout(to);$el.removeData("blockUI.timeout")}opts=$.extend({},$.blockUI.defaults,opts||{});bind(0,el,opts);var els;if(full){els=$("body").children().filter(".blockUI").add("body > .blockUI")}else{els=$(".blockUI",el)}if(full){pageBlock=pageBlockEls=null}if(opts.fadeOut){els.fadeOut(opts.fadeOut);setTimeout(function(){reset(els,data,opts,el)},opts.fadeOut)}else{reset(els,data,opts,el)}}function reset(els,data,opts,el){els.each(function(i,o){if(this.parentNode){this.parentNode.removeChild(this)}});if(data&&data.el){data.el.style.display=data.display;data.el.style.position=data.position;if(data.parent){data.parent.appendChild(data.el)}$(el).removeData("blockUI.history")}if(typeof opts.onUnblock=="function"){opts.onUnblock(el,opts)}}function bind(b,el,opts){var full=el==window,$el=$(el);if(!b&&(full&&!pageBlock||!full&&!$el.data("blockUI.isBlocked"))){return}if(!full){$el.data("blockUI.isBlocked",b)}if(!opts.bindEvents||(b&&!opts.showOverlay)){return}var events="mousedown mouseup keydown keypress";b?$(document).bind(events,opts,handler):$(document).unbind(events,handler)}function handler(e){if(e.keyCode&&e.keyCode==9){if(pageBlock&&e.data.constrainTabKey){var els=pageBlockEls;var fwd=!e.shiftKey&&e.target===els[els.length-1];var back=e.shiftKey&&e.target===els[0];if(fwd||back){setTimeout(function(){focus(back)},10);return false}}}var opts=e.data;if($(e.target).parents("div."+opts.blockMsgClass).length>0){return true}return $(e.target).parents().children().filter("div.blockUI").length==0}function focus(back){if(!pageBlockEls){return}var e=pageBlockEls[back===true?pageBlockEls.length-1:0];if(e){e.focus()}}function center(el,x,y){var p=el.parentNode,s=el.style;var l=((p.offsetWidth-el.offsetWidth)/2)-sz(p,"borderLeftWidth");var t=((p.offsetHeight-el.offsetHeight)/2)-sz(p,"borderTopWidth");if(x){s.left=l>0?(l+"px"):"0"}if(y){s.top=t>0?(t+"px"):"0"}}function sz(el,p){return parseInt($.css(el,p))||0}})(glb.comentarios.getJqueryComentarios());(function(jQuery,$){jQuery.fn.extend({elastic:function(){var mimics=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor"];return this.each(function(){if(this.type!=="textarea"){return false}var $textarea=jQuery(this),$twin=jQuery("<div />").css({position:"absolute",display:"none","word-wrap":"break-word"}),lineHeight=parseInt($textarea.css("line-height"),10)||parseInt($textarea.css("font-size"),"10"),minheight=parseInt($textarea.css("height"),10)||lineHeight*3,maxheight=parseInt($textarea.css("max-height"),10)||Number.MAX_VALUE,goalheight=0;if(maxheight<0){maxheight=Number.MAX_VALUE}$twin.appendTo($textarea.parent());var i=mimics.length;while(i--){$twin.css(mimics[i].toString(),$textarea.css(mimics[i].toString()))}function rebind(){$(window).unbind("resize");$textarea.unbind("resize");bindResize(rebind2)}function rebind2(){$(window).unbind("resize");$textarea.unbind("resize");bindResize(setTwinWidth)}function setTwinWidth(){var curatedWidth=Math.floor(parseInt($textarea.width(),10));if($twin.width()!==curatedWidth){$twin.css({width:curatedWidth+"px"});update(true)}$(window).unbind("resize");$textarea.unbind("resize");bindResize(rebind)}function setHeightAndOverflow(height,overflow){var curratedHeight=Math.floor(parseInt(height,10));if($textarea.height()!==curratedHeight){$textarea.css({height:curratedHeight+"px",overflow:overflow});$textarea.trigger("resize")}}function update(forced){var textareaContent=$textarea.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />");var twinContent=$twin.html().replace(/<br>/ig,"<br />");if(forced||textareaContent+"&nbsp;"!==twinContent){$twin.html(textareaContent+"&nbsp;");if(Math.abs($twin.height()+lineHeight-$textarea.height())>3){var goalheight=$twin.height();if(goalheight>=maxheight){setHeightAndOverflow(maxheight,"auto")}else{if(goalheight<=minheight){setHeightAndOverflow(minheight,"hidden")}else{setHeightAndOverflow(goalheight,"hidden")}}}}}$textarea.css({overflow:"hidden"});$textarea.bind("keyup change cut paste",function(){update()});function bindResize(func){$(window).bind("resize",func);$textarea.bind("resize",func)}$textarea.bind("update",update);bindResize(setTwinWidth);$textarea.bind("blur",function(){if($twin.height()<maxheight){if($twin.height()>minheight){$textarea.height($twin.height())}else{$textarea.height(minheight)}}});$textarea.bind("input paste",function(e){setTimeout(update,250)});update()})}})})(glb.comentarios.getJqueryComentarios(),glb.comentarios.getJqueryComentarios());(function($){function noop(){}function genericCallback(data){lastValue=[data]}function callIfDefined(method,object,parameters,returnFlag){try{returnFlag=method&&method.apply(object.context||object,parameters)}catch(_){returnFlag=!1}return returnFlag}function qMarkOrAmp(url){return/\?/.test(url)?"&":"?"}var STR_ASYNC="async",STR_CHARSET="charset",STR_EMPTY="",STR_ERROR="error",STR_INSERT_BEFORE="insertBefore",STR_JQUERY_JSONP="_jqjsp",STR_ON="on",STR_ON_CLICK=STR_ON+"click",STR_ON_ERROR=STR_ON+STR_ERROR,STR_ON_LOAD=STR_ON+"load",STR_ON_READY_STATE_CHANGE=STR_ON+"readystatechange",STR_READY_STATE="readyState",STR_REMOVE_CHILD="removeChild",STR_SCRIPT_TAG="<script>",STR_SUCCESS="success",STR_TIMEOUT="timeout",win=window,head=$("head")[0]||document.documentElement,pageCache={},count=0,lastValue,xOptionsDefaults={callback:STR_JQUERY_JSONP,url:location.href},opera=win.opera;function jsonp(xOptions){xOptions=$.extend({},xOptionsDefaults,xOptions);var completeCallback=xOptions.complete,dataFilter=xOptions.dataFilter,callbackParameter=xOptions.callbackParameter,successCallbackName=xOptions.callback,cacheFlag=xOptions.cache,pageCacheFlag=xOptions.pageCache,charset=xOptions.charset,url=xOptions.url,data=xOptions.data,timeout=xOptions.timeout,pageCached,done=0,cleanUp=noop,supportOnload,supportOnreadystatechange,script,scriptAfter,timeoutTimer;xOptions.abort=function(){!(done++)&&cleanUp()};if(callIfDefined(xOptions.beforeSend,xOptions,[xOptions])===!1||done){return xOptions}url=url||STR_EMPTY;data=data?((typeof data)=="string"?data:$.param(data,xOptions.traditional)):STR_EMPTY;url+=data?(qMarkOrAmp(url)+data):STR_EMPTY;callbackParameter&&(url+=qMarkOrAmp(url)+encodeURIComponent(callbackParameter)+"=?");!cacheFlag&&!pageCacheFlag&&(url+=qMarkOrAmp(url)+"_"+(new Date()).getTime()+"=");url=url.replace(/=\?(&|$)/,"="+successCallbackName+"$1");function notifySuccess(json){if(!(done++)){cleanUp();pageCacheFlag&&(pageCache[url]={s:[json]});dataFilter&&(json=dataFilter.apply(xOptions,[json]));callIfDefined(xOptions.success,xOptions,[json,STR_SUCCESS]);callIfDefined(completeCallback,xOptions,[xOptions,STR_SUCCESS])}}function notifyError(type){if(!(done++)){cleanUp();pageCacheFlag&&type!=STR_TIMEOUT&&(pageCache[url]=type);callIfDefined(xOptions.error,xOptions,[xOptions,type]);callIfDefined(completeCallback,xOptions,[xOptions,type])}}if(pageCacheFlag&&(pageCached=pageCache[url])){pageCached.s?notifySuccess(pageCached.s[0]):notifyError(pageCached)}else{win[successCallbackName]=genericCallback;script=$(STR_SCRIPT_TAG)[0];script.id=STR_JQUERY_JSONP+count++;if(charset){script[STR_CHARSET]=charset}opera&&opera.version()<11.6?((scriptAfter=$(STR_SCRIPT_TAG)[0]).text="document.getElementById('"+script.id+"')."+STR_ON_ERROR+"()"):(script[STR_ASYNC]=STR_ASYNC);if(!(STR_ON_LOAD in script)&&(STR_ON_READY_STATE_CHANGE in script)){script.htmlFor=script.id;script.event=STR_ON_CLICK}script[STR_ON_LOAD]=script[STR_ON_ERROR]=script[STR_ON_READY_STATE_CHANGE]=function(result){if(!script[STR_READY_STATE]||/loaded|complete/.test(script[STR_READY_STATE])){try{script[STR_ON_CLICK]&&script[STR_ON_CLICK]()}catch(_){}result=lastValue;lastValue=0;result?notifySuccess(result[0]):notifyError(STR_ERROR)}};script.src=url;cleanUp=function(i){timeoutTimer&&clearTimeout(timeoutTimer);script[STR_ON_READY_STATE_CHANGE]=script[STR_ON_LOAD]=script[STR_ON_ERROR]=null;head[STR_REMOVE_CHILD](script);scriptAfter&&head[STR_REMOVE_CHILD](scriptAfter)};head[STR_INSERT_BEFORE](script,head.firstChild);scriptAfter&&head[STR_INSERT_BEFORE](scriptAfter,head.firstChild);timeoutTimer=timeout>0&&setTimeout(function(){notifyError(STR_TIMEOUT)},timeout)}return xOptions}jsonp.setup=function(xOptions){$.extend(xOptionsDefaults,xOptions)};$.jsonp=jsonp})(glb.comentarios.getJqueryComentarios());(function(c){c.fn.NobleCount=function(i,h){var j;var g=false;if(typeof i=="string"){j=c.extend({},c.fn.NobleCount.settings,h);if(typeof h!="undefined"){g=((typeof h.max_chars=="number")?true:false)}return this.each(function(){var k=c(this);f(k,i,j,g)})}return this};c.fn.NobleCount.settings={on_negative:null,on_positive:null,on_update:null,max_chars:140,block_negative:false,cloak:false,in_dom:false};function f(g,m,n,h){var l=n.max_chars;var j=c(m);if(!h){var k=j.text();var i=(/^[1-9]\d*$/).test(k);if(i){l=k}}b(g,j,n,l,true);c(g).keydown(function(o){b(g,j,n,l,false);if(a(o,g,n,l)==false){return false}});c(g).keyup(function(o){b(g,j,n,l,false);if(a(o,g,n,l)==false){return false}})}function a(k,g,l,j){if(l.block_negative){var h=k.which;var i;if(typeof document.selection!="undefined"){i=(document.selection.createRange().text.length>0)}else{i=(g[0].selectionStart!=g[0].selectionEnd)}if((!((e(g,j)<1)&&(h>47||h==32||h==0||h==13)&&!k.ctrlKey&&!k.altKey&&!i))==false){return false}}return true}function e(g,h){return h-(c(g).val()).length}function b(g,i,l,j,h){var k=e(g,j);if(k<0){d(l.on_negative,l.on_positive,g,i,l,k)}else{d(l.on_positive,l.on_negative,g,i,l,k)}if(l.cloak){if(l.in_dom){i.attr("data-noblecount",k)}}else{i.text(k)}if(!h&&jQuery.isFunction(l.on_update)){l.on_update(g,i,l,k)}}function d(i,g,h,j,l,k){if(i!=null){if(typeof i=="string"){j.addClass(i)}else{if(jQuery.isFunction(i)){i(h,j,l,k)}}}if(g!=null){if(typeof g=="string"){j.removeClass(g)}}}})(glb.comentarios.getJqueryComentarios());/*!
 * jQuery postMessage - v0.5 - 9/11/2009
 * http://benalman.com/projects/jquery-postmessage-plugin/
 * 
 * Copyright (c) 2009 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($){var cache_bust=1,window=this,FALSE=!1,postMessage="postMessage",addEventListener="addEventListener",p_receiveMessage,has_postMessage=window[postMessage]&&!$.browser.opera,is_IE8=($.browser.msie&&$.browser.version==8)||($.browser.msie&&$.browser.version==7&&!!window.postMessage),ie8_iframe,IFRAME_NAME="__post_message",re_hash_postmessage=/^#postmessage\d+&/,re_base_url=/http[s]?:\/\/[^\/]+/;$[postMessage]=function(message,target_url,target){if(!target_url){return}message=typeof message==="string"?message:$.param(message);target=target||parent;var inside_iframe=window.top===target.top;if(has_postMessage&&(!is_IE8||inside_iframe)){target[postMessage](message,target_url.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))}else{if(is_IE8&&!inside_iframe&&target.frames[IFRAME_NAME]){target.frames[IFRAME_NAME].sendData(message)}else{if(target_url){target.location=target_url.replace(/#.*$/,"")+"#postmessage"+(+new Date)+(cache_bust++)+"&"+encodeURIComponent(window.location.href.split("#")[0])+"&"+escape(message)}}}};$.receiveMessage=p_receiveMessage=function(callback,source_origin,delay,iframe_url){if(is_IE8&&!ie8_iframe&&iframe_url){ie8_iframe=$("<iframe></iframe>").attr({name:IFRAME_NAME,src:iframe_url,width:0,height:0});$("body").append(ie8_iframe)}if(has_postMessage){var rm_callback=function(e){if((typeof source_origin==="string"&&e.origin!==source_origin)||($.isFunction(source_origin)&&source_origin(e.origin)===FALSE)){return FALSE}callback(e)};if(window.addEventListener){window.addEventListener("message",rm_callback,FALSE)}else{window.attachEvent("onmessage",rm_callback)}}else{delay=typeof delay==="number"?delay:1000;var last_hash=document.location.hash;setInterval(function(){var hash,hash_event,base_url_a,origin,data,e;hash=document.location.hash;if(hash!==last_hash&&re_hash_postmessage.test(hash)){last_hash=hash;hash_event=hash.replace(re_hash_postmessage,"").split("&");if(hash_event.length!==2){return FALSE}base_url_a=re_base_url.exec(decodeURIComponent(hash_event[0]));if(!base_url_a||base_url_a.length!==1){return FALSE}origin=base_url_a[0];data=unescape(hash_event[1]);e={origin:origin,data:data};if((typeof source_origin==="string"&&e.origin!==source_origin)||($.isFunction(source_origin)&&source_origin(e.origin)===FALSE)){return FALSE}callback(e);window.setTimeout(function(){window.location.hash=" "},1000)}},delay)}}})(glb.comentarios.getJqueryComentarios());(function($){var log=$.noop;var janelaAberta=null;var usuario_autenticacao_cadun=null;$.setCookie=function setCookie(c_name,value,expiredays){var exdate=new Date();exdate.setDate(exdate.getDate()+expiredays);document.cookie=c_name+"="+escape(value)+((expiredays==null)?"":";expires="+exdate.toUTCString())};var getCookie=function(cookieName){var results=document.cookie.match("(^|;) ?"+cookieName+"=([^;]*)(;|$)");if(results){return(unescape(results[2]))}return null};$.setCookie=function setCookie(c_name,value,expiredays){var exdate=new Date();exdate.setDate(exdate.getDate()+expiredays);document.cookie=c_name+"="+escape(value)+((expiredays==null)?"":";expires="+exdate.toUTCString())};$.getCookie=function getCookie_ext(cookieName){return getCookie(cookieName)};$.verificaAutenticacao=function(callback){Cadun.authorize("3004",function(usuario){if(usuario.status=="authorized"){$.jsonp({url:"//comentarios.dinamico.globo.com/autenticacao/autorizacao",timeout:5000,callback:"__cwc_autenticacao",success:function(usuarioComentario){callback(usuarioComentario)},error:function(){callback(null)}})}else{callback(null);return}})};$.widget("ui.janelaLogin",{widgetEventPrefix:"login",options:{servico:null,success:null,site:window.location.toString(),evento:"click",id:"random",cache:true,instanciaUnica:true,classes:{verificando:"janelaLogin-abrindo",boxLogin:"janelaLogin-box",autenticado:"janelaLogin-autenticado",boxAberto:"janelaLogin-box-aberto"},urls:{janelaLogin:"https://login.globo.com/login/{servico}?tam=widget",fechabox:"//comentarios.dinamico.globo.com/autenticacao/fechaboxlogin",cadastro:"https://login.globo.com/cadastro/{servico}",logout:"https://login.globo.com/logout"}},_create:function(){if(!(this.options.servico&&$.isFunction(this.options.success))){throw"parametros invalidos para o widget de janela de login"}var url;for(url in this.options.urls){if(this.options.urls.hasOwnProperty(url)){this.options.urls[url]=this.options.urls[url].replace(/\{servico\}/g,this.options.servico)}}if(this.options.id==="random"){this.options.id="login"+this.element.attr("id")+"-"+Math.random()}var self=this;this.element.bind(this.options.evento+".janelaLogin",function(event){self._onclick.call(self,event);return false});this.box=null;this.cadun=Cadun},destroy:function(){this.close();this.element.unbind(this.options.evento+".janelaLogin");$.Widget.prototype.destroy.apply(this,arguments)},check:function(callback){this._trigger("beforecheck");var self=this;$.verificaAutenticacao(function(usuario){self._trigger("check",null,usuario);callback.call(self,usuario)})},opened:function(){return !!this.box},_onclick:function(event){this.show()},show:function(){if(janelaAberta&&this.options.instanciaUnica){janelaAberta.close()}janelaAberta=this;if(this.box){return}this.element.addClass(this.options.classes.verificando);var self=this;this.check(function(usuario){if(usuario){self.element.removeClass(self.options.classes.verificando);self._autenticacao_confirmada.call(self,usuario)}else{self._show()}})},_show:function(){var self=this;var href=encodeURIComponent(location.href);if($(".cadun-modal").length===0){Cadun.login(this.options.servico,href,false,function(){self.element.removeClass(self.options.classes.verificando);self._obtem_dados_usuario()});this.element.addClass(this.options.classes.boxAberto)}},_obtem_dados_usuario:function(){var self=this;var usuario_cadunjs=Cadun.user.me;var avatarURL="";self._obtem_avatar(function(avatar){usuario={nome:usuario_cadunjs.name,email:usuario_cadunjs.email,usuarioId:usuario_cadunjs.id,avatarImgUrl:avatar};self._autenticacao_confirmada.call(self,usuario)},usuario_cadunjs.id)},_obtem_avatar:function(callback,usuario_id){$.jsonp({url:"//comentarios.globo.com/"+usuario_id+"/avatar",timeout:100,cache:true,callback:"__cwc_avatar",success:function(avatar){callback(avatar)},error:function(){callback(null)}})},_autenticacao_confirmada:function(usuario){if(this.options.cache){usuario_autenticacao_cadun=usuario}this.close();if(!this.element.hasClass(this.options.classes.autenticado)){this.element.addClass(this.options.classes.autenticado)}this.options.success.call(this,usuario)},close:function(){if(!this.box){return}this.element.removeClass(this.options.classes.boxAberto);if(this._trigger("close")!==false){this.box.remove()}this.box=null;janelaAberta=null}})})(glb.comentarios.getJqueryComentarios());var Mustache=function(){var _toString=Object.prototype.toString;Array.isArray=Array.isArray||function(obj){return _toString.call(obj)=="[object Array]"};var _trim=String.prototype.trim,trim;if(_trim){trim=function(text){return text==null?"":_trim.call(text)}}else{var trimLeft,trimRight;if((/\S/).test("\xA0")){trimLeft=/^[\s\xA0]+/;trimRight=/[\s\xA0]+$/}else{trimLeft=/^\s+/;trimRight=/\s+$/}trim=function(text){return text==null?"":text.toString().replace(trimLeft,"").replace(trimRight,"")}}var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function escapeHTML(string){return String(string).replace(/&(?!#?\w+;)|[<>"']/g,function(s){return escapeMap[s]||s})}var regexCache={};var Renderer=function(){};Renderer.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(template,context,partials,in_recursion){if(!in_recursion){this.context=context;this.buffer=[]}if(!this.includes("",template)){if(in_recursion){return template}else{this.send(template);return}}template=this.render_pragmas(template);var html=this.render_section(template,context,partials);if(html===false){html=this.render_tags(template,context,partials,in_recursion)}if(in_recursion){return html}else{this.sendLines(html)}},send:function(line){if(line!==""){this.buffer.push(line)}},sendLines:function(text){if(text){var lines=text.split("\n");for(var i=0;i<lines.length;i++){this.send(lines[i])}}},render_pragmas:function(template){if(!this.includes("%",template)){return template}var that=this;var regex=this.getCachedRegex("render_pragmas",function(otag,ctag){return new RegExp(otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+ctag,"g")});return template.replace(regex,function(match,pragma,options){if(!that.pragmas_implemented[pragma]){throw ({message:"This implementation of mustache doesn't understand the '"+pragma+"' pragma"})}that.pragmas[pragma]={};if(options){var opts=options.split("=");that.pragmas[pragma][opts[0]]=opts[1]}return""})},render_partial:function(name,context,partials){name=trim(name);if(!partials||partials[name]===undefined){throw ({message:"unknown_partial '"+name+"'"})}if(!context||typeof context[name]!="object"){return this.render(partials[name],context,partials,true)}return this.render(partials[name],context[name],partials,true)},render_section:function(template,context,partials){if(!this.includes("#",template)&&!this.includes("^",template)){return false}var that=this;var regex=this.getCachedRegex("render_section",function(otag,ctag){return new RegExp("^([\\s\\S]*?)"+otag+"(\\^|\\#)\\s*(.+?)\\s*"+ctag+"\n*([\\s\\S]*?)"+otag+"\\/\\s*\\3\\s*"+ctag+"\\s*([\\s\\S]*)$","g")});return template.replace(regex,function(match,before,type,name,content,after){var renderedBefore=before?that.render_tags(before,context,partials,true):"",renderedAfter=after?that.render(after,context,partials,true):"",renderedContent,value=that.find(name,context);if(type==="^"){if(!value||Array.isArray(value)&&value.length===0){renderedContent=that.render(content,context,partials,true)}else{renderedContent=""}}else{if(type==="#"){if(Array.isArray(value)){renderedContent=that.map(value,function(row){return that.render(content,that.create_context(row),partials,true)}).join("")}else{if(that.is_object(value)){renderedContent=that.render(content,that.create_context(value),partials,true)}else{if(typeof value=="function"){renderedContent=value.call(context,content,function(text){return that.render(text,context,partials,true)})}else{if(value){renderedContent=that.render(content,context,partials,true)}else{renderedContent=""}}}}}}return renderedBefore+renderedContent+renderedAfter})},render_tags:function(template,context,partials,in_recursion){var that=this;var new_regex=function(){return that.getCachedRegex("render_tags",function(otag,ctag){return new RegExp(otag+"(=|!|>|&|\\{|%)?([^#\\^]+?)\\1?"+ctag+"+","g")})};var regex=new_regex();var tag_replace_callback=function(match,operator,name){switch(operator){case"!":return"";case"=":that.set_delimiters(name);regex=new_regex();return"";case">":return that.render_partial(name,context,partials);case"{":case"&":return that.find(name,context);default:return escapeHTML(that.find(name,context))}};var lines=template.split("\n");for(var i=0;i<lines.length;i++){lines[i]=lines[i].replace(regex,tag_replace_callback,this);if(!in_recursion){this.send(lines[i])}}if(in_recursion){return lines.join("\n")}},set_delimiters:function(delimiters){var dels=delimiters.split(" ");this.otag=this.escape_regex(dels[0]);this.ctag=this.escape_regex(dels[1])},escape_regex:function(text){if(!arguments.callee.sRE){var specials=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+specials.join("|\\")+")","g")}return text.replace(arguments.callee.sRE,"\\$1")},find:function(name,context){name=trim(name);function is_kinda_truthy(bool){return bool===false||bool===0||bool}var value;if(name.match(/([a-z_]+)\./ig)){var childValue=this.walk_context(name,context);if(is_kinda_truthy(childValue)){value=childValue}}else{if(is_kinda_truthy(context[name])){value=context[name]}else{if(is_kinda_truthy(this.context[name])){value=this.context[name]}}}if(typeof value=="function"){return value.apply(context)}if(value!==undefined){return value}return""},walk_context:function(name,context){var path=name.split(".");var value_context=(context[path[0]]!=undefined)?context:this.context;var value=value_context[path.shift()];while(value!=undefined&&path.length>0){value_context=value;value=value[path.shift()]}if(typeof value=="function"){return value.apply(value_context)}return value},includes:function(needle,haystack){return haystack.indexOf(this.otag+needle)!=-1},create_context:function(_context){if(this.is_object(_context)){return _context}else{var iterator=".";if(this.pragmas["IMPLICIT-ITERATOR"]){iterator=this.pragmas["IMPLICIT-ITERATOR"].iterator}var ctx={};ctx[iterator]=_context;return ctx}},is_object:function(a){return a&&typeof a=="object"},map:function(array,fn){if(typeof array.map=="function"){return array.map(fn)}else{var r=[];var l=array.length;for(var i=0;i<l;i++){r.push(fn(array[i]))}return r}},getCachedRegex:function(name,generator){var byOtag=regexCache[this.otag];if(!byOtag){byOtag=regexCache[this.otag]={}}var byCtag=byOtag[this.ctag];if(!byCtag){byCtag=byOtag[this.ctag]={}}var regex=byCtag[name];if(!regex){regex=byCtag[name]=generator(this.otag,this.ctag)}return regex}};return({name:"mustache.js",version:"0.4.2",to_html:function(template,view,partials,send_fun){var renderer=new Renderer();if(send_fun){renderer.send=send_fun}renderer.render(template,view||{},partials);if(!send_fun){return renderer.buffer.join("\n")}}})}();(function(jQuery,$){$.easydate={};$.easydate.locales={};$.easydate.locales.enUS={future_format:"%s %t",past_format:"%t %s",second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",day:"day",days:"days",week:"week",weeks:"weeks",month:"month",months:"months",year:"year",years:"years",yesterday:"yesterday",tomorrow:"tomorrow",now:"just now",ago:"ago","in":"in"};$.easydate.locales.ptBR={future_format:"%s %t",past_format:"%t %s",second:"segundo",seconds:"segundos",minute:"minuto",minutes:"minutos",hour:"hora",hours:"horas",day:"dia",days:"dias",week:"semana",weeks:"semanas",month:"mês",months:"meses",year:"ano",years:"anos",yesterday:"ontem",tomorrow:"amanha",now:"agora",ago:"atrás","in":"em"};var defaults={live:true,set_title:true,format_future:true,format_past:true,units:[{name:"now",limit:5},{name:"second",limit:60,in_seconds:1},{name:"minute",limit:3600,in_seconds:60},{name:"hour",limit:86400,in_seconds:3600},{name:"yesterday",limit:172800,past_only:true},{name:"tomorrow",limit:172800,future_only:true},{name:"day",limit:604800,in_seconds:86400},{name:"week",limit:2629743,in_seconds:604800},{name:"month",limit:31556926,in_seconds:2629743},{name:"year",limit:Infinity,in_seconds:31556926}],uneasy_format:function(date){return date.toLocaleDateString()},locale:$.easydate.locales.enUS};var now_diff=0;var updates={};var paused_updates={};var elements={};function __(str,value,settings){if(!isNaN(value)&&value!=1){str=str+"s"}return settings.locale[str]||str}var pause=$.easydate.pause=function(selector){var p=function(element_id){clearTimeout(updates[element_id]);delete updates[element_id];paused_updates[element_id]=true};if(!selector){for(var element_id in updates){p(element_id)}}else{$(selector).each(function(){var element_id=jQuery.data(this);if(!isNaN(updates[element_id])){p(element_id)}})}};var resume=$.easydate.resume=function(selector){var r=function(element_id){delete paused_updates[element_id];update_time(elements[element_id])};if(!selector){for(var element_id in paused_updates){r(element_id)}}else{$(selector).each(function(){var element_id=jQuery.data(this);if(!isNaN(paused_updates[element_id])){r(element_id)}})}};var set_now=$.easydate.set_now=function(date){var time;if(date instanceof Date){time=date.getTime()}else{time=Date.parse(date)}if(isNaN(time)){return}now_diff=time-(new Date()).getTime();for(var element_id in elements){if(!isNaN[updates[element_id]]){clearTimeout(updates[element_id])}update_time(elements[element_id])}};var get_now=$.easydate.get_now=function(){var now=new Date();now.setTime(now.getTime()+now_diff);return now};var format_date=$.easydate.format_date=function(date,options){var settings=$.extend({},defaults,options);var diff=((get_now().getTime()-date.getTime())/1000);var diff_abs=Math.abs(diff);if(isNaN(diff)){return}if((!settings.format_future&&diff<0)||(!settings.format_past&&diff>0)){return}for(var i in settings.units){var unit=settings.units[i];if((unit.past_only&&diff<0)||(unit.future_only&&diff>0)){continue}if(diff_abs<unit.limit){if(isNaN(unit.in_seconds)){return __(unit.name,NaN,settings)}var val=diff_abs/unit.in_seconds;val=Math.round(val);var format_string;if(diff<0){format_string=__("future_format",NaN,settings).replace("%s",__("in",NaN,settings))}else{format_string=__("past_format",NaN,settings).replace("%s",__("ago",NaN,settings))}return format_string.replace("%t",val+" "+__(unit.name,val,settings))}}return settings.uneasy_format(date)};function get_timeout_delay(date,settings){var now=get_now();var diff=((now.getTime()-date.getTime())/1000);var diff_abs=Math.abs(diff);if(isNaN(diff)){return}var last_limit=0;for(var i in settings.units){var unit=settings.units[i];if((unit.past_only&&diff<0)||(unit.future_only&&diff>0)){continue}if(diff_abs<unit.limit){if(isNaN(unit.in_seconds)){if(diff<0){return(last_limit-diff_abs)*1000+100}else{return(unit.limit-diff_abs)*1000+100}}else{if(diff<0){return(diff_abs%unit.in_seconds)*1000+100}else{return(unit.in_seconds-(diff_abs%unit.in_seconds))*1000+100}}}last_limit=unit.limit}if(diff<0){for(var i=settings.units.length-1;i>=0;i--){var unit=settings.units[i];if(unit.past_only){continue}return(unit.limit-diff_abs)*1000+100}}}function get_date(element,settings){var date=element.data("easydate.date");if(isNaN(date)){var timestamp;var time=Date.parse(timestamp=element.attr("dataCadun"))||Date.parse(timestamp=element.html());if(!isNaN(time)){date=new Date();date.setTime(time);element.data("easydate.date",date);if(settings.set_title&&!element.attr("dataCadun")){element.attr("dataCadun",timestamp)}}}return date}function update_time(element){var settings=element.data("easydate.settings");var element_id=$.data(element[0]);elements[element_id]=element;delete updates[element_id];var date=get_date(element,settings);if(isNaN(date)){return}element.html(format_date(date,settings));if(settings.live){var timeout=get_timeout_delay(date,settings);if(!isNaN(timeout)){if(timeout>2147483647){timeout=2147483647}var id=setTimeout(function(){update_time(element)},Math.round(timeout));updates[element_id]=id}}}$.fn.easydate=function(options){var settings=$.extend({},defaults,options);this.data("easydate.settings",settings);this.removeData("easydate.date");this.each(function(){var element_id=$.data(this);if(!isNaN(updates[element_id])){clearTimeout(updates[element_id]);delete updates[element_id]}update_time($(this))})}})(glb.comentarios.getJqueryComentarios(),glb.comentarios.getJqueryComentarios());(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{factory(glb.comentarios.getJqueryComentarios())}}(function($){$.timeago=function(timestamp){if(timestamp instanceof Date){return inWords(timestamp)}else{if(typeof timestamp==="string"){return inWords($.timeago.parse(timestamp))}else{if(typeof timestamp==="number"){return inWords(new Date(timestamp))}else{return inWords($.timeago.datetime(timestamp))}}}};var $t=$.timeago;$.extend($.timeago,{settings:{refreshMillis:60000,allowFuture:false,localeTitle:false,cutoff:0,strings:{prefixAgo:"há",prefixFromNow:"em",suffixAgo:null,suffixFromNow:null,seconds:"alguns segundos",minute:"um minuto",minutes:"%d minutos",hour:"uma hora",hours:"%d horas",day:"um dia",days:"%d dias",month:"um mês",months:"%d meses",year:"um ano",years:"%d anos",wordSeparator:" ",numbers:[]}},inWords:function(distanceMillis){var $l=this.settings.strings;var prefix=$l.prefixAgo;var suffix=$l.suffixAgo;if(this.settings.allowFuture){if(distanceMillis<0){prefix=$l.prefixFromNow;suffix=$l.suffixFromNow}}var seconds=Math.abs(distanceMillis)/1000;var minutes=seconds/60;var hours=minutes/60;var days=hours/24;var years=days/365;function substitute(stringOrFunction,number){var string=$.isFunction(stringOrFunction)?stringOrFunction(number,distanceMillis):stringOrFunction;var value=($l.numbers&&$l.numbers[number])||number;return string.replace(/%d/i,value)}var words=seconds<45&&substitute($l.seconds,Math.round(seconds))||seconds<90&&substitute($l.minute,1)||minutes<45&&substitute($l.minutes,Math.round(minutes))||minutes<90&&substitute($l.hour,1)||hours<24&&substitute($l.hours,Math.round(hours))||hours<42&&substitute($l.day,1)||days<30&&substitute($l.days,Math.round(days))||days<45&&substitute($l.month,1)||days<365&&substitute($l.months,Math.round(days/30))||years<1.5&&substitute($l.year,1)||substitute($l.years,Math.round(years));var separator=$l.wordSeparator||"";if($l.wordSeparator===undefined){separator=" "}return $.trim([prefix,words,suffix].join(separator))},parse:function(iso8601){var s=$.trim(iso8601);s=s.replace(/\.\d+/,"");s=s.replace(/-/,"/").replace(/-/,"/");s=s.replace(/T/," ").replace(/Z/," UTC");s=s.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");return new Date(s)},datetime:function(elem){var iso8601=$t.isTime(elem)?$(elem).attr("datetime"):$(elem).attr("title");return $t.parse(iso8601)},isTime:function(elem){return $(elem).get(0).tagName.toLowerCase()==="time"}});var functions={init:function(){var refresh_el=$.proxy(refresh,this);refresh_el();var $s=$t.settings;if($s.refreshMillis>0){this._timeagoInterval=setInterval(refresh_el,$s.refreshMillis)}},update:function(time){var parsedTime=$t.parse(time);$(this).data("timeago",{datetime:parsedTime});if($t.settings.localeTitle){$(this).attr("title",parsedTime.toLocaleString())}refresh.apply(this)},updateFromDOM:function(){$(this).data("timeago",{datetime:$t.parse($t.isTime(this)?$(this).attr("datetime"):$(this).attr("title"))});refresh.apply(this)},dispose:function(){if(this._timeagoInterval){window.clearInterval(this._timeagoInterval);this._timeagoInterval=null}}};$.fn.timeago=function(action,options){var fn=action?functions[action]:functions.init;if(!fn){throw new Error("Unknown function name '"+action+"' for timeago")}this.each(function(){fn.call(this,options)});return this};function refresh(){var data=prepareData(this);var $s=$t.settings;if(!isNaN(data.datetime)){if($s.cutoff===0||distance(data.datetime)<$s.cutoff){$(this).text(inWords(data.datetime))}}return this}function prepareData(element){element=$(element);if(!element.data("timeago")){element.data("timeago",{datetime:$t.datetime(element)});var text=$.trim(element.text());if($t.settings.localeTitle){element.attr("title",element.data("timeago").datetime.toLocaleString())}else{if(text.length>0&&!($t.isTime(element)&&element.attr("title"))){element.attr("title",text)}}}return element.data("timeago")}function inWords(date){return $t.inWords(distance(date))}function distance(date){return(new Date().getTime()-date.getTime())}document.createElement("abbr");document.createElement("time")}));(function($,window){$.safeXDR=function(url,parameters,complete){if(complete){get(url,parameters,complete)}else{getByImage(url,parameters)}};function getByImage(url,parameters){parameters.nocache=new Date().getTime();var imageSrc=url+"?"+$.param(parameters);var image=new Image();image.src=imageSrc}function get(url,parameters,complete){function parseAndInvokeCallback(response){try{response=JSON.parse(response)}catch(err){}complete(response)}if(isIE()){getByXDomainRequest(url,parameters,parseAndInvokeCallback)}else{getByAjax(url,parameters,parseAndInvokeCallback)}}function getByAjax(url,parameters,complete){$.ajax({url:url,type:"GET",data:parameters,cache:false,timeout:500,success:function(response){complete(response)},error:function(){complete()}})}function getByXDomainRequest(url,parameters,complete){parameters.nocache=new Date().getTime();var xdr=new XDomainRequest();if(!xdr){return complete()}xdr.onload=function(){complete(xdr.responseText)};xdr.onerror=function(){complete()};xdr.onprogress=function(){};xdr.ontimeout=function(){complete()};xdr.timeout=500;xdr.open("GET",url+"?"+$.param(parameters));xdr.send()}function isIE(){return window.XDomainRequest}}(glb.comentarios.getJqueryComentarios(),window));(function(global,$){var ONE_DAY_EXPIRATION_TIME=86400000;var ab={server:"",get:function(parameters,callback){var experimentName=parameters.experiment;var defaultValue=parameters.defaultValue;var key,userId;if(parameters.userId){userId=parameters.userId;key="user"+userId+":"+experimentName}else{key="ab:"+experimentName}var url=ab.server+"ab/"+experimentName;var requestParameters={};if(userId){requestParameters.user_id=userId}$.safeXDR(url,requestParameters,function(response){if(response){setCache(key,response);callback(response.result)}else{returnCacheIfError(key,defaultValue,callback)}})},conversion:function(parameters){var url=ab.server+"convert/"+parameters.experiment+"/"+parameters.version;$.safeXDR(url,{})}};function returnCacheIfError(key,defaultValue,callback){var response=getCache(key)||{result:defaultValue};callback(response.result)}function getCache(key){return cache().get(key)}function setCache(key,value){cache().set(key,value,ONE_DAY_EXPIRATION_TIME)}function cache(){return kizzy("globoAB")}global.globoAB=ab}(this,glb.comentarios.getJqueryComentarios()));/*! ShareBar - v3.1.3 - 2016-12-07 - * Copyright (c) 2016 Globo.com; Licensed MIT */
;function ShareBar(a){return this.init(a)}!function(a,b){function c(b){b&&b.preventDefault?b.preventDefault():a.event&&(a.event.returnValue=!1)}function d(a,b,c){return a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,function(){c.call(a)}):void 0}var e="facebook",f="twitter",g="whatsapp",h="google",i="pinterest",j="email",k=34,l=110,m=4,n=6,o="share-button";ShareBar.prototype={init:function(a){this.eventName=this.getActionName(),this.verifyTouch(),this.createSVG(),this.mergeOptions(a),this.containers=b.querySelectorAll(this.selector),this.createBars()},getActionName:function(){return this.isTouch()?"mouseup":"click"},verifyTouch:function(){var a=b.querySelector("html"),c=this.isTouch(),d=" touch",e=" no-touch";c&&a.className.indexOf(d)===-1?a.className+=d:c||a.className.indexOf(e)!==-1||(a.className+=e)},isTouch:function(){var c=!1;return(void 0!==a.ontouchstart||a.DocumentTouch&&b instanceof DocumentTouch)&&(c=!0),c},createSVG:function(){var a=b.createElement("div");a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg"><symbol viewBox="0 0 500 500" id="icon-email"><title>email</title><path d="M1 387c0 27 23 50 50 50h398c28 0 50-23 50-50V138L300 286c-28 17-70 18-99 0L1 138v249zm228-158c10 5 33 6 42 0 98-71 117-86 209-155-7-6-19-11-31-11H51c-12 0-23 5-31 12l209 154z"/></symbol><symbol viewBox="0 0 500 500" id="icon-facebook"><title>facebook</title><path d="M471 1H29C13 1 1 13 1 29v442c0 16 12 28 28 28h238V306h-65v-75h65v-55c0-65 39-100 97-100 27 0 51 2 58 3v67h-40c-31 0-37 15-37 37v48h74l-10 75h-64v193h126c16 0 28-12 28-28V29c0-16-12-28-28-28z"/></symbol><symbol viewBox="0 0 500 500" id="icon-googleplus"><title>googleplus</title><path d="M333 2H186C88 2 35 47 35 127c0 65 60 109 131 99-17 33 2 57 14 69C82 295 2 338 2 401c0 56 47 97 142 97 102 0 175-56 175-124 0-23-8-43-26-64-32-36-71-46-71-72 0-23 22-34 40-49 27-24 36-54 34-83-3-41-27-65-44-78l37 1 44-27zm-70 364c26 36 7 104-86 104-52 0-117-21-117-81 0-70 103-75 141-75 23 17 46 30 62 52zm-64-162c-45 18-82-10-99-68-15-48-4-94 29-106 44-15 79 10 99 63 21 60 7 95-29 111zm240 10v-59h-35v59h-59v36h59v59h35v-59h60v-36h-60z"/></symbol><symbol viewBox="0 0 500 500" id="icon-pinterest"><title>pinterest</title><path d="M250 1a248 249 0 0 0-100 476 218 218 0 0 1 4-57l33-135s-8-16-8-39c0-37 21-64 48-64 23 0 34 17 34 37 0 23-15 57-22 88-6 26 13 48 39 48 47 0 79-61 79-132 0-55-37-95-104-95-75 0-122 56-122 119 0 22 6 37 16 49 5 5 5 8 4 14l-5 20c-2 6-7 9-13 6-35-14-51-52-51-95 0-71 60-155 178-155 95 0 157 69 157 142 0 98-54 170-134 170-27 0-52-15-61-31 0 0-15 57-18 68a209 209 0 0 1-25 53 249 249 0 0 0 319-238A249 249 0 0 0 250 1z"/></symbol><symbol viewBox="0 0 500 500" id="icon-twitter"><title>twitter</title><path d="M499 96c-19 8-38 14-59 16 21-12 37-32 45-56-20 12-42 20-65 25a102 102 0 0 0-174 93c-84-5-160-45-210-107a101 101 0 0 0 32 136c-17 0-33-5-47-12v1c0 49 36 90 82 100a102 102 0 0 1-46 2c13 40 51 70 95 70A205 205 0 0 1 1 407c46 29 99 45 157 45a288 288 0 0 0 290-303c20-14 37-32 51-53z"/></symbol><symbol viewBox="0 0 500 500" id="icon-whatsapp"><title>whatsapp</title><path d="M255 1A243 243 0 0 0 46 368L2 498l135-43a245 245 0 0 0 362-212C499 109 389 1 255 1zm0 444c-42 0-80-13-112-34l-78 25 25-75c-24-33-39-74-39-118 0-111 92-201 204-201s203 90 203 201-91 202-203 202zm114-147l-42-22c-5-2-10-3-14 3s-17 19-21 23c-3 4-7 5-13 1-6-3-26-10-49-32-18-17-30-38-33-44-4-6 0-10 3-13l10-10 6-10c3-4 2-8 0-11l-17-47c-5-12-10-10-14-10l-12-1c-4-1-11 1-17 7s-22 20-23 50c-1 31 20 61 23 65 3 5 40 70 103 98 62 27 62 18 74 18 11-1 37-14 43-28s6-27 5-29c-2-3-6-5-12-8z"/></symbol></svg>',a.style.display="none",b.body.appendChild(a)},mergeOptions:function(a){var b,c={selector:".share-bar",campaign:"share-bar",classPopup:"share-popup",facebookAppId:"",networks:[e,f,g,h,i,j],theme:"natural",buttonWidth:k,buttonFullWidth:l,buttonPadding:m,maxSocialButtons:n,context:"desktop",onCreateBar:function(a){return !1},onCreateButton:function(a){return !1},onShare:function(a){return !1}};a||(a={});for(b in c){c.hasOwnProperty(b)&&(this[b]=a[b]||c[b])}},validateNetworks:function(a){var b="The list of networks passed on initialization is wrong",c=0,d="",k="";if("[object Array]"!==Object.prototype.toString.call(a)){throw new Error(b+" [Should be an Array]")}for(c;c<a.length;c++){if("string"==typeof a[c]){if(d=a[c],d=d.substr(0,1).toUpperCase()+d.substr(1),k=ShareBar.prototype["create"+d+"Button"],!k){throw new Error(b+' [Network name "'+a[c]+'" is wrong, should be '+e+" or "+f+" or "+g+" or "+h+" or "+i+" or "+j+"]")}a[c]=k}else{if("function"!=typeof a[c]){throw new Error(b+" [Should be string or function]")}}}return a},createBars:function(){var a=this.containers,b=0;for(b=0;b<a.length;b++){this.createBar(a[b])}},createBar:function(a,b){var c=" share-theme-",d=0,e=0,f=[];for(b=this.validateNetworks(b||this.networks),b=b.slice(0,this.maxSocialButtons),e=b.length,f=this.getButtonsSize(a.offsetWidth,e),d;d<e;d++){b[d].call(this,a,f[d])}c+=a.getAttribute("data-theme")||this.theme,a.className+=" share-bar-container"+c,this.bindOpenPopup(a),this.bindShare(a),this.onCreateBar(a)},getButtonsSize:function(a,b){var c=this.buttonFullWidth+this.buttonPadding,d=this.buttonWidth+this.buttonPadding,e=this.isSmallScreen();return b*d>a?this.getButtonsSmall(b,d,a):e?["","","","","",""]:this.getButtonsFull(b,c,d,a)},getButtonsSmall:function(a,b,c){var d=[],e=1,f=0,g=this.isSmallScreen();for(e;e<=a;e++){f=e*b,f<=c?d[e-1]=g?"":" share-small":d[e-1]=" share-hidden"}return d},getButtonsFull:function(a,b,c,d){var e=[],f=1,g=0,h=0;for(f;f<=a;f++){g=f*b,h=(a-f)*c,h+g<=d?e[f-1]=" share-full":e[f-1]=" share-small"}return e},bindOpenPopup:function(a){var b=a.querySelectorAll("."+this.classPopup),e=0,f=this,g=function(a){f.openPopup.call(this,a)};for(e;e<b.length;e++){d(b[e],this.eventName,g),d(b[e],"click",c)}},bindShare:function(a){var b=a.querySelectorAll("."+o),c=0,e=this,f=function(a){e.onShare(this)};for(c;c<b.length;c++){d(b[c],this.eventName,f)}},openPopup:function(b){var c=a.open(this.getAttribute("href"),"popup","height=400,width=500,left=10,top=10,resizable=yes,scrollbars=no,toolbar=no,menubar=no,location=no,directories=no,status=no");c.focus()},getMetadataFromElement:function(b){var c,d=a.encodeURIComponent,e=b.getAttribute("data-url")||"",f=e.split("#"),g="?utm_source=#source#&utm_medium=share-bar-"+this.context+"&utm_campaign="+this.campaign;return c=f.length>1?f[0]+g+"&#"+f[1]:e+g,{url:d(c),title:d(b.getAttribute("data-title")||""),imageUrl:d(b.getAttribute("data-image-url")||""),hashtags:d(b.getAttribute("data-hashtags")||"")}},isSmallScreen:function(){var b=768,c=a.innerWidth||screen.width;return c<b},createButton:function(a,c,d,e,f,g){var h=b.createElement("div"),i="";return f=f||c,d=d||"",h.className=o+" share-"+c+d,f=f[0].toUpperCase()+f.slice(1),e=e.replace("%23source%23",c),g||(i=this.classPopup),h.innerHTML=['<a class="'+i+'" href="'+e+'" title="Compartilhar via '+f+'" target="_blank" rel="external">',this.createContentButton(c,f),"</a>"].join(""),a.appendChild(h),this.onCreateButton(h),h},createContentButton:function(a,b){var c;return b=b||a,c=['   <div class="svg-size">','      <svg viewBox="0 0 100 100" class="share-icon">','           <use xlink:href="#icon-'+a+'"></use>',"       </svg>","   </div>","<span>"+b+"</span>"].join("")},createFacebookButton:function(b,f){var g="",h="",i=this.getMetadataFromElement(b),j=i.url.replace("%23source%23",e);h=this.createButton(b,e,f,"http://www.facebook.com/","",!0),this.getFacebookUi(),g=function(){var b=a.decodeURIComponent;FB.ui({method:"feed",display:"popup",link:b(j),name:b(i.title),picture:b(i.imageUrl)})},d(h,this.eventName,g),d(h,"click",c)},getFacebookUi:function(){var c=this.facebookAppId||this.getOgFbAppId();return !a.FB&&void (c&&(a.fbAsyncInit=function(){FB.init({appId:c,xfbml:!0,version:"v2.8"})},function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(d,e))}(b,"script","facebook-jssdk")))},getOgFbAppId:function(){var a=b.querySelector("meta[property='fb:app_id']");if(null!==a){return a.getAttribute("content")}},createTwitterButton:function(a,b){var c=this.getMetadataFromElement(a);this.createButton(a,f,b,"https://twitter.com/share?url="+c.url+"&amp;text="+c.title+" "+c.hashtags)},createGoogleButton:function(a,b){var c=this.getMetadataFromElement(a);this.createButton(a,h+"plus",b,"https://plus.google.com/share?url="+c.url,h+"+")},createPinterestButton:function(a,b){var c=this.getMetadataFromElement(a);this.createButton(a,i,b,"http://br.pinterest.com/pin/create/button/?url="+c.url+"&amp;media="+c.imageUrl+"&amp;description="+c.title)},createWhatsappButton:function(a,b){var c=this.getMetadataFromElement(a);return !(!this.isSmallScreen()||!this.isTouch())&&void this.createButton(a,g,b,"whatsapp://send?text="+c.title+"%20"+c.url,"",!0)},createEmailButton:function(a,b){var c=this.getMetadataFromElement(a);return !!this.isTouch()&&void this.createButton(a,j,b,"mailto:?subject="+c.title+"&amp;body="+c.url,"e-mail",!0)}}}(window,document);(function($){var tooltipAberto=null;$.widget("glb.widgetBase",{_create:function(){},getChaveRecaptcha:function(){return"6LcsOLsSAAAAAJ1bSfGuvANCekRqzWxwYTFSJB7d"},getTemplate:function(nome,insereHtml,elemento){var html=unescape(glbComentarios.templates[nome]);if(insereHtml){if(nome.indexOf("main")!==-1){elemento.html(html)}else{elemento.append(html)}}else{this.template=html}},getCorProduto:function(){if(this.options.corProduto!==""){return this.options.corProduto}var url=window.location.href;if(url.indexOf("http://g1")!==-1){return"#A80000"}if(url.indexOf("www.techtudo")!==-1||url.indexOf("http://techtudo")!==-1){return"#FF851F"}if(url.indexOf("http://ego")!==-1){return"#F94B85"}return"#666666"},getApi:function(){if(!this.api){this.api=this.element.hasClass("glbComentarios")?this.element.comentarios("getApi"):this.element.parents(".glbComentarios").comentarios("getApi")}return this.api},getUsuario:function(){if(!this.usuario){this.usuario=this.element.hasClass("glbComentarios")?this.element.comentarios("getUsuario"):this.element.parents(".glbComentarios").comentarios("getUsuario")}return this.usuario},getTitulo:function(){return this.element.parents(".glbComentarios").comentarios("getTitulo")},setUsuario:function(usuario){this.usuario=this.element.hasClass("glbComentarios")?this.element.comentarios("setUsuario"):this.element.parents(".glbComentarios").comentarios("setUsuario",usuario)},setImagemUsuario:function($seletor,avatarImgUrl,sexo){if(avatarImgUrl){$seletor.attr("src",avatarImgUrl).load(function(){$(this).show()})}else{$seletor.removeAttr("src").hide()}},getEditoria:function(){if(!this.editoria){this.editoria=this.element.hasClass("glbComentarios")?this.element.comentarios("getEditoria"):this.element.parents(".glbComentarios").comentarios("getEditoria")}return this.editoria},getJsonTotalComentariosTopico:function(){if(!this.jsonTotalComentariosTopico){this.jsonTotalComentariosTopico=this.element.hasClass("glbComentarios")?this.element.comentarios("getJsonTotalComentariosTopico"):this.element.parents(".glbComentarios").comentarios("getJsonTotalComentariosTopico")}return this.jsonTotalComentariosTopico},getMain:function(){if(!this.main){this.main=this.element.hasClass("glbComentarios")?this.element:this.element.parents(".glbComentarios")}return this.main},getBrowserSuporta:function(elemento,propriedade){var objeto=document.createElement(elemento);return(propriedade in objeto)},getLiComentarioRaiz:function(elemento){var comentariosPais=elemento.parents("li[data-comentario-id]");var comentarioRaiz=comentariosPais.last();return comentarioRaiz},criaEventoclicouFora:function(elemento,classe,classeFechar){var self=this;var tooltipAberto=elemento;if(classe==="glbComentarios-tooltip-sair"){$(document).bind("click",function(e){if(tooltipAberto){var clicouDentroTooltip=$(e.target).hasClass(classe)||$(e.target).hasClass("glbComentarios-btn-sair");if(!clicouDentroTooltip){elemento.removeClass("on");self.removeEventoclicouFora()}}})}else{if(tooltipAberto){tooltipAberto.removeClass("on");this.removeEventoclicouFora()}tooltipAberto=elemento;$(document).bind("click.clicarfora focus.clicarfora",function(e){var clicouDentroTooltip=$(e.target).hasClass(classe)||$(e.target).parents("."+classe).hasClass(classe);var clicouBotaoFechar=$(e.target).hasClass(classeFechar);if(!clicouDentroTooltip||clicouBotaoFechar){elemento.removeClass("on");self.removeEventoclicouFora()}})}},removeEventoclicouFora:function(){tooltipAberto=null;$(document).unbind("click.clicarfora focus.clicarfora")},expirouComentario:function(hora,limite){var horaAgora=new Date().getHours();return(horaAgora-hora)>limite},_eventoAtualizaAvatar:function(){var self=this;this.getMain().bind("main.atualizaImagemAvatar",function(e,avatarImgUrl){self._atualizaImagemUsuario(avatarImgUrl)})},_fazScrollTop:function(altura,callback){altura=Math.ceil(altura);var body=$("html, body");var alturaAtual=body.scrollTop();if(altura===alturaAtual&&callback){callback();return false}body.animate({scrollTop:altura,easing:"easeOutBounce"},{duration:600,queue:false,complete:callback});return true},_atualizaImagemUsuario:function(avatarImgUrl){var seletor=$(".glbComentarios-formulario-aberto .glbComentarios-usuario-avatar");this.setImagemUsuario(seletor,avatarImgUrl,this.getUsuario().sexo)},naoImprimiveisParaEspaco:function(str){return str.replace(/[\0\n\f\r\t\v]/g," ")}})})(glb.comentarios.getJqueryComentarios());(function($){$.comentarios=(function(){var defaults={uri:null,url:null,shortUrl:null,idExterno:null,titulo:null,totalCommentsUrl:"//comentarios.globo.com/comentarios/{uri}/{idExterno}/{url}/{shorturl}/{titulo}/numero",totalUrl:"//comentarios.globo.com/comentarios/{uri}/{idExterno}/{url}/{shorturl}/{titulo}/{pagina}.json",comentariosPopulares:"//comentarios.globo.com/comentarios/{uri}/{idExterno}/{url}/{shorturl}/{titulo}/populares/{pagina}.json",denunciarUrl:"//comentarios.dinamico.globo.com/comentarios/{uri}/{idExterno}/{url}/{shorturl}/{titulo}/{idComentario}/denunciar",editoriaUrl:"//comentarios.globo.com/comentarios/editoria/{uri}",newCommentUrl:"//comentarios.dinamico.globo.com/comentarios/{uri}/{idExterno}/{url}/{shorturl}/{titulo}/{recaptchaChallenge}/{recaptchaResponse}/{texto}/novo/?comentarioPai={comentario_pai}",trocarFotoUrl:"//comentarios.dinamico.globo.com/comentarios/trocarFoto?rede_social={redeSocial}",respostasUrl:"//comentarios.globo.com/comentarios/respostas/{comentarioPai}/{pagina}.json"};var Comentarios=function(opts){this.options=$.extend({},defaults,opts);if(!this.options.uri||!this.options.titulo||!this.options.idExterno||!this.options.url){throw"A uri, título, idExterno e url do tópico são todas requeridas e precisam ser passadas como opções de mesmo nome."}this.options.uri=encodeURIComponent(this.options.uri===null?"":this.options.uri.replace(/\//g,"@@"));this.options.url=encodeURIComponent(this.options.url===null?"":this.options.url.replace(/\//g,"@@"));this.options.idExterno=encodeURIComponent(this.options.idExterno===null?"":this.options.idExterno.replace(/\//g,"@@"));this.options.titulo=encodeURIComponent(this.options.titulo===null?"":this.options.titulo.replace(/\//g,"@@"));this.options.shortUrl=encodeURIComponent(this.options.shortUrl===null?"shorturl":this.options.shortUrl.replace(/\//g,"@@"))};Comentarios.prototype._getJSON=function(opts){var _self=this;$.jsonp({url:opts.url,cache:true,callback:opts.callback_name,success:function(result){if(result.editoria){_self.editoria=result.editoria}opts.success.call(null,result)},error:function(obj,status){try{opts.error.call(null,status)}catch(erro){throw erro}}})};Comentarios.prototype.getEditoria=function(callback){var _self=this;if(this.editoria){callback.call(null,this.editoria)}else{var url=this.options.editoriaUrl.replace("{uri}",this.options.uri);this._getJSON({url:url,callback_name:"__get_editoria",success:function(editoria){_self.editoria=editoria;callback.call(null,editoria)}})}};Comentarios.prototype.getTotalComentariosTopico=function(callback){var url=this.options.totalCommentsUrl.replace("{uri}",this.options.uri).replace("{url}",this.options.url).replace("{shorturl}",this.options.shortUrl).replace("{idExterno}",this.options.idExterno).replace("{titulo}",this.options.titulo);this._getJSON({url:url,callback_name:"__callbackjsonp_verificaTotalComentarios",success:callback})};Comentarios.prototype.getComentarios=function(tipo,idUsuario,pagina,callback){var url=this.options[tipo].replace("{uri}",this.options.uri).replace("{url}",this.options.url).replace("{shorturl}",this.options.shortUrl).replace("{idExterno}",this.options.idExterno).replace("{titulo}",this.options.titulo).replace("{idUsuario}",idUsuario).replace("{pagina}",pagina);this._getJSON({url:url,callback_name:"__callback_listacomentarios",success:callback,error:callback})};Comentarios.prototype.denunciar=function(opts){var url=this.options.denunciarUrl.replace("{uri}",this.options.uri).replace("{url}",this.options.url).replace("{shorturl}",this.options.shortUrl).replace("{idExterno}",this.options.idExterno).replace("{titulo}",this.options.titulo).replace("{idComentario}",opts.idComentario);this._getJSON({url:url,callback_name:"__denunciado",success:opts.success,error:opts.error})};Comentarios.prototype.getRespostas=function(comentarioPai,pagina,success){var url=this.options.respostasUrl.replace("{comentarioPai}",comentarioPai).replace("{pagina}",pagina);this._getJSON({url:url,callback_name:"__callback_listacomentarios",success:success})};Comentarios.prototype.enviarComentario=function(opts){var url=this.options.newCommentUrl.replace("{uri}",this.options.uri).replace("{url}",this.options.url).replace("{shorturl}",this.options.shortUrl).replace("{idExterno}",this.options.idExterno).replace("{titulo}",this.options.titulo).replace("{recaptchaChallenge}",opts.recaptchaChallenge).replace("{recaptchaResponse}",opts.recaptchaResponse).replace("{texto}",encodeURIComponent(opts.texto.replace(/\//g,"@@"))).replace("{comentario_pai}",opts.comentarioPai);this._getJSON({url:url,callback_name:"__callbackjsonp_criacaoNovoPost",success:opts.success})};Comentarios.prototype.trocarFoto=function(opts){var url=this.options.trocarFotoUrl.replace("{redeSocial}",opts.redeSocial);this._getJSON({url:url,callback_name:"__trocada",success:opts.success})};return function(opts){return new Comentarios(opts)}}())})(glb.comentarios.getJqueryComentarios());(function($){$.widget("glb.comentariosPaginacao",{options:{},_create:function(){this.elementos={};this._monta();this._bindsEventos()},_monta:function(){var html=['<button type="button" class="glbComentarios-botao-mais">Carregar mais comentários</button>'];this.element.append(html.join(""));this.elementos.botaoMais=this.element.find(".glbComentarios-botao-mais")},_bindsEventos:function(){var self=this;this.elementos.botaoMais.bind("click",function(e){self.element.trigger(self.options.eventoPaginacao);$(".glbComentarios").trigger("atualiza_lista")})},destroy:function(){this.elementos.botaoMais.addClass("off")},ativa:function(){this.elementos.botaoMais.removeClass("off")}})})(glb.comentarios.getJqueryComentarios());(function($){$.widget("glb.comentarioStorage",$.glb.widgetBase,{options:{qtdMaxElementos:20},getComentarios:function(){return kizzy("storage").get("comentarios")},setComentarios:function(listaComentarios){return kizzy("storage").set("comentarios",listaComentarios)},verificaComentarios:function(texto){var comentarios=this.getComentarios();var podeComentar=true;texto=texto.replace(/ /g,"");if(comentarios){$.each(comentarios,function(indice,elemento){if(elemento.texto===texto){podeComentar=false;return false}})}return podeComentar},retiraExpirados:function(){var self=this;var comentarios=this.getComentarios();var listaComentarios=[];var tempoExpiracao=3;if(comentarios){$.each(comentarios,function(indice,elemento){if(!self._expirouComentario(elemento.hora,tempoExpiracao)){listaComentarios.push(elemento)}})}try{this.setComentarios(listaComentarios)}catch(e){}},adiciona:function(texto){var comentarios=[];var objComentarios={hora:new Date().getTime(),texto:texto.replace(/ /g,"")};if(this.getComentarios()){comentarios=this.getComentarios("comentarios")}if(comentarios.length<this.options.qtdMaxElementos){comentarios.push(objComentarios)}else{comentarios.shift();comentarios.push(objComentarios)}try{this.setComentarios(comentarios)}catch(e){}},_expirouComentario:function(hora,limite){var horaAgora=new Date().getTime();var intervaloHora=((horaAgora-hora)/3600000);return intervaloHora>limite},montaComentarioFake:function(texto,idComentarioPai){var usuario=this.getUsuario();var editoria=this.getEditoria();var resposta=(editoria.tipo==0)?"PREMODERADO":"POSMODERADO";var resultado={resposta:resposta,itens:[{topico:{uri:this.getApi().options.uri,url:this.getApi().options.url,titulo:this.getApi().options.titulo},texto:texto,dataCadastro:new Date().toUTCString().replace(" GMT",""),dataRFC1123:new Date().toUTCString().replace(" GMT",""),idComentario:-1,idComentarioPai:idComentarioPai,facebook_id:null,Usuario:{email:usuario.email,nome:usuario.nome,nomeFormatado:usuario.nome,sexo:usuario.sexo,uf:usuario.uf,cidade:usuario.cidade,pais:usuario.pais,usuarioId:usuario.usuarioId,avatarImgUrl:usuario.avatarImgUrl}}],editoria:{id:editoria.id,uri:editoria.uri,twitter:1,facebook:1,tipo:editoria.tipo,ordemExibComent:editoria.ordemExibComent,maxQtdAbuso:editoria.maxQtdAbuso,qtdComentPag:editoria.qtdComentPag,qtdMaxComentVisivel:editoria.qtdMaxComentVisivel},proximo_comentario_tem_captcha:usuario.proximo_comentario_tem_captcha};return resultado}})})(glb.comentarios.getJqueryComentarios());(function($){$(function(){$(".glbComentarios-aba .recentes").live("click",function(){$(".glbComentarios-aba .recentes").addClass("glbComentarios-barra-cor-produto");$(".glbComentarios-aba .populares").removeClass("glbComentarios-barra-cor-produto");$(".glbComentarios-lista-populares").css("display","none");$(".glbComentarios-lista-recentes").css("display","block")});$(".glbComentarios-aba .populares").live("click",function(){$(".glbComentarios-aba .recentes").removeClass("glbComentarios-barra-cor-produto");$(".glbComentarios-aba .populares").addClass("glbComentarios-barra-cor-produto");$(".glbComentarios-lista-recentes").css("display","none");$(".glbComentarios-lista-populares").css("display","block");$(this).trigger("mostrarPopulares")});$(".glbComentarios-aba").live("click",function(){$(".glbComentarios").trigger("atualiza_cor_aba")})})})(glb.comentarios.getJqueryComentarios());(function($){$.widget("glb.comentariosBotoesListar",$.glb.widgetBase,{_create:function(){this.api=this.getApi();this._leitura();this.elementos={}},_leitura:function(){var self=this;this.element.bind("botoesListar.criaBotoes",function(e,dadosBotoes){if(typeof dadosBotoes==="object"){var textoBotao="Comente agora";var botoes;var json=self.getJsonTotalComentariosTopico();var total=json.numeroDeComentarios;if(total>0){textoBotao=total+(total>1?" comentários":" comentário")}if(dadosBotoes.topo){botoes=dadosBotoes.topo;self.elementos.botaoTopo=$(dadosBotoes.topo);self.elementos.botaoTopo.addClass("glbComentarios-botao-topo").html(textoBotao)}if(dadosBotoes.baixo){if(botoes){botoes+=", "+dadosBotoes.baixo}else{botoes=dadosBotoes.baixo}self.elementos.botaoBaixo=$(dadosBotoes.baixo);self.elementos.botaoBaixo.addClass("glbComentarios-botao-baixo").html(textoBotao)}if(dadosBotoes.custom){if(botoes){botoes+=", "+dadosBotoes.custom}else{botoes=dadosBotoes.custom}}self.elementos.botoes=$(botoes);self._eventoAbreComentarios()}})},_eventoAbreComentarios:function(){var self=this;this.elementos.botoes.bind("click",function(e){self.getMain().trigger("main.abreComentarios");e.preventDefault()})}})})(glb.comentarios.getJqueryComentarios());(function($){$.widget("glb.comentariosErro",{options:{message:null},_create:function(){var self=this;var message=self.options.message||"<strong>Ops!</strong> Alguma coisa não <br /> funcionou muito bem...";$.blockUI({message:message,baseZ:9000,css:{width:"250px",left:($(window).width()-250)/2+"px"}});$(".blockOverlay").attr("title","Clique para fechar");$(".blockMsg").addClass("blockErro").append('<button type="button" class="glbComentariosErro-btn-fecha-erro" title="Clique para fechar"></button>');$(".blockUI .glbComentariosErro-btn-fecha-erro").bind("click",function(){self.destroy()});$(".blockOverlay").bind("click",function(){self.destroy()})},destroy:function(){$.unblockUI();$.Widget.prototype.destroy.apply(this,arguments)}})})(glb.comentarios.getJqueryComentarios());(function($){$.widget("glb.comentariosDenunciar",$.glb.widgetBase,{options:{idComentario:null,denunciarApenasLogado:false},_create:function(){var self=this;this.elementos={};this.opcoes={idComentario:self.options.idComentario,denunciarApenasLogado:self.options.denunciarApenasLogado};this.api=this.getApi();this._monta()},_monta:function(){this.elementos.li=this.element.parents("li:eq(0)");this.elementos.comentario=this.elementos.li.find(".glbComentarios-dados-usuario");this.elementos.denunciarWrapper=$(this.elementos.comentario.find(".glbComentarios-btn-denunciar-wrapper")[0]);this.elementos.botaoSim=this.elementos.denunciarWrapper.find(".glbComentarios-bt-denunciar-sim");this.elementos.botaoNao=this.elementos.denunciarWrapper.find(".glbComentarios-bt-denunciar-nao");this.opcoes.idComentario=parseInt(this.elementos.comentario.parents("li").attr("data-comentario-id").replace("comentario-",""),10);var eventos=this.eventosTooltip();eventos.init()},eventosTooltip:function(){var self=this;return{init:function(){if(this.jaDenunciado(self.opcoes.idComentario)){this.processaSucessoDenuncia({})}else{this.abre();this.selecionaNao();this.selecionaSim();if(self.opcoes.denunciarApenasLogado){self.element.comentariosLogin({eventoCallback:"denunciar.autenticacao"})}}},jaDenunciado:function(idComentario){return kizzy("denunciar").get("abuso_comentario_"+idComentario)},fecharTodos:function(){$(".glbComentarios-header").parent().unbind("click").bind("click",function(e){$(".glbComentarios-btn-denunciar-wrapper.hovered").removeClass("hovered").removeClass("on");$(".glbComentarios-btn-denunciar-wrapper .glbComentarios-bt-denunciar-sim").removeClass("on").hide();$(".glbComentarios-header").parent().unbind("click")})},abre:function(){var that=this;if(self.opcoes.denunciarApenasLogado){self.element.bind("denunciar.autenticacao",function(e){e.stopPropagation();$(".glbComentarios-btn-denunciar-wrapper.hovered").removeClass("hovered").removeClass("on");$(".glbComentarios-btn-denunciar-wrapper .glbComentarios-bt-denunciar-sim").removeClass("on").hide();that.fecharTodos();self.elementos.botaoSim.show(0,function(){$(this).addClass("on");$(this).parent().addClass("hovered")})})}else{self.element.click(function(e){e.stopPropagation();$(".glbComentarios-btn-denunciar-wrapper.hovered").removeClass("hovered").removeClass("on");$(".glbComentarios-btn-denunciar-wrapper .glbComentarios-bt-denunciar-sim").removeClass("on").hide();that.fecharTodos();self.elementos.botaoSim.show(0,function(){$(this).addClass("on");$(this).parent().addClass("hovered")})})}},selecionaNao:function(){self.elementos.botaoNao.click(function(e){$(".glbComentarios-conteudo").removeClass("hovered");self.elementos.botaoSim.removeClass("on").hide();e.preventDefault()})},reiniciaContadorDenuncia:function(){var data_ultima_denuncia=kizzy("denunciar").get("data_ultima_denuncia");if(data_ultima_denuncia===undefined){data_ultima_denuncia=0}var one_day=1000*60*60*24;if((new Date().getTime()-new Date(data_ultima_denuncia).getTime())>=one_day){kizzy("denunciar").set("data_ultima_denuncia",new Date());kizzy("denunciar").set("qtd",0)}},reportarErroAoDenunciar:function(idComentario){if(!!kizzy("denunciar").get("abuso_comentario_"+idComentario)){this.processaSucessoDenuncia({status_reportado:"ABUSO_JA_REPORTADO"})}else{if(kizzy("denunciar").get("qtd")>=10){this.processaSucessoDenuncia({status_reportado:"LIMITE_DE_DENUNCIA_ATINGIDO"})}}},podeDenunciarComentario:function(idComentario){this.reiniciaContadorDenuncia();var abuso_comentario_reportado=kizzy("denunciar").get("abuso_comentario_"+idComentario);var denuncias_abaixo_limite=kizzy("denunciar").get("qtd")===undefined||kizzy("denunciar").get("qtd")<10;return !abuso_comentario_reportado&&denuncias_abaixo_limite},marcarComoDenunciado:function(idComentario){kizzy("denunciar").set("abuso_comentario_"+idComentario,true);kizzy("denunciar").set("qtd",kizzy("denunciar").get("qtd")+1)},desabilitarBotoesDenunciar:function(){$(".glbComentarios-bt-denunciar").attr("disabled","disabled")},processaSucessoDenuncia:function(json){self.elementos.denunciarWrapper.addClass("denunciado");self.elementos.denunciarWrapper.removeClass("hovered");self.elementos.li.addClass("denunciado");self.elementos.botaoSim.removeClass("on").hide();self.elementos.mensagem=self.elementos.comentario.find(".glbComentarios-mensagem-denunciado");$(".glbComentarios-header").parent().unbind("click")},processaErroDenuncia:function(){var self=this;self.element.addClass("off");self.elementos.botaoSim.removeClass("on").hide()},selecionaSim:function(){var that=this;self.elementos.botaoSim.click(function(e){self.opcoes.success=that.processaSucessoDenuncia;self.opcoes.error=that.processaErroDenuncia;if(that.podeDenunciarComentario(self.opcoes.idComentario)){self.api.denunciar(self.opcoes);that.marcarComoDenunciado(self.opcoes.idComentario)}else{that.reportarErroAoDenunciar(self.opcoes.idComentario)}self.element.unbind();e.preventDefault()})}}}})})(glb.comentarios.getJqueryComentarios());(function($){$.widget("glb.comentariosAvatar",$.glb.widgetBase,{options:{twitter:true,facebook:true},_create:function(){this.main=this.getMain();this.api=this.getApi();this.elementos={}}})})(glb.comentarios.getJqueryComentarios());(function($){$.widget("glb.comentarios",$.glb.widgetBase,{options:{uri:null,url:null,titulo:null,idExterno:null,callbackFechaLogin:function(){},callbackAbreLogin:function(){},callbackLogado:function(){},callbackCarregado:function(){},callbackCompartilhado:function(){},shortUrl:"shorturl",comentariosVemAberto:true,botaoComentario:{topo:null,baixo:null,custom:null},exibeTeaserComentarios:false,qtdComentariosNoTeaser:6,linkVerTodosComentarios:"http://www.globo.com",corProduto:"",disclaimer:"Conforme Termo de Uso, comentários com conteúdo inadequado e spam poderão ser removidos a critério da Globo.com.",fechado:false},_create:function(){this._validaParametros();var self=this;this.botaoComentario=this.options.botaoComentario;this.elementos={};this.options.idExterno=this.options.idExterno+"";this.apiComentarios=$.comentarios({uri:this.options.uri,url:this.options.url,titulo:this.options.titulo,idExterno:this.options.idExterno,shortUrl:this.options.shortUrl});var element=this.element;this._initCadun(function(){self._verificaUsuario(element)});$(".glbComentarios").live("atualiza_cor_aba",function(){self.atualizaCorAba()});this.element.bind("main.informacoesRedeSocialUsuario",function(e,dadosOauth){self.usuario[dadosOauth.redeSocial]=dadosOauth[dadosOauth.redeSocial]});this.element.bind("main.atualizaImagemAvatar",function(e,avatarImgUrl){self.usuario.avatarImgUrl=avatarImgUrl});this.element.bind("main.abreComentarios",function(e){self._abreComentarios()});$.getScript("//comentarios.globo.com/static/widget/js/lib/recaptcha.min.js")},_verificaUsuario:function(element){var self=this;glbComentarios.proximoComentarioTemCaptcha=false;$.verificaAutenticacao(function(usuario){self.usuario=usuario;if(usuario){glbComentarios.proximoComentarioTemCaptcha=self.usuario.proximo_comentario_tem_captcha}self.getApi().getTotalComentariosTopico(function(jsonTotalComentariosTopico){self.jsonTotalComentariosTopico=jsonTotalComentariosTopico;var totalComentarios=self.jsonTotalComentariosTopico;if(self.jsonTotalComentariosTopico.bloqueado){self.options.fechado=true}else{if(self.jsonTotalComentariosTopico.permanecerAberto){self.options.fechado=false}else{if(totalComentarios.editoria.maxDiasAberto===0){self.options.fechado=true}else{if(totalComentarios.editoria.maxDiasAberto&&totalComentarios.dataCadastro){var diff=self._diferencaEmDiasParaDataCadastro(totalComentarios.dataCadastro);if(diff>=totalComentarios.editoria.maxDiasAberto){self.options.fechado=true}}}}}self.getApi().getEditoria(function(editoria){self.editoria=editoria;self._leitura(self.options.fechado);self._lancaEventos();if(self.temHashNaUrl()){self._abreComentarios()}if(self.options.fechado){$(element).children(".glbComentarios-formulario").html('<p class="glbComentariosFechados">Este conteúdo não recebe mais comentários.</p>')}})})})},_initCadun:function(callback){$.getScript("https://s.glbimg.com/pc/ca/cadun.js",function(){callback()})},recreate:function(){this.element.empty();this._create()},setUsuario:function(usuario){if(usuario){this.usuario=usuario;this.element.trigger("main.informacoesUsuario",usuario)}},atualizaCorLinks:function(){var cor=this.getCorProduto();var corOriginal="#666666";var elementos=$(".glbComentarios-link-cor");elementos.live("mouseover",function(){$(this).css("color",cor)}).live("mouseout",function(){$(this).css("color",corOriginal)})},atualizaCorAba:function(){var cor=this.getCorProduto()},getTitulo:function(){return this.options.titulo},getApi:function(){return this.apiComentarios},getUsuario:function(){return this.usuario},getEditoria:function(){return this.editoria},getJsonTotalComentariosTopico:function(){return this.jsonTotalComentariosTopico},_leitura:function(comentariosFechado){this.element.addClass("glbComentarios");if(!this.options.comentariosVemAberto){this.element.addClass("off")}this.getTemplate("main.tpl",true,this.element);this.elementos.formulario=this.element.find(".glbComentarios-formulario").html("");this.elementos.lista=this.element.find(".glbComentarios-lista-recentes").html("");this.elementos.listaPopulares=this.element.find(".glbComentarios-lista-populares").html("");this._criaInstanciaLista(comentariosFechado);var totalComentarios=this.jsonTotalComentariosTopico;if(totalComentarios.tem_ratings){this._criaInstanciaListaPopulares(comentariosFechado)}this._criaInstanciaForm();this.atualizaCorAba()},_diferencaEmDiasParaDataCadastro:function(data_cadastro){var original=new Date(data_cadastro*1000);var original=new Date(original.getUTCFullYear(),original.getUTCMonth(),original.getUTCDate(),original.getUTCHours(),original.getUTCMinutes(),original.getUTCSeconds());var actual=new Date();var delta=actual-original;return Math.floor(delta/1000/60/60/24)},_criaInstanciaForm:function(){this.elementos.formulario.comentariosForm()},_pegaOptionsComTeaser:function(comentariosFechado){return{qtdComentariosNoTeaser:this.options.qtdComentariosNoTeaser,linkVerTodosComentarios:this.options.linkVerTodosComentarios,callbackLogado:this.options.callbackLogado,callbackCarregado:this.options.callbackCarregado,callbackCompartilhado:this.options.callbackCompartilhado,disclaimer:this.options.disclaimer,fechado:comentariosFechado}},_pegaOptionsSemTeaser:function(){return{linkVerTodosComentarios:this.options.linkVerTodosComentarios,callbackLogado:this.options.callbackLogado,callbackCarregado:this.options.callbackCarregado,callbackCompartilhado:this.options.callbackCompartilhado,disclaimer:this.options.disclaimer}},_criaInstanciaListaPopulares:function(comentariosFechado){var options;if(this.options.exibeTeaserComentarios){options=this._pegaOptionsComTeaser(comentariosFechado);options.populares=true;this.elementos.listaPopulares.comentariosLista(options)}else{options=this._pegaOptionsSemTeaser();options.populares=true;this.elementos.listaPopulares.comentariosLista(options)}},_criaInstanciaLista:function(comentariosFechado){var options;if(this.options.exibeTeaserComentarios){options=this._pegaOptionsComTeaser(comentariosFechado);this.elementos.lista.comentariosLista(options)}else{options=this._pegaOptionsSemTeaser();this.elementos.lista.comentariosLista(options)}},_validaParametros:function(){var msgErroCaracteres=" caracteres. Quando não deveria ter mais do que ";this.options.disclaimer=this.options.disclaimer||"";if(this.options.disclaimer!==$.glb.comentarios.prototype.options.disclaimer){this.options.disclaimer=this.options.disclaimer.replace(/<\/?\w+(\s+)?[^>]*>/g,"");this.options.disclaimer=this.options.disclaimer.substr(0,115)}if(!this.options.uri||!this.options.titulo||!this.options.idExterno||!this.options.url){throw new Error("As propriedades: uri, url, título, idExterno do tópico são obrigatórias")}if(this.options.url.length>255){throw new Error("A url possui "+this.options.url.length+msgErroCaracteres+"255")}if(this.options.uri.length>1200){throw new Error("A uri possui "+this.options.uri.length+msgErroCaracteres+"1200")}if(this.options.titulo.length>255){throw new Error("O titulo possui "+this.options.titulo.length+msgErroCaracteres+"255")}if(this.options.idExterno.length>50){throw new Error("O idExterno possui "+this.options.idExterno.length+msgErroCaracteres+"50")}if(typeof this.options.callbackLogado!=="function"||typeof this.options.callbackCompartilhado!=="function"||typeof this.options.callbackCarregado!=="function"||typeof this.options.callbackAbreLogin!=="function"||typeof this.options.callbackFechaLogin!=="function"){throw new Error("As callbacks passadas não são funções válidas")}if(this.options.shortUrl.length>100){this.options.shortUrl=this.options.shortUrl.substring(0,90)}if(typeof this.options.qtdComentariosNoTeaser!=="number"){throw new Error("O parâmetro qtdComentariosNoTeaser deveria ser um número")}if(typeof this.options.botaoComentario!=="object"){throw new Error("O parâmetro botaoComentario deveria ser um objeto")}},_lancaEventos:function(){if(this.botaoComentario.topo||this.botaoComentario.baixo||this.botaoComentario.custom){this.element.comentariosBotoesListar();this.element.trigger("botoesListar.criaBotoes",this.botaoComentario)}},_abreComentarios:function(){this.element.removeClass("off");var alturaScroll=this.element.offset().top-80;this.element.addClass("ativo");$("html, body").animate({scrollTop:alturaScroll,easing:"easeOutBounce"},{duration:1200,queue:false})},temHashNaUrl:function(){if(window.location.hash==="#comentarios"){return true}return false}})})(glb.comentarios.getJqueryComentarios());(function($){$.widget("glb.comentariosForm",$.glb.widgetBase,{options:{comentarioPai:0,callbackAbreLogin:function(){},callbackFechaLogin:function(){},textoInicial:""},_create:function(){var self=this;this.elementos={};this._monta();this._eventoAutenticacao();this._criaJanelaLogin();this.tipoEditoria={preModerada:0,posModerada:1};this.elementos.textArea.comentariosTextarea({comentarioPai:self.options.comentarioPai,maxlength:600,elementClass:"glbComentarios-textarea-contador",invalidClass:"glbComentarios-textarea-invalido",formulario:self.element});this.elementos.avatar.comentariosAvatar({twitter:1,facebook:1});if(this.getUsuario()){this._atualizaInformacoesUsuario(this.getUsuario())}this._bindEventos()},destroy:function(){$.Widget.prototype.destroy.call(this,arguments);this.element.html("")},_monta:function(){this.getTemplate("formulario.tpl",true,this.element);this.elementos.formInicial=this.element.find(".glbComentarios-dados-form-interno");this.elementos.formAberto=this.element.find(".glbComentarios-formulario-aberto");this.elementos.textArea=this.element.find(".glbComentarios-widget-comentarios-texto");this.elementos.avatar=this.elementos.formAberto.find(".glbComentarios-usuario-anonimo-avatar");this.elementos.captcha=this.element.find(".glbComentarios-captcha");this.elementos.submit=this.element.find(".glbComentarios-botaoEnviar");this.elementos.formAberto.attr("id","glbComentarios-principal-captcha")},_criaJanelaLogin:function(){var self=this;this.elementos.formInicial.comentariosLogin({eventoCallback:"form.eventoCallbackAutenticacao",callbackAbreLogin:self.options.callbackAbreLogin,callbackFechaLogin:self.options.callbackFechaLogin})},_montaRecaptcha:function(){if(glbComentarios.proximoComentarioTemCaptcha){this.elementos.captcha.recaptchaGoogle()}},_eventoAutenticacao:function(){var self=this},_eventoEnviaComentario:function(){var self=this;var teclas={enter:13};this.elementos.captcha.bind("keypress",function(e){if(self._validaCampos()){self.elementos.submit.removeClass("off")}if(e.keyCode==teclas.enter){self.elementos.submit.trigger("click")}});this.elementos.submit.bind("click",function(){if(!$(this).hasClass("off")&&self._validaCampos()){self._enviarComentario()}})},_eventoAtualizaInformacoesUsuario:function(){var self=this;this.getMain().bind("main.informacoesUsuario",function(e,usuario){self._atualizaInformacoesUsuario(usuario)})},_bindEventos:function(){var self=this;this._eventoEnviaComentario();this._eventoAtualizaInformacoesUsuario()},_validaCampos:function(){var self=this;var texto=this.elementos.textArea.val();var captcha=this.element.find("#recaptcha_response_field").val();var valido=true;var existeCaracter=/[^\s]/.test(texto);if(!existeCaracter){self.elementos.textArea.addClass("erro");valido=false}else{if(!captcha&&this.elementos.captcha.is(":visible")){self.elementos.captcha.find("input").addClass("erro");valido=false}else{if(this.elementos.textArea.hasClass("erro")){valido=false}}}return valido},_enviarComentario:function(){var self=this;var recaptchaResponse=$("#recaptcha_response_field",this.elementos.captcha).val()||"sem-captcha";var recaptchaChallenge=$("#recaptcha_challenge_field",this.elementos.captcha).val()||"sem-captcha";var texto=self.elementos.textArea.val();this.storage=this.element.find(".glbComentarios-formulario-aberto").comentarioStorage();this.storage.comentarioStorage("retiraExpirados");var podeComentar=this.storage.comentarioStorage("verificaComentarios",texto);if(podeComentar){this.getApi().enviarComentario({recaptchaChallenge:recaptchaChallenge,recaptchaResponse:recaptchaResponse,texto:texto,comentarioPai:this.options.comentarioPai||"",success:function(resultado){self._processaResposta(self,resultado,texto)}})}else{resultado=this.storage.comentarioStorage("montaComentarioFake",texto,this.options.comentarioPai);self._processaResposta(self,resultado,texto)}return},_processaResposta:function(self,resultado,texto){glbComentarios.proximoComentarioTemCaptcha=resultado.proximo_comentario_tem_captcha;switch(resultado.resposta){case"PREMODERADO":self._respostaEnviarComentario(self,resultado,texto);self._limpaFormulario();break;case"POSMODERADO":self._respostaEnviarComentario(self,resultado,texto);self._limpaFormulario();break;case"captcha-invalido":self.elementos.captcha.trigger("recaptchaGoogle.captchaInvalido");self.element.removeClass("glbComentarios-sem-captcha");break;case"texto-invalido":self.elementos.captcha.trigger("recaptchaGoogle.reloadImagem");break;case"comentario-fechado":self.getMain().comentariosErro({message:"Desculpe, comentários foram fechados para esse conteúdo."});break;default:self.getMain().comentariosErro();break}},_respostaEnviarComentario:function(self,resultado,texto){self.storage.comentarioStorage("adiciona",texto);self.getMain().find(".glbComentarios-lista").trigger("lista.novoComentario",[resultado,this.options.comentarioPai])},_reloadRecaptcha:function(){if(this.elementos.captcha.is(":visible")){this.elementos.captcha.trigger("recaptchaGoogle.reloadImagem")}},_limpaFormulario:function(){var self=this;self.elementos.textArea.val("");self.elementos.textArea.focusout();self.elementos.textArea.keyup();self.elementos.formInicial.removeClass("ativo off")},_atualizaInformacoesUsuario:function(usuario){$(".glbComentarios-dados-usuario-nome",this.element).text(usuario.nome);if(usuario.cidade!==""){$(".glbComentarios-dados-usuario-localizacao",this.element).text(usuario.cidade+", "+usuario.uf)}else{if(usuario.pais!==""){$(".glbComentarios-dados-usuario-localizacao",this.element).text(usuario.pais)}}this._atualizaImagemUsuario(usuario.avatarImgUrl,usuario)}})})(glb.comentarios.getJqueryComentarios());(function($){var Tracker={UA:"",trackerName:"",whiteList:["techtudo.com.br","musica.com.br","globoi.com"],init:function(){if(!Tracker.shouldTurnOn()){return}var toggleVisibility=function(){if(!Tracker.boxComentarios.length){return}var visibilityStart=Tracker.boxComentarios.offset().top;var actualPosition=$(document).scrollTop()+$(window).height();var fitOnWindow=$(window).width()>=1250;if(actualPosition>=visibilityStart&&fitOnWindow){Tracker.registerViewedComments()}};try{Tracker.registerPagewithComments()}catch(err){}$(window).scroll(function(){if(window.COMENTARIO_VISIVEL){return}toggleVisibility()});Tracker.bindEvents()},trackEventName:function(){if(Tracker.trackerName){return Tracker.trackerName+"._trackEvent"}return"_trackEvent"},registerPagewithComments:function(){_gaq.push([Tracker.trackEventName(),"Comentarios","Pagina com Comentarios",window.location.href,0,true])},registerViewedComments:function(){window.COMENTARIO_VISIVEL=true;_gaq.push([Tracker.trackEventName(),"Comentarios","Viu Area Comentarios",window.location.href,0,true])},registerPopularTab:function(){_gaq.push([Tracker.trackEventName(),"Comentarios","Aba Populares",window.location.href,0,true])},registerRecentesTab:function(){_gaq.push([Tracker.trackEventName(),"Comentarios","Aba Recentes",window.location.href,0,true])},registerClickInNewCommentBox:function(){_gaq.push([Tracker.trackEventName(),"Comentarios","Clique box comentario",window.location.href])},registerSubmitNewComment:function(){_gaq.push([Tracker.trackEventName(),"Comentarios","Sucesso",window.location.href])},registerShareToFacebook:function(){_gaq.push([Tracker.trackEventName(),"Comentarios","Social","Facebook - Share"])},registerShareToTwitter:function(){_gaq.push([Tracker.trackEventName(),"Comentarios","Social","Twitter - Share"])},registerClickInDenounce:function(){_gaq.push([Tracker.trackEventName(),"Comentarios","Denunciar","Intencao",0,true])},registerSubmitDenounce:function(){_gaq.push([Tracker.trackEventName(),"Comentarios","Denunciar","Sucesso",0,true])},registerSubmitThumbsUp:function(){_gaq.push([Tracker.trackEventName(),"Comentarios","Thumbs","Up",0,true])},registerSubmitThumbsDown:function(){_gaq.push([Tracker.trackEventName(),"Comentarios","Thumbs","Down",0,true])},registerPagination:function(){_gaq.push([Tracker.trackEventName(),"Comentarios","Mais Comentarios"])},shouldTurnOn:function(){var whitelisted=false;var key;for(key in Tracker.whiteList){if(window.location.hostname.indexOf(Tracker.whiteList[key])!=-1){whitelisted=true;break}}if(!whitelisted&&window.location.hostname.indexOf("globo.com")==-1){return false}if(typeof _gat==="undefined"||typeof _gaq==="undefined"){return false}t=_gat._getTrackerByName(Tracker.trackerName);if(t._getAccount()!=Tracker.UA){if(!whitelisted){return false}Tracker.trackerName=""}return true},bindEvents:function(){var that=this;Tracker.boxComentarios.delegate(".populares","click",function(){that.registerPopularTab()});Tracker.boxComentarios.delegate(".recentes","click",function(){that.registerRecentesTab()});Tracker.boxComentarios.delegate(".glbComentarios-formulario-texto-inicial","focus",function(){that.registerClickInNewCommentBox()});Tracker.boxComentarios.delegate(".glbComentarios-botaoEnviar","click",function(){that.registerSubmitNewComment()});Tracker.boxComentarios.delegate(".glbComentarios-bt-facebook","click",function(){that.registerShareToFacebook()});Tracker.boxComentarios.delegate(".glbComentarios-bt-twitter","click",function(){that.registerShareToTwitter()});Tracker.boxComentarios.delegate(".glbComentarios-bt-denunciar","focus",function(){that.registerClickInDenounce()});Tracker.boxComentarios.delegate(".glbComentarios-bt-denunciar-sim","click",function(){that.registerSubmitDenounce()});Tracker.boxComentarios.delegate(".glbComentarios-thumbs-up","click",function(){that.registerSubmitThumbsUp()});Tracker.boxComentarios.delegate(".glbComentarios-thumbs-down","click",function(){that.registerSubmitThumbsDown()});Tracker.boxComentarios.delegate(".glbComentarios-botao-mais","click",function(){that.registerPagination()})},trackingStarted:false,startTracking:function(boxComentarios){if(window._gaq===undefined){window._gaq=[]}if(!window.hasOwnProperty("_gaq")){window._gaq=[]}if(!Tracker.trackingStarted){Tracker.boxComentarios=boxComentarios;Tracker.trackingStarted=true}}};window.COMENTARIO_VISIVEL=false})(glb.comentarios.getJqueryComentarios());(function($){$.widget("glb.comentariosTextarea",$.glb.widgetBase,{options:{comentarioPai:0,maxlength:100,formulario:null},_create:function(){this.element.elastic();this._applyCharacterCount();this.bindFocus();this.bindFocusout();this.CHAVE_RECAPTCHA=this.getChaveRecaptcha()},_addCounterHtml:function(){var html='<span class="glbComentario-textarea-contador"></span>'},bindFocus:function(){var self=this;this.element.bind("focus",function(){$(".glbComentarios-btn-denunciar-wrapper.hovered").removeClass("hovered").removeClass("on");$(".glbComentarios-btn-denunciar-wrapper .glbComentarios-bt-denunciar-sim").removeClass("on").hide();self._ativaCaptcha();$(this).closest(".glbComentarios-formulario-resposta").addClass("glbComentarios-formulario-resposta-focus")});$(".glbComentarios-formulario").delegate("#novoResponseField","focus",function(){$(".glbComentarios-btn-denunciar-wrapper.hovered").removeClass("hovered").removeClass("on");$(".glbComentarios-btn-denunciar-wrapper .glbComentarios-bt-denunciar-sim").removeClass("on").hide();$(this).closest(".glbComentarios-formulario-resposta").addClass("glbComentarios-formulario-resposta-focus")})},bindFocusout:function(){var self=this;this.element.bind("focusout",function(){if(this.value===""){var formResposta=$(this).closest(".glbComentarios-formulario-resposta");formResposta.removeClass("glbComentarios-formulario-resposta-focus");formResposta.find(".glbComentarios-recaptcha-principal").hide();formResposta.find(".ativo").removeClass("ativo");var captcha=$(this).parents(".glbComentarios-dados-form-interno").find(".glbComentarios-captcha");captcha.trigger("recaptchaGoogle.destroyCaptcha")}})},_ativaCaptcha:function(){if(glbComentarios.proximoComentarioTemCaptcha){Captcha.seleciona(this.options.formulario,this.options.comentarioPai);this.options.formulario.find(".glbComentarios-captcha").show()}},_applyCharacterCount:function(){var self=this;this._addCounterHtml()}})})(glb.comentarios.getJqueryComentarios());(function($){$.widget("glb.recaptchaGoogle",{options:{idCaptchaNaPagina:"0",classeContainer:"glbComentarios-recaptcha-principal",textoLabelCaracteres:"Digite as palavras a seguir:"},_init:function(){this.elementos={};this._leitura();this._bindEventos()},_leitura:function(){var html=['<div id="glbComentarios-recaptcha-',this.options.idCaptchaNaPagina,'" class="',this.options.classeContainer,'">','<label for="recaptcha_response_field">',this.options.textoLabelCaracteres,"</label>",'<div class="recaptcha_container">','<input type="text" name="recaptcha_response_field" id="recaptcha_response_field" maxlength="200" />','<div class="glbComentarios-recaptcha-imagem">','<div id="recaptcha_image"></div>',"</div>",'<div class="recaptcha_actions">','<button type="button" class="recaptcha_reload">',"Atualizar imagem","</button>","</div>","</div>","</div>"];this.element.html(html.join(""));this.input=this.element.find(".recaptcha_response_field")},_criaRecapthaGoogle:function(){if($(".glbComentarios-reduced").length!==0){this.element.find("label").text("Digite as palavras abaixo:")}var RecaptchaComentarios={optionsRecaptcha:{theme:"custom",lang:"pt"},load:function(context){Recaptcha.create("6LcsOLsSAAAAAJ1bSfGuvANCekRqzWxwYTFSJB7d",context,this.optionsRecaptcha)}};RecaptchaComentarios.load("glbComentarios-recaptcha-"+this.options.idCaptchaNaPagina)},_destroyRecapthaGoogle:function(){this.element.hide();this.element.empty()},_bindEventos:function(){var self=this;this.element.unbind();this.element.find(".glbComentarios-recaptcha-principal .recaptcha_reload").click(function(){self._reloadCaptcha()});this.element.bind("recaptchaGoogle.reloadImagem",function(){self._reloadCaptcha()});this.element.bind("recaptchaGoogle.createCaptcha",function(){self._criaRecapthaGoogle()});this.element.bind("recaptchaGoogle.captchaInvalido",function(){self.element.find("input").addClass("erro");self._reloadCaptcha()});this.element.find(".glbComentarios-recaptcha-principal").keydown(function(){if(!!$(this).text()){self.element.find("input").removeClass("erro")}});this.element.bind("recaptchaGoogle.destroyCaptcha",function(){self._destroyRecapthaGoogle()})},_reloadCaptcha:function(){Recaptcha.context="glbComentarios-recaptcha-"+this.options.idCaptchaNaPagina;Recaptcha.widget=Recaptcha.$("recaptcha_image");Recaptcha.reload()}})})(glb.comentarios.getJqueryComentarios());(function($){$.widget("glb.comentariosCompartilhar",$.glb.widgetBase,{_create:function(){this._bindClick()},_bindClick:function(){var self=this;$(".glbComentarios-lista").delegate(".glbComentarios-bt-twitter","click",function(){self._compartilha($(this),"twitter")});$(".glbComentarios-lista").delegate(".glbComentarios-bt-facebook","click",function(){self._compartilha($(this),"facebook")})},_compartilha:function(elemento,redeSocial){var liPai=this.getLiComentarioRaiz(elemento);var li=elemento.parents("li:eq(0)");var url=decodeURIComponent(location.href).split("#!")[0];var hashComentarioId="#!"+li.attr("id");url+=hashComentarioId;var nome=li.find("strong.glbComentarios-dados-usuario-nome:eq(0)").text();var texto=li.find(".glbComentarios-conteudo-interno .glbComentarios-texto-comentario:eq(0)").text();var id=li.attr("id").split("comentario-")[1];var postUrl="//comentarios.dinamico.globo.com/redesocial/share/"+redeSocial+"/"+id+"/";$.jsonp({url:postUrl,cache:true,callback:"__callback_compartilha_redesocial"});switch(redeSocial){case"twitter":this._compartilhaTwitter(texto,nome,url,li);break;case"facebook":var ehResposta=false;if(liPai.attr("id")!==li.attr("id")){ehResposta=true}this._compartilhaFacebook(texto,nome,url,li,ehResposta);break}},_cortaTexto:function(texto,limite){if(limite&&texto.length>limite){limite--;var ultimo=texto.substr(limite-1,1);while(ultimo!==" "&&limite>0){limite--;ultimo=texto.substr(limite-1,1)}ultimo=texto.substr(limite-2,1);if(ultimo===","||ultimo===";"||ultimo===":"){texto=texto.substr(0,limite-2)+"..."}else{if(ultimo==="."||ultimo==="?"||ultimo==="!"){texto=texto.substr(0,limite-1)}else{texto=texto.substr(0,limite-1)+"..."}}}return texto},_formataTexto:function(texto,limite){texto=this._cortaTexto($.trim(texto),limite);texto='"'+texto+'"';return texto},_compartilhaTwitter:function(texto,nome,url,li){var urlShareTwitter="http://twitter.com/intent/tweet?&text=";var creditos=" por "+nome+" | ";var limite=(135-(creditos.length+20));texto=this._formataTexto(texto,limite);urlShareTwitter+=encodeURIComponent(texto+creditos+url);this._popin(urlShareTwitter)},_buscaImagensFacebook:function(){var metas=$("meta[property='og:image']");var imagens=[];for(i=0;i<metas.length;i++){imagens.push($(metas[i]).attr("content"))}return imagens},_compartilhaFacebook:function(texto,nome,url,li,ehResposta){var titulo=this.getTitulo();var urlShareFacebook="http://www.facebook.com/sharer/sharer.php?s=100&p[title]=";var creditos=nome;creditos+=(ehResposta)?" respondeu: ":" comentou: ";var chamada=(ehResposta)?" — Veja o comentário que deu origem a esta resposta.":"";var limite=(295-(creditos.length+chamada.length));texto=this._formataTexto(texto,limite).replace(/#|/g,"");urlShareFacebook+=encodeURIComponent(titulo).replace(/'/g,"%27");urlShareFacebook+="&p[summary]="+encodeURIComponent(creditos+texto+chamada);urlShareFacebook+="&p[url]="+encodeURIComponent(url);var imagensFacebook=this._buscaImagensFacebook();if(imagensFacebook!=[]){for(var i=0;i<imagensFacebook.length;i++){urlShareFacebook+="&p[images]["+i+"]="+encodeURIComponent(imagensFacebook[i])}}this._popin(urlShareFacebook)},_popin:function(url){open(url,"sharer","width=800, height=600")}})})(glb.comentarios.getJqueryComentarios());(function($){$.widget("glb.comentariosOauth",$.glb.widgetBase,{options:{nenhuma:false,twitter:true,facebook:true,escolherSomenteUmaRede:false,callbackAposEstadoClicado:null},_create:function(){this.ID_RANDOMICO="comentarios"+this.element.attr("id")+"-"+Math.random();this.URL_OAUTH_REDE_SOCIAL="//comentarios.dinamico.globo.com/autenticacao/redesocial/{rede_social}/?id_random_post_message={id_random_post_message}&url={success_url}";this.IE8_TARGET_IFRAME="//comentarios.globo.com/comentarios/ie8_posmsg/"+encodeURIComponent(window.location.href.split("#")[0]);this.TIPO_ESTADO={INEXISTENTE:-1,ASSOCIAR:1,CLICAR:2,CLICADO:3,ERRO:4,DESASSOCIADO:5};this.REDE_SOCIAL={nenhuma:{NOME:"nenhuma",ESTADO:(this.options.nenhuma?this.TIPO_ESTADO.CLICAR:this.TIPO_ESTADO.INEXISTENTE)},facebook:{NOME:"facebook",ESTADO:(this.options.facebook?this.TIPO_ESTADO.ASSOCIAR:this.TIPO_ESTADO.INEXISTENTE)},twitter:{NOME:"twitter",ESTADO:(this.options.twitter?this.TIPO_ESTADO.ASSOCIAR:this.TIPO_ESTADO.INEXISTENTE)}};this.TODAS_REDES_SOCIAIS_ATIVAS=[];this.elementos={};this.main=this.getMain();this.api=this.getApi();this.usuario=this.getUsuario();this._gerarVariavelTodasRedesSociais();var self=this;$.each(this.TODAS_REDES_SOCIAIS_ATIVAS,function(key,redeSocial){self._gerarHtml(redeSocial);self._configurarEventos(redeSocial);self._adicionarEventoReferenteAoEstadoRedeSocialEspecifica(redeSocial)});this._receberPostMessage();if(this.getUsuario()){this._atualizaPluginComRedesSociaisUsuario(this.getUsuario())}this.getMain().bind("main.informacoesUsuario",function(e,usuario){self._atualizaPluginComRedesSociaisUsuario(usuario)});this.getMain().bind("main.informacoesRedeSocialUsuario",function(e,dadosOauth){self._atualizaPluginComRedeSocialEspecificaUsuario(dadosOauth)})},_atualizaPluginComRedesSociaisUsuario:function(usuario){var self=this;$.each(this.TODAS_REDES_SOCIAIS_ATIVAS,function(key,redeSocial){self._configurarRedeSocialEspecifica(usuario,redeSocial)})},_atualizaPluginComRedeSocialEspecificaUsuario:function(dadosOauth){if(this.options[dadosOauth.redeSocial]){this._configurarRedeSocialEspecifica(dadosOauth,dadosOauth.redeSocial)}},_gerarVariavelTodasRedesSociais:function(){var self=this;$.each(this.REDE_SOCIAL,function(key,redeSocial){if(self.options[redeSocial.NOME]){self.TODAS_REDES_SOCIAIS_ATIVAS.push(redeSocial.NOME)}})},_gerarHtml:function(redeSocial){var template='<button type="button" class="glbComentarios-btn-{rede_social}">{rede_social}</button>';this.element.append(template.replace(/\{rede_social\}/g,redeSocial))},_configurarEventos:function(redeSocial){var self=this;this.element.delegate(".glbComentarios-btn-"+redeSocial+".clicar","click",function(){if(self.usuario){self.oauthFacebook=!!self.usuario.facebook.isAutorizado}self._setEstadoClicado(redeSocial);self._adicionarEventoReferenteAoEstadoRedeSocialEspecifica(redeSocial)});this.element.delegate(".glbComentarios-btn-"+redeSocial+".clicado","click",function(){self.REDE_SOCIAL[redeSocial].ESTADO=self.TIPO_ESTADO.CLICAR;self._adicionarEventoReferenteAoEstadoRedeSocialEspecifica(redeSocial)});this.element.delegate(".glbComentarios-btn-"+redeSocial+".associar","click",function(e){if($(this).hasClass("clicar")){return}if(self.usuario){self.oauthFacebook=!!self.usuario.facebook.isAutorizado}var urlVolta=encodeURIComponent(window.location.toString().split("#")[0]);var urlOauth=self.URL_OAUTH_REDE_SOCIAL.replace("{id_random_post_message}",encodeURIComponent(self.ID_RANDOMICO)).replace("{rede_social}",redeSocial).replace("{success_url}",urlVolta);window.open(urlOauth)})},_adicionarEventoReferenteAoEstadoRedeSocialEspecifica:function(redeSocial){var self=this;this.element.find(".glbComentarios-btn-"+redeSocial).removeClass("clicar clicado");switch(this.REDE_SOCIAL[redeSocial].ESTADO){case this.TIPO_ESTADO.CLICAR:this.element.find(".glbComentarios-btn-"+redeSocial).addClass("clicar");break;case this.TIPO_ESTADO.CLICADO:this.element.find(".glbComentarios-btn-"+redeSocial).addClass("clicado");if(this.oauthFacebook){return}this.api.trocarFoto({redeSocial:redeSocial,success:function(resposta){if(resposta.resultadoTroca==="SUCESSO"){self.main.trigger("main.atualizaImagemAvatar",resposta.avatarImgUrl)}}});break;default:this.element.find(".glbComentarios-btn-"+redeSocial).addClass("associar")}},_receberPostMessage:function(){var self=this;$.receiveMessage(function(message){var dados=$.parseJSON(message.data);if(dados.idRandomPostMessage!==self.ID_RANDOMICO){return}self.getMain().trigger("main.informacoesRedeSocialUsuario",dados)},"//comentarios.dinamico.globo.com",500,self.IE8_TARGET_IFRAME);this.comunicacao_registrada=true},_configurarRedeSocialEspecifica:function(dadosPost,redeSocial){if((dadosPost[redeSocial]&&dadosPost[redeSocial].isAutorizado)||(this.options.nenhuma&&redeSocial==="nenhuma")){if(dadosPost.idRandomPostMessage&&(dadosPost.idRandomPostMessage==this.ID_RANDOMICO)){this._setEstadoClicado(redeSocial)}else{this.REDE_SOCIAL[redeSocial].ESTADO=this.TIPO_ESTADO.CLICAR}}else{this.REDE_SOCIAL[redeSocial].ESTADO=this.TIPO_ESTADO.ASSOCIAR}this._adicionarEventoReferenteAoEstadoRedeSocialEspecifica(redeSocial)},getRedesSociaisClicadas:function(){var redesSociaisClicadas={};var self=this;$.each(self.TODAS_REDES_SOCIAIS_ATIVAS,function(key,redeSocial){if(self.REDE_SOCIAL[redeSocial].ESTADO==self.TIPO_ESTADO.CLICADO){redesSociaisClicadas[redeSocial]=true}else{redesSociaisClicadas[redeSocial]=false}});return redesSociaisClicadas},_setEstadoClicado:function(redeSocial){this.REDE_SOCIAL[redeSocial].ESTADO=this.TIPO_ESTADO.CLICADO;if(this.options.callbackAposEstadoClicado){this.element.trigger(this.options.callbackAposEstadoClicado,redeSocial)}if(this.options.escolherSomenteUmaRede){this.REDE_SOCIAL[redeSocial].ESTADO=this.TIPO_ESTADO.CLICAR}}})})(glb.comentarios.getJqueryComentarios());(function(global,$){global.Thumbs=global.Thumbs||{};var InteractivityList=function(container){this.container=container};InteractivityList.prototype={init:function(){this.ulElement=this.container.find("ul.glbComentarios-lista-todos");this.getVotes();this.bindEvents()},bindEvents:function(){var self=this;var evento="atualiza_lista";$(".glbComentarios").unbind(evento).bind(evento,function(){self.updateAllInteractivities()})},getUrl:function(){var url=this.ulElement.find("input[name='url-get-interatividade']").val();var agregador=this.ulElement.find("input[name='agregador']").val();url=url+"/notas/agregador/"+agregador+"/resultado-resumido.jsonp";return url},getVotes:function(){var self=this;var url=this.getUrl();this.result=[];$.jsonp({url:url,cache:true,callback:"resultado_resumido_agregador",success:function(result){self.result=result;self.updateAllInteractivities()}})},updateAllInteractivities:function(){var self=this;for(var i=0;i<self.result.length;i++){var interactivity=self.result[i];var votes=interactivity.opcoes;this.updateVotes(votes,interactivity.interatividade)}},updateVotesFromLocalStorage:function(idInteractivity,element){var key=idInteractivity,optionId=kizzy("thumbs-votes").get(key),value=0;if(optionId!==undefined){var optionElements=element.find(".glbComentarios-thumbs[data-opcao-id="+optionId+"]");optionElements.each(function(indice,item){var optionElement=$(item);value=optionElement.text();value=parseInt(value,10)+1;optionElement.text(value);smokyOtherButton(optionElement)})}},updateVotes:function(data,idInteractivity){var item,element=$("li[data-interatividade-id="+idInteractivity+"]");for(var i=0;i<data.length;i++){item=data[i];var optionId=item.opcao_id;var value=item.qtd_votos;var optionElement=element.find(".glbComentarios-thumbs[data-opcao-id="+optionId+"]");optionElement.text(value)}this.updateVotesFromLocalStorage(idInteractivity,element)}};global.Thumbs.InteractivityList=InteractivityList;var Vote=function(element){this.element=$(element);this.val=parseInt(this.element.text(),10)};Vote.prototype={add:function(){if(this.valid()){this.registerVote()}return this.val},getTokenUrl:function(){var url=this.element.parents("ul").find("input[name='url-get-interatividade']").val();url=url+"/notas/token.jsonp";return url},getToken:function(callback){var self=this;var url=this.getTokenUrl();$.jsonp({url:url,cache:true,callback:"get_token",success:function(result){self.token=result.token;callback(self.token)},error:function(obj,status){self.token="0";callback(self.token)}})},valid:function(){if(this.userVotedInInteractivity()){return false}if(validSize()){incrStorage();return true}if(!validSize()&&validDateMoreThanHour()){clearSize();clearDate();incrStorage();return true}return false},userVotedInInteractivity:function(){var voted=false;if(this.hasVoteInInteractivity()){voted=true}if(this.hasVoteInOption()){voted=true}return voted},send:function(){var self=this;this.getToken(function(token){self._send(token)})},_send:function(token){var url=this.getInteractivityUrl();json={interatividade_id:this.getInteractivityId(),votos:[{opcao_id:this.getOptionId(),nota:1}],recaptcha_challenge_field:"",recaptcha_response_field:"",token_notas:token};var dataPost=JSON.stringify(json);if(isIE()){sendIE(url,dataPost)}else{sendWithAjax(url,dataPost)}},getInteractivityUrl:function(){var url="";var urlInteractivityPost=this.element.parents("ul").find("input[name='url-post-interatividade']").val();url=urlInteractivityPost+"/notas/votar";return url},getInteractivityId:function(){return parseInt(this.element.parents("li").attr("data-interatividade-id"),10)},getOptionId:function(){if(this.element.hasClass("glbComentarios-thumbs-up")){return parseInt(this.element.attr("data-opcao-id"),10)}else{if(this.element.hasClass("glbComentarios-thumbs-down")){return parseInt(this.element.attr("data-opcao-id"),10)}}},registerVote:function(){setThumbOptionForUser(this.getInteractivityId(),this.getOptionId());smokyOtherButton(this.element);this.val+=1;this.send()},hasVoteInInteractivity:function(){var keyThumbs="thumbs-votes";var voteInInteractivity=kizzy(keyThumbs).get(this.getInteractivityId());if(voteInInteractivity){return true}return false},hasVoteInOption:function(){var keyThumbs="thumbs-votes";var voteInInteractivity=kizzy(keyThumbs).get(this.getInteractivityId());if(voteInInteractivity){return voteInInteractivity===this.getOptionId()}return false}};function sendWithAjax(url,dataPost){$.ajax({type:"POST",url:url,dataType:"json",data:dataPost,error:function(jqXHR,textStatus,errorThrown){}})}function sendIE(url,dataPost){var xdr=new XDomainRequest();xdr.open("POST",url);xdr.send(dataPost);xdr.onerror=function(){};xdr.onload=function(){var dom=new ActiveXObject("Microsoft.XMLDOM");dom.async=false;dom.loadXML(xdr.responseText)}}function isIE(){return window.XDomainRequest}function validSize(){var MAX_SIZE=30;var size=get_key_or_0("size");if(size<MAX_SIZE){return true}return false}function validDataMoreThan(interval){var date=get_key_or_0("date");var deltaTime=new Date().getTime()-new Date(date).getTime();if(deltaTime>interval){return true}return false}function validDateMoreThanDay(){var ONE_DAY=1000*60*60*24;return validDataMoreThan(ONE_DAY)}function validDateMoreThanHour(){var ONE_HOUR=1000*60*60;return validDataMoreThan(ONE_HOUR)}function incrStorage(){kizzy("thumbs").set("size",(get_key_or_0("size")+1));var date=get_key_or_0("date");if(date===0){clearDate()}}function clearDate(){kizzy("thumbs").set("date",new Date())}function clearSize(){kizzy("thumbs").set("size",0)}function setThumbOptionForUser(interativityId,optionId){var keyThumbs="thumbs-votes";kizzy(keyThumbs).set(interativityId,optionId)}function get_key_or_0(key){var size=kizzy("thumbs").get(key);if(size===undefined){size=0}return size}function smokyOtherButton(element){var otherOption=$(element).siblings(".glbComentarios-thumbs");$(otherOption).removeClass("voted");$(otherOption).addClass("smoky");$(otherOption).die("click")}global.Thumbs.Vote=Vote})(window,glb.comentarios.getJqueryComentarios());(function($){$(function(){$(".glbComentarios-thumbs-down").live("click",function(){var addedValue=new Thumbs.Vote(this).add();$(this).text(addedValue)});$(".glbComentarios-thumbs-up").live("click",function(){var addedValue=new Thumbs.Vote(this).add();$(this).text(addedValue)})})})(glb.comentarios.getJqueryComentarios());(function($){$.widget("glb.comentariosLogin",$.glb.widgetBase,{options:{eventoCallback:null,classeBoxLogin:"widget-comentario-box-login",eventoJanelaLoginEscuta:"click",callbackAbreLogin:function(){},callbackFechaLogin:function(){}},_create:function(){this._criaJanelaLogin();this._bindEventos()},_criaJanelaLogin:function(){var self=this;this.element.janelaLogin({evento:this.options.eventoJanelaLoginEscuta,servico:3004,site:window.location.toString()+"#comentarios",classes:{boxLogin:this.options.classeBoxLogin,autenticado:"ativo"},success:function(usuario){if(!self.getUsuario()){self.setUsuario(usuario)}self.element.trigger(self.options.eventoCallback,usuario)}})},_bindEventos:function(){var self=this;this.element.bind("loginshow",function(event,$box){var larguraDispositivo=$(window).width();larguraDispositivo=self._isIPhoneOrIpodOrIpad()?window.innerWidth:larguraDispositivo;larguraDispositivo=self._isAndroid()?screen.width:larguraDispositivo;var top=0;var left=(larguraDispositivo-parseInt($box.style.width,10))/2;$.blockUI({message:$box,fadeIn:1250,baseZ:9000,css:{top:top,left:left,width:"350px",border:"none"},overlayCSS:{cursor:"default",opacity:0.5}});$(".blockOverlay").attr("title","Clique para fechar o login");$("iframe",$box).ready(function(){$(".blockMsg").prepend('<div class="glbComentarios-login-btn-fecha-login" title="Clique para fechar o login"></div>');$(".blockUI .glbComentarios-login-btn-fecha-login").bind("click",function(){self.options.callbackFechaLogin();self.element.janelaLogin("close")})});$(".blockOverlay").bind("click",function(){self.options.callbackFechaLogin();self.element.janelaLogin("close")});self.element.parent().scrollTop(9999);if(self._isIPhoneOrIpodOrIpad()||self._isAndroid()){window.scrollTo(0,0)}return false});this.element.bind("loginclose",function(event,$box){$.unblockUI()})},_isIPhoneOrIpodOrIpad:function(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)},_isAndroid:function(){return navigator.userAgent.match(/Android/i)}})})(glb.comentarios.getJqueryComentarios());(function($){$.widget("glb.comentariosLista",$.glb.widgetBase,{options:{qtdComentariosNoTeaser:null,linkVerTodosComentarios:null,populares:false,callbackLogado:function(){},callbackCarregado:function(){},callbackCompartilhado:function(){},disclaimer:"Conforme Termo de Uso, comentários com conteúdo inadequado e spam poderão ser removidos a critério da Globo.com.",fechado:false},_create:function(){this._template();this.eventoPaginacao=this.options.populares?"lista.mostraMaisPopulares":"lista.mostraMais";this.MAXIMO_TEASER_RESPOSTAS=2;this.CHAVE_RECAPTCHA=this.getChaveRecaptcha();this.api=this.getApi();this.usuario=this.getUsuario();this.elementos={};this.pagina=1;this.comentarioCompartilhado=this._temComentarioCompartilhado();this.comentarioCompartilhadoJaFoiPincado=false;this.getMain();this.element.comentariosCompartilhar();this._inicializa();this._executaLista();this._bindEventos();this.interactivities=new Thumbs.InteractivityList(this.element)},getMaximoTeaserResposta:function(){return this.MAXIMO_TEASER_RESPOSTAS},_bindEventos:function(){this._bindNovoComentario();this._bindAtualizaInformacoesUsuario();this._eventoAtualizaAvatar();this._bindClickPaginarRespostas()},_carregarAvatar:function(liComentario){var avatarImgUrl=liComentario.attr("data-usuario-avatarimgurl");var avatar=liComentario.find(".glbComentarios-usuario-avatar:eq(0)");if(avatarImgUrl){avatar.attr("src",avatarImgUrl);avatar.load(function(){$(this).addClass("visivel")})}},_temFormResposta:function(){return this.elementos.hasOwnProperty("formResposta")},_destroyFormResposta:function(){if(this._temFormResposta()){this.elementos.formResposta.comentariosForm("destroy")}},_criaBotaoPaginacaoResposta:function(){var html=[""];if(this.qtd_replies>2){var maximoTeaserResposta=2;var totalRespostas=this.qtd_replies-maximoTeaserResposta;html=['<button type="button" class="glbComentarios-lista-bt-paginar">',"<span>Ver Mais ",totalRespostas," comentário",totalRespostas>1?"s":"","</span>","</button>"]}return html.join("")},getQtdRespostasFaltam:function(totalRespostas){if(totalRespostas>this.itensPorPagina){totalRespostas=this.itensPorPagina}return totalRespostas},_interaBotaoPaginacaoResposta:function(json,fn){$.each(json.itens,function(indice,elemento){elemento._criaBotaoPaginacaoResposta=fn})},_montaResposta:function(pagina,qtdRespostas,botao,container,comentario,json){var self=this;botao.attr("disabled",true);this._interaBotaoPaginacaoResposta(json,this._criaBotaoPaginacaoResposta);var listaPai=this.element.find("ul");var urlPostInteratividade=listaPai.find("input[name=url-post-interatividade]").val();var urlGetInteratividade=listaPai.find("input[name=url-get-interatividade]").val();var replyTemplate=this.template.replace("{>reply}","");json.urlPostInteratividade=urlPostInteratividade;json.urlInteratividade=urlGetInteratividade;var htmlReply=Mustache.to_html(replyTemplate,json);if(pagina===1){container.html(htmlReply)}else{container.prepend(htmlReply)}this._limparBarraThumbsShare(this._temInteratividade(json));container.find("li").each(function(){var liComentario=$(this);self._insereDadosFormatados(liComentario);self._carregarAvatar(liComentario)});this._denunciar();this._destacaComentarioUsuario(container);var comentariosRestantes=Math.abs(container.find("li").length-qtdRespostas);if(comentariosRestantes>json.itensPorPagina){comentariosRestantes=json.itensPorPagina}if(comentariosRestantes===0){botao.hide()}else{botao.text("Ver Mais "+comentariosRestantes+(comentariosRestantes>1?" comentários":" comentário"))}if(this.options.fechado&&pagina===1){container.find("li:last-child .glbComentarios-conteudo-interno").addClass("remove-line")}comentario.attr("data-reply-pagina",pagina+1);botao.attr("disabled",false);$(".glbComentarios").trigger("atualiza_lista");$(".glbComentarios-lista-resposta .glbComentarios-aba.interno").remove()},_paginaRespostas:function(botao){var comentario=botao.parents("li:first");var comentarioPai=comentario.attr("data-comentario-id").substr(11);var qtdRespostas=parseInt(comentario.attr("data-comentario-qtd_replies"),10);var pagina=parseInt(comentario.attr("data-reply-pagina"),10)||1;var self=this;this.api.getRespostas(comentarioPai,pagina,function(json){var container=botao.parent().find("ul:first");self._montaResposta(pagina,qtdRespostas,botao,container,comentario,json);$(".glbComentarios").trigger("atualiza_lista")})},_bindClickPaginarRespostas:function(){var self=this;this.element.delegate(".glbComentarios-lista-bt-paginar","click",function(e){self._paginaRespostas($(this));e.preventDefault()})},_fecharThreadAberta:function(botao,listaResposta){botao.removeClass("on");listaResposta.hide()},_setIdPai:function(idPai){if(!this.usuario){this.idPai=idPai}},_montaResponder:function(li){var idPai=li.attr("id").split("comentario-")[1];var listaResposta=li.find(".glbComentarios-lista-resposta:eq(0)");var nomeUsuarioRespondido=li.find(".glbComentarios-dados-usuario-nome").text();var containerFormulario=li.find(".glbComentarios-formulario-resposta");if(!containerFormulario.length){li.append('<div class="glbComentarios-formulario-resposta glbComentarios-sem-captcha" />');containerFormulario=li.find(".glbComentarios-formulario-resposta")}this._setIdPai(idPai);if(this.options.fechado){var qtdRespostas=parseInt(listaResposta.attr("data-total-replies"));if(qtdRespostas===0){listaResposta.parent().addClass("remove-line")}else{listaResposta.find("li:last-child .glbComentarios-conteudo-interno").addClass("remove-line")}}else{containerFormulario.attr("id","glbComentarios-responder-captcha").comentariosForm({comentarioPai:idPai,textoInicial:this._insereNomeNaResposta(nomeUsuarioRespondido)})}containerFormulario.find(".glbComentarios-widget-comentarios-texto").attr("placeholder","Entre na conversa");this.elementos.formResposta=containerFormulario},_insereNomeNaResposta:function(nomeUsuarioRespondido){nomeUsuarioRespondido=nomeUsuarioRespondido||"";if(nomeUsuarioRespondido){nomeUsuarioRespondido=nomeUsuarioRespondido+" "}return nomeUsuarioRespondido},_scrollResponder:function(elemento,callback){if(elemento.hasClass("off")&&elemento.siblings(".glbComentarios-formulario-aberto")){elemento=elemento.siblings(".glbComentarios-formulario-aberto")}this._colocarElementoNoMeioDaTela(elemento,callback)},_colocarElementoNoMeioDaTela:function(elemento,callback){if(elemento.offset().hasOwnProperty("top")){var metadeDaTela=$(window).height()/2;var metadeDoElemento=elemento.height()/2;var alturaScroll=elemento.offset().top-(metadeDaTela-metadeDoElemento);var self=this;setTimeout(function(){self._fazScrollTop(alturaScroll,callback)},100)}},_temComentarios:function(){return !!this.numeroDeComentarios},_template:function(){this.getTemplate("lista.tpl",false)},_deveCriarPaginacao:function(){return(this.limitePaginas>1&&this.numeroDeComentarios>0)},_temComentarioCompartilhado:function(){var hash=location.hash;var comentarioCompartilhado;if(hash){var hashParts=hash.split("#");for(var i=hashParts.length-1;i>=0;i--){var hashWithComentarioId=hashParts[i].split("comentario-")[1];if(hashWithComentarioId){comentarioId=hashWithComentarioId.split("?")[0];comentarioCompartilhado=comentarioId;break}}}return comentarioCompartilhado},_requisitaAtualizaQtdLido:function(id){var redeSocial=this._retornaRedeSocialOrigem();var deveAtualizarQtdLido=!!redeSocial;if(deveAtualizarQtdLido){var url="//comentarios.dinamico.globo.com/compartilha/"+redeSocial+"/atualiza-qtd-lido/"+id+"/";$.jsonp({url:url,cache:false,callback:"__callback_atualiza_qtd_lido"})}},_retornaRedeSocialOrigem:function(){var urlOrigem=document.referrer;var redeSocial;if(urlOrigem.indexOf("facebook")>=0){redeSocial="facebook"}else{if(urlOrigem.indexOf("twitter")>=0){redeSocial="twitter"}}return redeSocial},_inicializa:function(){this.totalComentariosTopico=this.getJsonTotalComentariosTopico();if(this.totalComentariosTopico.bloqueado){this._setTitulo("comentários")}if(this.totalComentariosTopico.totalPaginas){this.numeroDeComentarios=this.totalComentariosTopico.numeroDeComentarios;this.totalPagina=this.totalComentariosTopico.totalPaginas;this.limitePaginas=this.totalComentariosTopico.limitePaginas;this._pluralizaTitulo();this._adicionaAba()}},_pluralizaTitulo:function(){if(this.numeroDeComentarios>0){this._setTitulo(this.numeroDeComentarios>1?" comentários":" comentário");this.main.find(".glbComentarios-contador").html(this.numeroDeComentarios)}},_setTitulo:function(texto){this.main.find(".glbComentarios-texto-contador").html(texto);$(".glbComentarios-texto-contador").removeClass("glbComentarios-zerado")},_adicionaAba:function(){var aba=$(".glbComentarios-aba");var recentes=$(".glbComentarios-aba .recentes");var populares=$(".glbComentarios-aba .populares");var header=$(".glbComentarios-header div");var temRatings=this.totalComentariosTopico.tem_ratings;if(temRatings){recentes.html("recentes");recentes.addClass("glbComentarios-barra-cor-produto");populares.html("populares");header.removeClass("glbComentarios-barra-cor-produto");aba.removeClass("glbComentarios-sem-ratings")}},_requestPeloEvento:function(service,usuarioId){var self=this;this.api.getComentarios(service,usuarioId,self.pagina,function(json){self._monta(json);self.options.callbackCarregado()})},estouNoIEVersao:function(versao){var rv=-1;if(navigator.appName=="Microsoft Internet Explorer"){var ua=navigator.userAgent;var re=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(re.exec(ua)!==null){rv=parseFloat(RegExp.$1)}}return(rv>0&&rv<=versao)},_requestListaTotal:function(){var self=this;var usuarioId=null;var service="totalUrl";if(this._usuarioLogado()){usuarioId=this.usuario.usuarioId}if(self.options.populares){service="comentariosPopulares";if(self.estouNoIEVersao(9)){$(".glbComentarios-aba .populares").live("mostrarPopulares",function(event){self._requestPeloEvento(service,usuarioId);event.stopPropagation();$(".glbComentarios-aba .populares").die("mostrarPopulares")});return}}this.api.getComentarios(service,usuarioId,this.pagina,function(json){self._monta(json);self.options.callbackCarregado()})},_executaLista:function(){this._requestListaTotal()},_getComentarioCompartilhado:function(idComentarioCompartilhado,callback,args){var url="//comentarios.social.globo.com/redesocial/comentario/"+idComentarioCompartilhado;var self=this;self.montaCallback=callback;self.montaCallbackArgs=args;$.jsonp({url:url,cache:true,callback:"__callback_comentariosocial",success:function(json){var comentarioCompartilhado=json.itens[0];comentarioCompartilhado.compartilhado=true;self.montaCallbackArgs.itens.splice(0,0,comentarioCompartilhado);self.comentarioCompartilhadoJaFoiPincado=true;self._requisitaAtualizaQtdLido(self.comentarioCompartilhado);self.options.callbackCompartilhado();self.montaCallback.apply(self,[self.montaCallbackArgs])},error:function(){self.montaCallback.apply(self,[self.montaCallbackArgs]);self.comentarioCompartilhadoJaFoiPincado=true}})},_colocaComentarioCompartilhadoNoTopoDaLista:function(lista,idComentario){lista=lista.slice();var index=this._getIndexDeComentarioNaLista(lista,idComentario);var comentario;if(index!==-1){comentario=lista[index];lista.splice(index,1);comentario.compartilhado=true}if(comentario!==undefined){lista.splice(0,0,comentario)}return lista},_pincaComentarioCompartilhado:function(response,idComentarioCompartilhado,callback){if(this._getIndexDeComentarioNaLista(response.itens,idComentarioCompartilhado)!==-1){response.itens=this._colocaComentarioCompartilhadoNoTopoDaLista(response.itens,idComentarioCompartilhado);this.comentarioCompartilhadoJaFoiPincado=true;callback.apply(this,[response])}else{this._getComentarioCompartilhado(idComentarioCompartilhado,callback,response)}},_removeComentarioDaLista:function(lista,idComentario){lista=lista.slice();var idx=this._getIndexDeComentarioNaLista(lista,this.comentarioCompartilhado);if(idx>-1){lista.splice(idx,1)}return lista},_getIndexDeComentarioNaLista:function(lista,idComentario){for(var index=0;index<lista.length;index++){if(lista[index].idComentario==idComentario){return index}}return -1},_monta:function(json){if(this.comentarioCompartilhado===undefined){this._executaMonta(json);return}if(this.comentarioCompartilhadoJaFoiPincado){json.itens=this._removeComentarioDaLista(json.itens,this.comentarioCompartilhado);this._executaMonta(json)}else{this._pincaComentarioCompartilhado(json,this.comentarioCompartilhado,this._executaMonta)}},_executaMonta:function(json){this.totalComentariosPagina=json.itens.length;this.itensPorPagina=json.itensPorPagina;this._interaBotaoPaginacaoResposta(json,this._criaBotaoPaginacaoResposta);this._geraHtmlTodos(json);if(this.pagina===1){this._montaTeaser()}this._montaBotaoVerTodos();this._controlaPaginacao();this._denunciar();this._montaElementos();this._montaPaginacao();if(this._deveCriarPaginacao()){this._criaPaginacao()}},_montaElementos:function(){var self=this;var elementos=this.element.find('ul[class^="glbComentarios-lista"] > li');elementos.each(function(indice,elemento){var liComentario=$(elemento);var id=parseInt(liComentario.attr("data-usuario-id").split("-")[1],10);var deveAtualizarAvatar=(self._usuarioLogado()&&self.usuario.usuarioId===id);if(deveAtualizarAvatar){var avatarImgUrl=self.usuario.avatarImgUrl}self._carregarAvatar(liComentario);self._insereDadosFormatados(liComentario);self._criaBotaoListaRespostas(liComentario)});if(!!self.usuario){this.main.trigger("main.atualizaImagemAvatar",self.usuario.avatarImgUrl)}this._destacaComentarioUsuario()},_criaBotaoListaRespostas:function(elemento,atualiza){var temBotaoListaResposta=elemento.find(".glbComentarios-bt-lista-respostas").length;if(temBotaoListaResposta&&!atualiza){return false}var totalDeRespostas=parseInt(elemento.find(".glbComentarios-lista-resposta:eq(0)").attr("data-total-replies"),10);var botaoResponder=elemento.find(".glbComentarios-bt-responder:eq(0)");if(totalDeRespostas>=1){if(temBotaoListaResposta&&atualiza){var quantidadeRespostas=totalDeRespostas+(totalDeRespostas>1?" comentários":" comentário");elemento.find(".glbComentarios-bt-lista-respostas").text(quantidadeRespostas)}else{var htmlBotaoMaisRespostas=['<button type="button" class="glbComentarios-btn glbComentarios-link-cor glbComentarios-bt-lista-respostas'+(atualiza?" on":"")+'">',totalDeRespostas,(totalDeRespostas>1?" comentários":" comentário"),"</button>"];botaoResponder.after(htmlBotaoMaisRespostas.join(""))}botaoResponder.hide()}else{if(this.options.fechado){botaoResponder.hide();botaoResponder.parent().find(".thumbs-to-responder").hide()}}return true},_incrementaQtdDeRespostasNoBotao:function(elemento){var qtdAtual=parseInt(elemento.attr("data-comentario-qtd_replies"),10);var qtdAtualizada=qtdAtual+1;elemento.attr("data-comentario-qtd_replies",qtdAtualizada);elemento.find(".glbComentarios-lista-resposta:eq(0)").attr("data-total-replies",qtdAtualizada);this._criaBotaoListaRespostas(elemento,true)},_usuarioLogado:function(){return !!this.usuario},_temTeaser:function(){return !!this.element.find("li.off").length},_controlaPaginacao:function(){var self=this;var temTeaserComUmaPagina=(self.pagina===1&&self.limitePaginas===1);this.element.unbind(self.eventoPaginacao).bind(self.eventoPaginacao,function(){if(!self._temTeaser()){self.pagina++;if(self.pagina===self.limitePaginas){self.element.comentariosPaginacao("destroy")}self._executaLista()}else{if(temTeaserComUmaPagina){self._abreTeaser();self.element.comentariosPaginacao("destroy")}else{if(self._temTeaser()){self._abreTeaser()}}}})},_temPaginacao:function(){return this.elementos.hasOwnProperty("botaoMais")},_montaPaginacao:function(){var precisaDePaginacao=(this.totalPagina>1&&this.limitePaginas>1&&!this._temPaginacao())||this._temTeaser();if(precisaDePaginacao){this._criaPaginacao()}},_criaPaginacao:function(){this.element.comentariosPaginacao({eventoPaginacao:this.eventoPaginacao});this.elementos.botaoMais=this.element.find("button.glbComentarios-botao-mais")},_getTodos:function(json){var objeto={};if(json.length){objeto={};objeto.itens=json}else{objeto.itens=[]}return objeto},_listaTodosCriada:function(){return this.elementos.hasOwnProperty("ulTodos")},_alterarTemplateParaReply:function(){var templateLimpo=this._alteraTemplateSemUlContainer();templateLimpo=this._limpaTemplateResposta(templateLimpo);templateLimpo=templateLimpo.replace("{{#itens}}","").replace("{{/itens}}","").replace('<div class="formulario" data-id="{{idComentario}}"> </div>',"");return templateLimpo},_limpaTemplateResposta:function(template){var templateLimpo=template.replace("{{{_criaBotaoPaginacaoResposta}}}","").replace("{{#replies}}","").replace("{{>reply}}","").replace("{{/replies}}","");return templateLimpo},_alteraTemplateSemUlContainer:function(){var templateLimpo=this.template.replace('<ul class="glbComentarios-lista-todos">',"").replace("</ul >","");return templateLimpo},_geraHtmlTodos:function(json){var listaTodos=this._getTodos(json.itens);var tamanhoLista=listaTodos.itens.length;listaTodos.urlPostInteratividade=json.urlPostInteratividade;listaTodos.urlInteratividade=json.urlInteratividade;listaTodos.agregador=json.agregador;if(tamanhoLista<=0){return}var reply_template=this._alterarTemplateParaReply();var htmlTodos=Mustache.to_html(this.template,listaTodos,{reply:reply_template});var container=this.elementos.ulTodos;if(this._listaTodosCriada()){container.append($(htmlTodos).find("> li"))}else{container=this.element.prepend(htmlTodos);container=container.find("> ul")}var self=this;container.find("> li").each(function(idx,li){self._montaResponder($(li))});this._limparBarraThumbsShare(this._temInteratividade(json));self._initiateShareBar(json.facebook_app_id);$(".glbComentarios-lista-resposta .glbComentarios-aba").remove();this.elementos.ulTodos=this.elementos.ulTodos||this.element.find("> ul:eq(0)");if(this.totalComentariosTopico.tem_ratings){this.interactivities.init();this._acertaSelecaoAba()}else{this._removeAbasInternasDeRecenteEPopulares()}},_temInteratividade:function(json){return json.itens.length>0?json.itens[0].temInteratividade:false},_limparBarraThumbsShare:function(temInteratividade){if(temInteratividade){this.element.find(".glbComentarios-lista-resposta-todos .glbComentarios-barra-share").remove()}else{this.element.find(".glbComentarios-lista-resposta-todos .glbComentarios-btns-thumb-share").remove()}},_acertaSelecaoAba:function(){if(this.options.populares){this.elementos.ulTodos.parent().find(".glbComentarios-aba.interno .recentes").removeClass("glbComentarios-barra-cor-produto");this.elementos.ulTodos.parent().find(".glbComentarios-aba.interno .populares").addClass("glbComentarios-barra-cor-produto")}},_removeAbasInternasDeRecenteEPopulares:function(){this.elementos.ulTodos.parent().find(".glbComentarios-aba.interno p").remove();this.elementos.ulTodos.parent().find(".glbComentarios-aba.interno").css("margin-bottom","15px")},_montaTeaser:function(){var precisaDeTeaser=this.options.qtdComentariosNoTeaser&&(this.options.qtdComentariosNoTeaser<this.totalComentariosPagina);if(precisaDeTeaser){var offAPartirDo=this.options.qtdComentariosNoTeaser;this.element.find(".glbComentarios-lista-todos > li").slice(offAPartirDo).addClass("off");this._criaPaginacao()}},_abreTeaser:function(){this.element.find("li.off").removeClass("off")},_montaBotaoVerTodos:function(){var temLimiteDePaginas=!!this.getEditoria().qtdMaxComentVisivel;var temComentariosDepoisLimite=this.totalPagina>this.limitePaginas;var atingiuLimitePaginas=this.pagina===this.limitePaginas;var precisaCriarBotao=temLimiteDePaginas&&atingiuLimitePaginas&&temComentariosDepoisLimite&&!!this.options.linkVerTodosComentarios;if(precisaCriarBotao){var botaoVerTodos=['<a href="',this.options.linkVerTodosComentarios,'"','rel="external" title="Ver todos os comentários" class="glbComentarios-lnk-ver-todos">',"Ver todos os comentários","</a>"];this.element.append(botaoVerTodos.join(""));this.elementos.botaoVerTodos=this.element.find(".glbComentarios-lnk-ver-todos")}},_denunciar:function(){if(this.elementos.ulTodos){this.elementos.ulTodos.find("li .glbComentarios-bt-denunciar").comentariosDenunciar()}},_insereDadosFormatados:function(elemento){var data=elemento.find(".glbComentarios-data abbr");var id=parseInt(elemento.attr("data-usuario-id").split("-")[1],10);var sexo=elemento.attr("data-usuario-sexo");var avatarUsuario=elemento.find(".glbComentarios-usuario-anonimo-avatar > div");var avatarImgUrl=elemento.attr("data-usuario-avatarimgurl");var deveAtualizarAvatar=(this._usuarioLogado()&&this.usuario.usuarioId===id);if(deveAtualizarAvatar){avatarImgUrl=this.usuario.avatarImgUrl}this.setImagemUsuario(avatarUsuario,avatarImgUrl,sexo);this._converteData(data)},marretadaPorContaDoJsonRespostaNoBanco:function(elemento){var listOfDays=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"];elemento.each(function(index,item){item=$(item);var dataString=item.attr("title");for(var i=0;i<listOfDays.length;i++){dataString=dataString.replace(listOfDays[i]+",","")}item.attr("title",dataString)})},_converteData:function(elemento){this.marretadaPorContaDoJsonRespostaNoBanco(elemento);elemento.timeago()},_listaMontada:function(){return !!(this.elementos.ulTodos||this.elementos.ulNovoComentario)},_destacaComentarioUsuario:function(lista){if(this._usuarioLogado()&&this._listaMontada()){lista=lista||this.element;this.elementos.usuario=lista.find('li[data-usuario-id="usuario-'+this.usuario.usuarioId+'"]').addClass("glbComentarios-logado");this.elementos.usuario.find('.glbComentarios-btn-denunciar-wrapper[data-denunciar-usuario-id="denunciar-usuario-'+this.usuario.usuarioId+'"] .glbComentarios-bt-denunciar').remove()}},_montaMensagemNotificacao:function(json){var html=[];var mensagem="<p>"+this.options.disclaimer+"</p>";html='<div class="glbComentarios-mensagem-notificacao">'+mensagem+"</div>";return html},_removeShareDoComentario:function(comentarioElement){comentarioElement.find(".glbComentarios-barra-share").remove()},_diferenciaComentarioNovoPreModerado:function(comentarioElement){comentarioElement.addClass("pre-moderado")},_criaNotificacao:function(json,temPai){var html="";var idComentario=json.itens[0].idComentario;var comentario=this.element.find("#comentario-"+idComentario);if(json.resposta=="PREMODERADO"){this._removeShareDoComentario(comentario);this._diferenciaComentarioNovoPreModerado(comentario)}var liComentario=comentario.find(".glbComentarios-dados-usuario");if(idComentario==-1){liComentario=$(liComentario[0])}liComentario.append(this._montaMensagemNotificacao(json))},_temListaNovoComentario:function(){return this.elementos.hasOwnProperty("ulNovoComentario")},_temListaComentarioCompartilhado:function(){return !!this.elementos.ulComentarioCompartilhado.length},_listaEstaVazia:function(){return this.element.is(":empty")},_bindNovoComentario:function(){var self=this;this.element.bind("lista.novoComentario",function(evento,json,idComentarioPai){self._montaNovoComentario(json,idComentarioPai)})},_montaNovoComentario:function(json,idComentarioPai){var itens=json.itens[0]||json.itens;if(idComentarioPai){this._montaNovoComentarioComPai(json,idComentarioPai)}else{this._montaNovoComentarioSemPai(json)}$(".glbComentarios-lista-resposta .glbComentarios-aba.interno").remove();$(".glbComentarios .novo .glbComentarios-btns-thumb-share").remove();$(".glbComentarios .glbComentarios-lista-novo-comentario .glbComentarios-btns-thumb-share").remove()},_montaNovoComentarioComPai:function(json,idPai){var comentarioPai=this.element.find("#comentario-"+idPai);if(comentarioPai.length!==0){var listaComentarioPai=comentarioPai.find(".glbComentarios-lista-resposta:eq(0) > .glbComentarios-lista-resposta-todos");var html=Mustache.to_html(this.template,json);listaComentarioPai.append(html);var novoComentario=listaComentarioPai.find("li:last");novoComentario.addClass("novo");this._carregarAvatar(novoComentario);this._criaNotificacao(json,true);this._insereDadosFormatados(novoComentario);this._destacaComentarioUsuario(listaComentarioPai);this._incrementaQtdDeRespostasNoBotao(comentarioPai)}},_montaNovoComentarioSemPai:function(json,classCompartilhado){var container=this.elementos.ulNovoComentario;var temComentarioAnterior=this._temListaNovoComentario();var deveCriarLista=!temComentarioAnterior||(temComentarioAnterior&&this._temListaComentarioCompartilhado());var deveCriarAvatar=!classCompartilhado;var deveCompartilhar=!!classCompartilhado;classCompartilhado=classCompartilhado||"";var template="";if(classCompartilhado){template=this._alteraTemplateSemUlContainer();json.itens[0].idComentario=json.itens[0].idComentario+"-compartilhado"}else{template=this._alteraTemplateSemUlContainer();template=this._limpaTemplateResposta(template)}if(deveCriarLista){this.element.find(".glbComentarios-compartilhado").remove();container=this.element;template='<ul class="glbComentarios-lista-novo-comentario '+classCompartilhado+'">'+template+"</ul>"}var reply_template=this._alterarTemplateParaReply();var html=Mustache.to_html(template,json,{reply:reply_template});container.prepend(html);this.elementos.ulNovoComentario=this.element.find(".glbComentarios-lista-novo-comentario");this.elementos.ulComentarioCompartilhado=this.element.find(".glbComentarios-compartilhado");var novoComentario=this.elementos.ulNovoComentario.find("> li:eq(0)");this._carregarAvatar(novoComentario);this._insereDadosFormatados(novoComentario);if(!classCompartilhado){this._criaNotificacao(json)}else{var listaResposta=novoComentario.find('.glbComentarios-lista-resposta:not([data-total-replies="0"]):eq(0)');listaResposta.addClass("sempre-visivel")}this._destacaComentarioUsuario();this._animaNovoComentario(novoComentario,temComentarioAnterior,deveCompartilhar)},_animaNovoComentario:function(elemento,temComentarioAnterior,compartilhado){if(compartilhado){elemento.show();this._colocarElementoNoMeioDaTela(elemento)}else{elemento.slideDown(350)}},_bindAtualizaInformacoesUsuario:function(){var self=this;this.main.bind("main.informacoesUsuario",function(evento,usuario){var loginEmReply=(self.idPai&&!self.usuario);self.usuario=usuario;if(loginEmReply){self._destacaComentarioUsuario();self.options.callbackLogado()}else{self._removeElementos(function(){self._executaLista();self._destacaComentarioUsuario();self._montaTeaser();self.element.comentariosPaginacao("ativa");self.options.callbackLogado()})}})},_removeElementos:function(callback){var elementos=["ulTodos","botaoMais"];var self=this;var ulTodos=this.elementos.ulTodos;self.element.comentariosPaginacao("destroy");if(ulTodos){ulTodos.parent().find(".glbComentarios-aba.interno").remove();ulTodos.remove();delete this.elementos.ulTodos}if(callback){callback()}},_initiateShareBar:function(facebookAppId){var tipoLista=this.element.hasClass("glbComentarios-lista-recentes")?"recentes":"populares";this.element.find(".glbComentarios-barra-share").each(function(idx,shareElement){if(shareElement.innerHTML===""){var comentarioId=shareElement.getAttribute("data-comentario-id");var parentElement=$(shareElement).parents(".glbComentarios-dados-usuario");var usuario=parentElement.find(".glbComentarios-dados-usuario-nome").text().split(" ")[0];var textoUsuario=parentElement.find(".glbComentarios-texto-comentario").text();if(textoUsuario.length>80){textoUsuario=textoUsuario.slice(0,80)+" ..."}var msgShare=usuario+' comentou "'+textoUsuario+'"';shareElement.setAttribute("data-title",msgShare);shareElement.setAttribute("data-hashtags",document.location.href+"#comentario-"+comentarioId);shareElement.setAttribute("data-url",document.location.href+"#comentario-"+comentarioId);shareElement.setAttribute("data-image-url",document.location.href);$(".glbComentarios-lista-"+tipoLista+" .glbComentarios-share-"+comentarioId).empty();new ShareBar({facebookAppId:facebookAppId,selector:".glbComentarios-lista-"+tipoLista+" .glbComentarios-share-"+comentarioId,theme:"minimal",networks:["facebook","twitter","whatsapp","google"]})}});if(tipoLista==="populares"){$(".glbComentarios-lista-populares .glbComentarios-barra-share .share-button").removeClass("share-hidden").addClass("share-full")}}})})(glb.comentarios.getJqueryComentarios());