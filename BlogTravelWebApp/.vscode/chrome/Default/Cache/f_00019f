/* aep-formats-18.2.0 */!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a("./handlebars/base"),e=a("./handlebars/safe-string")["default"],f=a("./handlebars/exception")["default"],g=a("./handlebars/utils"),h=a("./handlebars/runtime"),i=function(){var a=new d.HandlebarsEnvironment;return g.extend(a,d),a.SafeString=e,a.Exception=f,a.Utils=g,a.VM=h,a.template=function(b){return h.template(b,a)},a},j=i();j.create=i,c["default"]=j},{"./handlebars/base":2,"./handlebars/exception":3,"./handlebars/runtime":4,"./handlebars/safe-string":5,"./handlebars/utils":6}],2:[function(a,b,c){"use strict";function d(a,b){this.helpers=a||{},this.partials=b||{},e(this)}function e(a){a.registerHelper("helperMissing",function(a){if(2!==arguments.length)throw new h("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse||function(){},e=c.fn;return m(b)&&(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):l(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper("each",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g="";if(m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&"object"==typeof a)if(l(a))for(var h=a.length;h>f;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i,c.index=f,c.first=0===f),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper("if",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){return m(a)&&(a=a.call(this)),g.isEmpty(a)?void 0:b.fn(a)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function f(a,b){p.log(a,b)}var g=a("./utils"),h=a("./exception")["default"],i="1.3.0";c.VERSION=i;var j=4;c.COMPILER_REVISION=j;var k={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};c.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o="[object Object]";c.HandlebarsEnvironment=d,d.prototype={constructor:d,logger:p,log:f,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];"undefined"!=typeof console&&console[c]&&console[c].call(console,b)}}};c.logger=p,c.log=f;var q=function(a){var b={};return g.extend(b,a),b};c.createFrame=q},{"./exception":3,"./utils":6}],3:[function(a,b,c){"use strict";function d(a,b){var c;b&&b.firstLine&&(c=b.firstLine,a+=" - "+c+":"+b.firstColumn);for(var d=Error.prototype.constructor.call(this,a),f=0;f<e.length;f++)this[e[f]]=d[e[f]];c&&(this.lineNumber=c,this.column=b.firstColumn)}var e=["description","fileName","lineNumber","message","name","number","stack"];d.prototype=new Error,c["default"]=d},{}],4:[function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=l;if(b!==c){if(c>b){var d=m[c],e=m[b];throw new k("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new k("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){if(!b)throw new k("No environment passed to template");var c=function(a,c,d,e,f,g){var h=b.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(b.compile){var i={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,i)}throw new k("The partial "+c+" could not be compiled when running in runtime-only mode")},d={escapeExpression:j.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},j.extend(c,b),j.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f,g,h=e.partial?e:b;e.partial||(f=e.helpers,g=e.partials);var i=a.call(d,h,c,f,g,e.data);return e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new k("The partial "+b+" could not be found");return a instanceof Function?a(c,g):void 0}function i(){return""}var j=a("./utils"),k=a("./exception")["default"],l=a("./base").COMPILER_REVISION,m=a("./base").REVISION_CHANGES;c.checkRevision=d,c.template=e,c.programWithDepth=f,c.program=g,c.invokePartial=h,c.noop=i},{"./base":2,"./exception":3,"./utils":6}],5:[function(a,b,c){"use strict";function d(a){this.string=a}d.prototype.toString=function(){return""+this.string},c["default"]=d},{}],6:[function(a,b,c){"use strict";function d(a){return i[a]||"&amp;"}function e(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}function f(a){return a instanceof h?a.toString():a||0===a?(a=""+a,k.test(a)?a.replace(j,d):a):""}function g(a){return a||0===a?!(!n(a)||0!==a.length):!0}var h=a("./safe-string")["default"],i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=/[&<>"'`]/g,k=/[&<>"'`]/;c.extend=e;var l=Object.prototype.toString;c.toString=l;var m=function(a){return"function"==typeof a};m(/x/)&&(m=function(a){return"function"==typeof a&&"[object Function]"===l.call(a)});var m;c.isFunction=m;var n=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===l.call(a):!1};c.isArray=n,c.escapeExpression=f,c.isEmpty=g},{"./safe-string":5}],7:[function(a,b,c){"use strict";function d(){}function e(a){if("function"!=typeof a)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,a!==d&&i(this,a)}function f(a,b,c){this.promise=a,"function"==typeof b&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),"function"==typeof c&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}function g(a,b,c){o(function(){var d;try{d=b(c)}catch(e){return p.reject(a,e)}d===a?p.reject(a,new TypeError("Cannot resolve promise with itself")):p.resolve(a,d)})}function h(a){var b=a&&a.then;return a&&"object"==typeof a&&"function"==typeof b?function(){b.apply(a,arguments)}:void 0}function i(a,b){function c(b){f||(f=!0,p.reject(a,b))}function d(b){f||(f=!0,p.resolve(a,b))}function e(){b(d,c)}var f=!1,g=j(e);"error"===g.status&&c(g.value)}function j(a,b){var c={};try{c.value=a(b),c.status="success"}catch(d){c.status="error",c.value=d}return c}function k(a){return a instanceof this?a:p.resolve(new this(d),a)}function l(a){var b=new this(d);return p.reject(b,a)}function m(a){function b(a,b){function d(a){g[b]=a,++h!==e||f||(f=!0,p.resolve(j,g))}c.resolve(a).then(d,function(a){f||(f=!0,p.reject(j,a))})}var c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var e=a.length,f=!1;if(!e)return this.resolve([]);for(var g=new Array(e),h=0,i=-1,j=new this(d);++i<e;)b(a[i],i);return j}function n(a){function b(a){c.resolve(a).then(function(a){f||(f=!0,p.resolve(h,a))},function(a){f||(f=!0,p.reject(h,a))})}var c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var e=a.length,f=!1;if(!e)return this.resolve([]);for(var g=-1,h=new this(d);++g<e;)b(a[g]);return h}var o=a("immediate"),p={},q=["REJECTED"],r=["FULFILLED"],s=["PENDING"];b.exports=c=e,e.prototype["catch"]=function(a){return this.then(null,a)},e.prototype.then=function(a,b){if("function"!=typeof a&&this.state===r||"function"!=typeof b&&this.state===q)return this;var c=new this.constructor(d);if(this.state!==s){var e=this.state===r?a:b;g(c,e,this.outcome)}else this.queue.push(new f(c,a,b));return c},f.prototype.callFulfilled=function(a){p.resolve(this.promise,a)},f.prototype.otherCallFulfilled=function(a){g(this.promise,this.onFulfilled,a)},f.prototype.callRejected=function(a){p.reject(this.promise,a)},f.prototype.otherCallRejected=function(a){g(this.promise,this.onRejected,a)},p.resolve=function(a,b){var c=j(h,b);if("error"===c.status)return p.reject(a,c.value);var d=c.value;if(d)i(a,d);else{a.state=r,a.outcome=b;for(var e=-1,f=a.queue.length;++e<f;)a.queue[e].callFulfilled(b)}return a},p.reject=function(a,b){a.state=q,a.outcome=b;for(var c=-1,d=a.queue.length;++c<d;)a.queue[c].callRejected(b);return a},c.resolve=k,c.reject=l,c.all=m,c.race=n},{immediate:8}],8:[function(a,b,c){(function(a){"use strict";function c(){k=!0;for(var a,b,c=l.length;c;){for(b=l,l=[],a=-1;++a<c;)b[a]();c=l.length}k=!1}function d(a){1!==l.push(a)||k||e()}var e,f=a.MutationObserver||a.WebKitMutationObserver;if(f){var g=0,h=new f(c),i=a.document.createTextNode("");h.observe(i,{characterData:!0}),e=function(){i.data=g=++g%2}}else if(a.setImmediate||"undefined"==typeof a.MessageChannel)e="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var b=a.document.createElement("script");b.onreadystatechange=function(){c(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},a.document.documentElement.appendChild(b)}:function(){setTimeout(c,0)};else{var j=new a.MessageChannel;j.port1.onmessage=c,e=function(){j.port2.postMessage(0)}}var k,l=[];b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(a,b,c){var d=a("./utils"),e=a("./request"),f=a("./viewable.js"),g=a("./user-metrics"),h=a("./timer.js"),i=a("./context.js"),j=a("./reporter.js"),k=a("./signal"),l=a("./target"),m=a("lie"),n=a("./inline").onShow,o=a("./external"),p=function(a,b){var c,k=this,q=d.isPageVisible(),r=q?i.getId(a.tagWindow.admTopWindow):null;a.viewableImp&&(c=new g({name:a.id,hadInitiatedVisible:q,expirationDays:15,vRateMinRecords:10,vRateMaxRecords:30,vTimeMinRecords:5,vTimeMaxRecords:15}));var s=function(){return a.template&&!!a.template.match(/^https:\/\//)},t=function(a,b,c,d,e){var f=d?parseInt(d):(a.split(".")[1]||[]).length||(a.split(",")[1]||[]).length,g=b||"R$ ",h=e||"",i=c||",",j=parseFloat(a.replace(",",".")).toFixed(f),k=parseInt(j)+"",l=(l=k.length)>3?l%3:0;return g+(l?k.substr(0,l)+h:"")+k.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+h)+(f?i+Math.abs(j-k).toFixed(f).slice(2):"")},u=function(b){if("undefined"!=typeof b&&null!==b){var c,e,f=d.decodeHTMLEntities(b),g=[];return a.priceFormat?g=a.priceFormat.split("|"):a.currencySymbol&&(g=[a.currencySymbol]),c=f.match(/(?:R?$ ?)?(\d+[.,]\d*)/)||f.match(/(?:R?$ ?)?(\d+[.,]?\d*)/),e=c?f.replace(/R?\$/g,"").replace(c[1],function(){return g.unshift(c[1]),t.apply(this,g)}):f}},v=function(c,e,f,g){e=e&&e.replace(/%([^%]+)%/g,function(b,c){return a[c]||b})||"",e&&e.indexOf("?")<0&&(e="?"+e);var h={x:f,rnd:d.generateKey(8)};a.shareDevice&&2==a.shareDevice.length&&(h.ptv=a.shareDevice[d.isMobile()?1:0]),(g||b.t)&&(h.t=g||b.t);var i=c+(e?e+"&":"?")+d.buildQuery(h),j=d.isArray(a.clickAudit)?a.clickAudit[f]:a.clickAudit;return i&&j&&(i=d.noCache(j)+encodeURIComponent(i)),i},w=function(a,b){var c="",e=!1;return a=a.split(/,(?!(?:[^\(]*\))|(?:[^\{]*}))/),d.forEach(a,function(a){var f=[];return e=!1,a.replace(/(?:\{([^\{\}\(\)]*)})|(?:\(([^\{\}\(\)]*)\))/g,function(a,c,g){c&&(d.isString(b[c])||d.isNumeric(b[c])?""!=b[c]&&f.push(b[c]):e=!0),g&&f.push(g)}),e||(c=f.join(" ")),e}),c},x=function(a){var b={b:"font-weight: bold",k:"font-style: italic",u:"text-decoration: underline",s:"text-decoration: line-through"},c=a.color?["color: "+a.color]:[];return a.format&&d.forEach(a.format.split(","),function(a){c.push(b[a])}),c=c.join("; ")},y=function(b,c,d){return b.match(/^(?:http:|https:)?\/\//)||(b=d+b),b&&s()&&(c||b.match(/^http:\/\//))&&a.imageProxy&&!b.match(/^https:\/\//)&&(b=b.replace(/^(?:http:|https:)?\/\//,a.imageProxy)),b||(b=k.getFallbackImage()),b},z=function(a,b){return a?a+"/logos/"+b+".png":""},A=function(a,b){return b?a+b:null},B=function(b,c,e,f){var g=d.parseQueryParams(b.clk),h=d.parseIfJson(b.cfg)||{};if(h&&d.isString(h.irp)){var i=h.irp.split(",");h.irp={red:parseInt(i[0],10),green:parseInt(i[1],10),blue:parseInt(i[2],10)}}var j={tag:a,cfg:h,product:b,title:d.parseIfJson(d.decodeHTMLEntities(b.tit)),iprice:u(b.ip),vpc:u(b.ip),ni:b.ni,cdc:b.ni,lprice:u(b.lp),cta:h.cta||"",redirect:a.redirect,style:x(h),thumbnail:y(b.thumb||b.img,!!b.proxy,f),image:y(b.img||b.thumb,!!b.proxy,f),description:d.parseIfJson(d.decodeHTMLEntities(b.desc)),pcd:u(b.p),pdl:u(b.lp),dis:b.dis,totalPrice:u(b.p),url:v(e,b.clk,c,b.t),logo:z(f,b.lg),specialStrip:A(f,h.ss),hp:!!b.hp};return j.clickQuery=d.parseQueryParams(j.url),j.creativeId=g.c,j.productId=g.pr,j.presets=w((h.presets?h.presets+",":"")+"{cdc}(x){vpc},{pcd},{pdl}",j),j.price=w("{pcd}",j),j.callToAction=j.cta,j.imageOrThumbnail=j.image,j},C=function(b){return a.fs+"files/byr/"+b+".js"},D=function(a){var b=o.get(C(a),{jsonp:{cbName:"_"+a}});return new m(function(a,c){b.then(function(b){b&&b.data&&b.data.ads&&0!=b.data.ads.length?a(b.data):c()})})},E=function(b){var c=a.tagWindow.admTopWindow,e=c.document,f=e.createElement("iframe"),g=e.createElement("div");if(f.style.overflow="hidden",f.border="0",f.frameBorder="0",f.marginWidth="0",f.marginHeight="0",f.leftMargin="0",f.topMargin="0",f.style.width=a.width+"px",f.style.height=a.height+"px",a.isTopFormat&&(g.style.textAlign="center",g.style.width="100%",-1==f.style.cssText.indexOf("width")?f.style.cssText=f.style.cssText.replace(/width: ?.+?;/,"width: "+a.width+"px!important"):f.style.cssText+="width: "+a.width+"px!important"),a.placement.targetNode.then(function(c){c.parentNode.insertBefore(g,c),g.appendChild(f),f.contentWindow.document.write("<!DOCTYPE html><html><head></head><body style='overflow:hidden'><script src='"+C(b)+"'></script></body></html>"),a.viewableElement=d.getOuterAccessibleFrame(f.contentWindow)}),a.byrCss){var h=a.fs+"files/byr/"+b+".css";d.loadCSSFile(h,a.tagWindow,null)}p.onFormatCancel.dispatch(a)},F=function(b){var c=a.tagWindow,e=c.document.createElement("div"),f=c.document.getElementById(a.id);if(f?f.parentNode.insertBefore(e,f):c.document.body.appendChild(e),b.hasOwnProperty("useIframe")&&1==b.useIframe){var g=c.document.createElement("iframe");g.style.overflow="hidden",g.border="0",g.frameBorder="0",g.marginWidth="0",g.marginHeight="0",g.leftMargin="0",g.topMargin="0",g.style.width=a.width+"px",g.style.height=a.height+"px",e.appendChild(g),g.contentWindow.document.write("<!DOCTYPE html><html><head></head><body style='overflow:hidden'><script src='"+b.src+"'></script></body></html>"),a.isTopFormat&&(e.style.textAlign="center",e.style.width="100%",-1==g.style.cssText.indexOf("width")?g.style.cssText=g.style.cssText.replace(/width: ?.+?;/,"width: "+a.width+"px!important"):g.style.cssText+="width: "+a.width+"px!important")}else d.loadJSFile(b.src,c);p.onFormatCancel.dispatch(a),d.setIframeDisplay(c,"block")};this.getFallbackImage=function(){return a.fallbackImage||(s()?p.defaults.secureFallbackImage:p.defaults.fallbackImage)};var G=function(b,e){var g,i=new f(a,a.viewableElement),j=new h(100,12e4);b.setResponse(e),i.onFirstView.then(function(){b.reportViewableImpression(),c.registerViewableImpression(),g=setInterval(function(){c.updateViewabilityTime(j.getElapsedTime())},5e3),d.addEventListener(a.tagWindow.admTopWindow,"unload",function(){b.reportViewableTime(j.getElapsedTime()),c.updateViewabilityTime(j.getElapsedTime()),clearInterval(g),j.stop(),i.stop()})}),i.onViewable.subscribe(function(){j.start()}),i.onHidden.subscribe(function(){j.stop()}),a.inline?n.then(i.start):i.start()};this.require=function(f,g){var h=function(c){b.t=b.parameters.t||c.t;var e=new j(a.reporting,a.deferredImpression,b.t,r);if(a.inline&&c.di&&n.then(function(){var a=c.di.split("=")[1];e.reportDeferredImpression(a)}),a.isTopFormat||d.setIframeDisplay(a.tagWindow,"block"),c.ads&&c.ads.length>0){var g=a.onProductsResponse;g&&d.isFunction(g)&&g(c.ads);var h=d.map(c.ads||[],function(b,d){return B(b,d,c.ev||a.click,c.dom)});f({ads:h}),a.viewableImp&&G(e,{ads:h})}else if(c.byr){switch(c.typ){case 2:a.onThirdPartyByr&&a.onThirdPartyByr(a),E(c.byr);break;case 1:default:D(c.byr).then(function(a){f(a)},function(){F(a.passback)})}a.viewableImp&&G(e,{byr:c.byr})}else a.passback?F(a.passback):p.onFormatCancel.dispatch(a)},i=function(){var c,d=a.tagWindow==top?a.formatWindow:a.tagWindow;a.inline&&(b.parameters.di=1),c=e.get(b,d,a.group),c.subscribe.cb(h),c.subscribe.ccb(g)};if(a.viewableImp&&d.extend(b.parameters,{ctx:r,vt:d.isNumeric(c.getViewabilityTime())?d.msToSec(c.getViewabilityTime()):null,vr:c.getViewabilityRate()}),b.targets){var k=new l(b.targets,a.tagWindow,a.id);k.getTargets().then(function(a){var c=d.reduce(a,function(a,b){return b&&"string"==typeof b&&a.push(b),a},[]).join(";");b.parameters.trg=c,i()})}else i()}};p.defaults={fallbackImage:"http://akfs.nspmotion.com/aep/css/imgs/aep-img-404-70x70.gif",secureFallbackImage:"https://s-akfs.nspmotion.com/aep/css/imgs/aep-img-404-70x70.gif"},p.onFormatCancel=new k,b.exports={onFormatCancel:p.onFormatCancel,create:function(a,b){return new p(a,b)}}},{"./context.js":11,"./external":19,"./inline":25,"./reporter.js":30,"./request":31,"./signal":34,"./target":38,"./timer.js":39,"./user-metrics":41,"./utils":42,"./viewable.js":43,lie:7}],10:[function(a,b,c){var d=a("./utils"),e=function(){var a=[],b={},c={},e=function(){for(var b=0;b<a.length;b++)d.isFunction(a[b])&&(a[b](c),a.splice(b,1))};this.when=function(a){b[a]=1},this.then=function(c){a.push(c),d.objectIsEmpty(b)&&e()},this.resolve=function(a,f){c[a]="undefined"==typeof f?null:f,delete b[a],d.objectIsEmpty(b)&&e()}};b.exports=e},{"./utils":42}],11:[function(a,b,c){var d=a("./utils.js"),e={getId:function(a){var b=[],c=d.getViewportSize(a.document);return d.forEach(e.idList,function(a,d){a=a.sort(function(a,b){return b.value-a.value});for(var e=0;e<a.length;e++)if(c[d]>=a[e].value){b.push(a[e].id);break}}),b.join("-")},idList:{width:[{value:0,id:"hs"},{value:1051,id:"hm"},{value:1401,id:"hl"}],height:[{value:0,id:"vs"},{value:601,id:"vm"},{value:851,id:"vl"}]}};b.exports={getId:e.getId}},{"./utils.js":42}],12:[function(a,b,c){var d=a("./utils.js"),e=function(a){var b=function(a){return"%"+a.charCodeAt(0).toString(16)},c=function(a){return encodeURIComponent(a).replace(/[-_z.]/g,b).replace(/%/g,"z")},e=function(a){return decodeURIComponent(a.replace(/z/g,"%"))};this.setCookie=function(b,d,e){try{var f=b.toUTCString?b.toUTCString().replace(",",""):b+"",g=a+"="+c(f);if(d){var h=d.toUTCString?d.toUTCString():d+"";g+=";expires="+h+";path=/",e&&(g+=";domain="+e)}document.cookie=g}catch(i){}},this.getCookie=function(){try{for(var b=document.cookie.split(";"),c=0;c<b.length;c++){var f=b[c].split("=");if(d.trim(f[0])==a)return e(f[1])}}catch(g){}return""},this.updateCookie=function(b,c){var d=this.getCookie(a+"Date");this.setCookie(b,d,c)},this.deleteCookie=function(b){document.cookie=a+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(b?"; domain="+b:"")+"; path=/"}};b.exports=e},{"./utils.js":42}],13:[function(a,b,c){var d=a("./utils"),e=a("./ad-service"),f=a("./image"),g=a("./dom"),h=a("./dom-utils"),i=a("lie"),j={Expandable:a("./expandable"),Slider:a("./slider"),Fader:a("./fader"),Sidetabs:a("./sidetabs"),SidetabsMetro:a("./sidetabs-metro")},k=[],l=[],m={lines:function(a){var b=d.getInternetExplorerVersion(),c=a.element;if(b>0&&9>b)h.limitLines(c);else{var e=c.style.display;c.style.display="none";var f=h.fontSpy(c);k.push(f),f.then(function(){c.style.display=e,h.limitLines(c)})["catch"](function(){c.style.display=e,h.limitLines(c)})}},controller:function(a){var b=new j[a.value](a.config,a.element,a.scope);b.init()},show:function(a){g(a.element.nextSibling).trigger("show"),a.element.parentNode.removeChild(a.element)},service:function(a){var b=a.config,c=g(b.tagWindow.admTopWindow),f=b.service[a.value.index],h=b.serviceOptions[a.value.key],j=f.parameters;j.q&&j.q.hasOwnProperty("max")&&(j.q=Math.min(j.q.max,Math.floor((c.height()-j.q.offset)/j.q.height)));var n=e.create(b,f);g(a.element).on("show",function(){n.require(function(c){var e=c.ads;try{if(e.length){b.log.dispatch("products",d.extend([],e,{deep:!0}));for(var f,j,o,p=a.element.ownerDocument.createElement("div"),q=0;q<e.length;q++){var r=e[q];r.url="_adm_href_"+encodeURIComponent(r.url),r.image="#_adm_src_"+encodeURIComponent('{"product": '+q+', "src": "'+r.image+'"}'),r.thumbnail="#_adm_src_"+encodeURIComponent('{"product": '+q+', "src": "'+r.thumbnail+'"}'),r.imageOrThumbnail="#_adm_src_"+encodeURIComponent('{"product": '+q+', "src": "'+r.imageOrThumbnail+'"}')}var s=h.fn(d.extend(c,{ads:e,config:b}));for(s=s.replace(/(<\s*img.*?>)/gi,function(a,b){var c=a.match(/(src)=(?:"|')(?=#_adm_src_)/i);return c?a.replace(c[1],"adm-src"):a}),p.innerHTML=s,o=d.toArray(p.children),f=d.toArray(p.getElementsByTagName("a")),j=d.toArray(p.getElementsByTagName("img"));p.firstChild;)a.element.parentNode.insertBefore(p.firstChild,a.element);a.element.parentNode.removeChild(a.element),a.template.js&&a.template.js(function(b,c){return g(b,c||a.element.ownerDocument)},b.formatWindow,b.formatWindow.document),d.setIframeDisplay(b.formatWindow,"block"),b.cssLoadCouldBeDetected&&(d.forEach(f,function(a){var b=a.getAttribute("href"),c=b&&b.match(/_adm_href_(.*)/);c&&a.setAttribute("adm-href",decodeURIComponent(c[1]))}),d.forEach(j,function(a){var b=a.getAttribute("adm-src")&&a.getAttribute("adm-src").match(/#_adm_src_(.*)/);b&&a.setAttribute("adm-src",decodeURIComponent(b[1]))}),d.forEach(o,function(b){m.run(d.extend({element:b,service:n,products:e},a,{overwrite:!1}))}),i.all(l).then(function(a){b.inline&&b.formatWindow.aepwa._formatReady.resolve()})["catch"](function(a){d.log(a)}),i.race(k).then(function(){},function(a){d.reloadFontCss(b)})["catch"](function(a){d.log("fonts could not be reloaded")}))}}catch(t){b.log.dispatch("error",t)}},d.report)})},src:function(a){l.push(f(a))},href:function(a){a.config.avoidHrefRestoring||(a.element.href=a.value),g(a.element).on("mousedown",function(b){b=b||window.event,a.config.oob&&(2==b.button||d.isFirefox()&&1==b.button)?d.isJsToHtmlBase64DataUriSupported()?a.element.href=d.jsToHtmlBase64DataUri("var img = new Image(); img.onerror = img.onload = function() { 	window.location.href = '"+a.value+"'; };img.src = 'http://ia.nspmotion.com/redirect/?r=' + Math.random() + '&url=' + 	encodeURIComponent('"+d.noCache(a.config.oob)+"') ;"):a.element.removeAttribute("href"):a.config.avoidHrefRestoring||(a.element.href=a.value),a.config.onClickProduct.dispatch()}),a.element.onclick=function(){var b=a.config.formatWindow.admTopWindow;if(a.value){var c=b.open(d.addProtocolIfNeeded(a.value,d.getProtocol()));if(c)try{c.focus()}catch(e){}var f=function(){c?a.config.redirect&&(b.location.href=a.config.redirect,c.focus()):b.location.href=a.value};d.isAccessible(a.config.tagWindow.parent)&&a.config.tagWindow.parent.HTMLCreative&&a.config.tagWindow.parent.HTMLCreative.reportEvent({Type:"Click"}),a.config.oob?d.report("http://ia.nspmotion.com/redirect/?r=[rnd]&url="+encodeURIComponent(d.noCache(a.config.oob)),f):f()}return!1}},run:function(a){for(var b={},c={},e=a.element.children.length-1;e>=0;e--){var f=a.element.children[e],g=m.run(d.extend({element:f},a,{overwrite:!1}));f.getAttribute("adm-controller")||d.extend(b,g,{array:"concat"})}for(var h=0;a.element.attributes&&h<a.element.attributes.length;h++){var i=a.element.attributes[h];if(i.name.match(/adm\-.*/)){var j=d.toCamelCase(i.name);c[j]=c[j]||[],c[j].push({element:a.element,value:d.parseIfJson(i.value)})}}d.extend(b,c,{array:"concat"});for(var k in c)if(c.hasOwnProperty(k)&&m[k])for(var l=0;l<c[k].length;l++){var n=c[k][l];m[k](d.extend({element:n.element,value:n.value,scope:b},a,{overwrite:!1}))}return b}};b.exports=m},{"./ad-service":9,"./dom":17,"./dom-utils":16,"./expandable":18,"./fader":20,"./image":24,"./sidetabs":33,"./sidetabs-metro":32,"./slider":35,"./utils":42,lie:7}],14:[function(a,b,c){var d=a("./utils"),e=a("./signal"),f=a("./dom-utils"),g=function(a,b){var c=this,h=a&&a.ownerDocument||b&&b.ownerDocument||b||document;b=b||h;var i={appear:function(a){return c.each(function(b){g.Data.set(b,"appear",d.poll(function(){return d.isInViewport(b)}).subscribe(a))})},visible:function(a){return c.each(function(b){g.Data.set(b,"visible",d.poll(function(){return f.isVisible(b)},a))})},hidden:function(a){return c.each(function(b){g.Data.set(b,"hidden",d.poll(function(){return!f.isVisible(b)},a))})},show:function(a){return c.each(function(b){var c=new e(!1);c.subscribe(a),g.Data.set(b,"show",c)})}};this.trigger=function(a){return c.each(function(b){var c=g.Data.get(b,a);c||(c=new e(!1),g.Data.set(b,a,c)),c.dispatch()})},this.bind=function(a,b){return c.each(function(c){var d=function(){return b.apply(c,arguments)};if(a in i){var e=g.Data.get(c,a);e?e.subscribe(d):i[a](d)}else c.attachEvent?c.attachEvent("on"+a,d):c.addEventListener?c.addEventListener(a,d,!0):c["on"+a]=d})},this.children=function(){var a=[];return d.forEach(l,function(b){a=a.concat(d.toArray(b.children))}),new g(a,b)},this.addClass=function(a){return c.each(function(b){b.className.indexOf(a)<0&&(b.className+=" "+a)})},this.removeClass=function(a){return c.each(function(b){b.className=b.className.replace(a,"")})},this.css=function(a,b,e){return c.each(function(c){var g=function(a,b){b=d.isFunction(b)?b():b,c.style[a]=d.isNumeric(b)&&0!=b&&"opacity"!=a?b+"px":b};if(d.isString(a)){if(!d.isNumeric(b)&&!d.isString(b))return f.css(c,a,e);g(a,b)}else for(var h in a)a.hasOwnProperty(h)&&g(h,a[h])})},this.width=function(){return c.each(f.width)},this.outerWidth=function(){return c.each(function(a){return a.offsetWidth})},this.height=function(){return c.each(f.height)},this.position=function(){return c.each(f.position)},this.on=function(a,b){a=a.split(" ");for(var d=0;d<a.length;d++)c.bind(a[d],b);return c},this.click=function(a){return c.bind("click",a)},this.hover=function(a,b){return c.bind("mouseenter",a),c.bind("mouseleave",b||a),c},this.each=function(a){for(var b,d=0;d<l.length&&void 0===b;d++)b=a.call(c,l[d],d);return void 0===b?c:b},this.get=function(a){return l[a]},this.find=function(a){var c=[];return d.forEach(l,function(b){c=c.concat(k(a,b))}),new g(c,b)},this.hide=function(){c.css(f.filterOpacity({opacity:0}))};var j=function(a,b){var c,e=h.createElement("style"),f=[],g=[];for(h.documentElement.firstChild.appendChild(e),h._qsa=[],e.styleSheet.cssText=a+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",d.getWindow(h).scrollBy(0,0),e.parentNode.removeChild(e);h._qsa.length;)c=h._qsa.shift(),c.style.removeAttribute("x-qsa"),f.push(c);if(h._qsa=null,b.contains)for(var i=0;i<f.length;i++)b.contains(f[i])&&g.push(f[i]);else g=f;return g},k=function(a,b){var c=[];return d.isString(a)?c=b.querySelectorAll?b.querySelectorAll(a):j(a,b):a&&(a.nodeType||d.isWindow(a))?c=[a]:a&&a.length&&a[0].nodeType&&(c=a),d.toArray(c)},l=k(a,b);c.length=l.length};g.Data={uid:0,expando:"adm-element-uid",cache:{},get:function(a,b){var c=a[g.Data.expando],d=g.Data.cache[c||g.Data.key(a)];return d[b]},set:function(a,b,c){var d=a[g.Data.expando],e=g.Data.cache[d||g.Data.key(a)];e[b]=c},access:function(a,b,c){var d=g.Data.get(a,b);return d||g.Data.set(a,b,d=c),d},key:function(a){var b=a[g.Data.expando]=++g.Data.uid;return g.Data.cache[b]={},b}},b.exports=g},{"./dom-utils":16,"./signal":34,"./utils":42}],15:[function(a,b,c){var d=a("./dom-handler"),e=a("./dom-utils"),f=a("./dom"),g=a("./utils"),h=a("./tweening");d.prototype.fadeIn=function(a,b){return this.animate({opacity:1},a||400,"",b)},d.prototype.fadeOut=function(a,b){return this.animate({opacity:0},a||400,"",b)},d.prototype.animate=function(a,b,c,i){var j=arguments;return this.each(function(a){var b=f(a),c=d.Data.access(a,"tween",{}),i=function(d,f,j,k){g.isFunction(j)&&!k&&(k=j,j="easeOutQuad"),j=j||"easeOutQuad";var l={};for(var m in d)d.hasOwnProperty(m)&&(l[m]=b.css(m,void 0,!0));b.css(l),c.player=new h.Player,c.player.onFrame=function(a){b.css(e.filterOpacity(a))},c.player.onStop=function(){g.isFunction(k)&&k.apply(a),c.animationQueue.shift(),c.animationQueue.length&&i.apply(b,c.animationQueue[0])},c.player.initialize(l,"linear"==j?h.Functions.getIdentity():h.Functions.getNormalizedExtern(j)),c.player.gotoKey(f,d)};c.animationQueue=c.animationQueue||[],c.animationQueue.push(j),1==c.animationQueue.length&&i.apply(b,j)})},d.prototype.stop=function(){return this.each(function(a){var b=d.Data.get(a,"tween");b&&b.player&&(b.animationQueue=[],b.player.stop())})},d.prototype.animateSprite=function(a,b,c){var d=this.width(),e=0,f=this,g=function(){f.css({backgroundPosition:(b-e)*d+"px 0"}),e++,b>e?setTimeout(g,1e3/a):c()};return g(),this},d.prototype.shake=function(a,b,c){return b=b||3,c=c||20,this.each(function(){var d=f(this);d.css("position","relative");for(var e=1;b>=e;e++)d.animate({left:-1*c},a/b/4).animate({left:c},a/b/2).animate({left:0},a/b/4)}),this}},{"./dom":17,"./dom-handler":14,"./dom-utils":16,"./tweening":40,"./utils":42}],16:[function(a,b,c){var d=a("./utils"),e=a("lie"),f={};f.limitLines=function(a,b,c){if(c=c||parseInt(a.getAttribute("adm-lines"),10),b=b||a,c){var e=b.childNodes;if(e&&e.length)for(var g=e.length-1;g>=0;g--){var h=e[g];f.limitLines(a,h,c)}else{var i=b.innerText?"innerText":b.textContent?"textContent":"nodeValue",j=b[i],k=f.css(a,"line-height",!0)*c,l=a.style.height,m=a.style.maxHeight;for(a.style.height="auto",a.style.maxHeight="none";j&&d.trim(j)&&f.height(a)>k;)j="..."!=j?j.replace(/([,;:\.\s]*\S+\s*)$/,"..."):"",b[i]=j;a.style.height=l,a.style.maxHeight=m}}},f.width=function(a){var b;return b=d.isWindow(a)?d.getViewportSize(a.document).width:a.offsetWidth-f.css(a,"padding-left",!0)-f.css(a,"padding-right",!0)-f.css(a,"border-left-width",!0)-f.css(a,"border-right-width",!0)},f.height=function(a){var b;return b=d.isWindow(a)?d.getViewportSize(a.document).height:a.offsetHeight-f.css(a,"padding-top",!0)-f.css(a,"padding-bottom",!0)-f.css(a,"border-top-width",!0)-f.css(a,"border-bottom-width",!0)},f.position=function(a){var b=a.ownerDocument.documentElement,c=d.getWindow(a.ownerDocument),e=a.getBoundingClientRect();return{left:e.left+c.pageXOffset-b.clientLeft,top:e.top+c.pageYOffset-b.clientTop}},f.fontSpy=function(a,b){var c={font:f.css(a,"font-family"),testFont:"Comic Sans MS, monospace",testString:"QW@HhsXJ",delay:50,timeOut:500},g=d.extend(c,b||{}),h=new e(function(b,c){if(g.font=g.font.split(",")[0],g.font){var e=a.ownerDocument,f=e.createElement("span");f.style.position="absolute",f.style.top="-9999px",f.style.left="-9999px",f.style.visibility="hidden",f.style.fontFamily=g.testFont,f.style.fontSize="250px",f.innerHTML=g.testString,e.body.appendChild(f);var h=f.offsetWidth;f.style.fontFamily=g.font+","+g.testFont;var i=function(){var a=f.offsetWidth;h===a?g.timeOut<0?(e.body.removeChild(f),d.log("Failed to load font "+g.font),c({failedFont:g.font})):(setTimeout(i,g.delay),g.timeOut=g.timeOut-g.delay):(e.body.removeChild(f),b("font loaded"))};i()}else b("font loaded")});return h},f.filterOpacity=function(a){var b=d.getInternetExplorerVersion();
return"opacity"in a&&b>0&&9>b&&(a.filter="Alpha(opacity="+100*a.opacity+")"),a},f.css=function(a,b,c){b=b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var e="",g=a.ownerDocument,h=/-([a-z])/gi,i=b.replace(h,function(a,b){return(b+"").toUpperCase()});if(a.currentStyle){var j=/^-?\d+(?:px)?$/i,k=/^-?\d/,l=a.style;if(e=a.currentStyle[b]||a.currentStyle[i],!j.test(e)&&k.test(e)){var m=l.left,n=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left,l.left="fontSize"===i?"1em":e||0,e=l.pixelLeft+"px",l.left=m,a.runtimeStyle.left=n}}else e=g.defaultView&&g.defaultView.getComputedStyle?g.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.style[i];if(c){var o=parseFloat(e);if(d.isNumeric(o))return o;if("line-height"==b||"lineHeight"==b){var p=g.createElement(a.nodeName);p.style.fontSize=f.css(a,"font-size"),p.style.fontFamily=f.css(a,"font-family"),p.style.padding=0,p.style.margin=0,p.style.borderWidth=0,p.style.height="auto",p.style.clear="both",p.innerHTML="&nbsp;",a.parentNode.appendChild(p);var q=p.offsetHeight;return p.parentNode.removeChild(p),q}return 0}return e},f.isVisible=function(a,b,c,d,e,g,h){var i=a.parentNode,j=2;return i&&9===i.nodeType?!0:"0"===f.css(a,"opacity")||"none"===f.css(a,"display")||"hidden"===f.css(a,"visibility")?!1:("undefined"!=typeof b&&"undefined"!=typeof c&&"undefined"!=typeof d&&"undefined"!=typeof e&&"undefined"!=typeof g&&"undefined"!=typeof h||(b=a.offsetTop,e=a.offsetLeft,d=b+a.offsetHeight,c=e+a.offsetWidth,g=a.offsetWidth,h=a.offsetHeight),i?"hidden"!==f.css(i,"overflow")&&"scroll"!==f.css(i,"overflow")||!(e+j>i.offsetWidth+i.scrollLeft||e+g-j<i.scrollLeft||b+j>i.offsetHeight+i.scrollTop||b+h-j<i.scrollTop)?(a.offsetParent===i&&(e+=i.offsetLeft,b+=i.offsetTop),f.isVisible(i,b,c,d,e,g,h)):!1:!0)},b.exports=f},{"./utils":42,lie:7}],17:[function(a,b,c){var d=a("./dom-handler"),e=function(a,b){return a instanceof d?a:new d(a,b)};b.exports=e},{"./dom-handler":14}],18:[function(a,b,c){var d=a("./utils"),e=a("./dom"),f=a("./params");a("./dom-tweening");var g=function(a,b,c){var g=a.formatWindow.document,h=new f(c,{collapse:null,expand:null,collapseHover:null,collapseSprite:null,collapsed:null,expanded:null,collapsedWidth:null,collapsedHeight:null,expandedWidth:null,expandedHeight:null}),i=h.collapsedWidth||h.collapsedHeight||h.expandedWidth||h.expandedHeight,j=function(){l(),a.tagWindow.parent.closeMastHead&&a.tagWindow.parent.closeMastHead(),a.tagWindow.parent.doCollapse&&a.tagWindow.parent.doCollapse(!0)},k=function(){m(),a.tagWindow.parent.openMastHead&&a.tagWindow.parent.openMastHead(),a.tagWindow.parent.doExpand&&a.tagWindow.parent.doExpand(!0)},l=function(){e(h.expanded,g).css({display:"none"}),e(h.collapsed,g).css({display:"block"}),i&&d.adjustIframeSize(a.formatWindow,h.collapsedWidth||a.width,h.collapsedHeight||a.height)},m=function(){e(h.expanded,g).css({display:"block"}),e(h.collapsed,g).css({display:"none"}),i&&d.adjustIframeSize(a.formatWindow,h.expandedWidth||a.width,h.expandedHeight||a.height)};this.init=function(){if(h.init?"expand"==h.init?k():"collapse"==h.init&&j():(e(h.expanded,g).css({display:"block"}),e(h.collapsed,g).css({display:"block"})),e(h.expand,g).click(k),h.collapseSprite){var b=e(h.collapseHover,g);e(h.collapseSprite,g).animateSprite(9,18,function(){e(h.collapseSprite,g).click(function(){b.css({display:"none"}),j()}).hover(function(){b.css({display:"block",opacity:0}).animate({right:25,opacity:1},300)},function(){b.animate({right:-10,opacity:0},100)})})}else e(h.collapse,g).click(j);var c=a.tagWindow.parent;if(c.HTMLCreative){var d=c.HTMLCreative.admCollapseCommand,f=c.HTMLCreative.admExpandCommand;c.HTMLCreative.admCollapseCommand=function(){l(),d.apply(this,arguments)},c.HTMLCreative.admExpandCommand=function(){m(),f.apply(this,arguments)}}}};b.exports=g},{"./dom":17,"./dom-tweening":15,"./params":28,"./utils":42}],19:[function(a,b,c){var d=a("lie"),e=a("./utils.js"),f={};b.exports={get:function(a,b){return new d(function(c,d){if(b&&b.jsonp){var g=b.jsonp.global?window:f;g[b.jsonp.cbName]=function(a){c({data:a})}}var h=document.createElement("script");b.jsonp.cbParam&&(b.data=b.data||{},b.data[b.jsonp.cbParam]=b.jsonp.cbName),b.data&&(a=a+"?"+e.buildQuery(b.data)),h.src=a,document.getElementsByTagName("head")[0].appendChild(h),"undefined"!=typeof b.timeout&&setTimeout(function(){d({timeout:!0})},b.timeout)})},set:function(a,b){f[a](b)}}},{"./utils.js":42,lie:7}],20:[function(a,b,c){var d=a("./params"),e=a("./dom");a("./dom-tweening");var f=function(a,b,c){var f=e(b),g=f.children(),h=[],i=new d(c,{fadeTime:500,itemDelay:100});this.init=function(){f.on("visible",function(){var a=0;g.each(function(b){h.push(setTimeout(function(){e(b).fadeIn(i.fadeTime)},a)),a+=i.itemDelay}),g.hide()}),f.on("hidden",function(){for(var a=0;a<h.length;a++)clearTimeout(h[a]);h=[],g.hide()}),g.hide()}};b.exports=f},{"./dom":17,"./dom-tweening":15,"./params":28}],21:[function(a,b,c){var d=a("./utils"),e=a("./signal"),f=a("./ad-service"),g=a("./directive"),h=a("./dom"),i=a("./async"),j=a("./inline"),k=a("./handlebars-helpers")(a("../node_modules/handlebars/dist/cjs/handlebars.runtime")["default"]),l=a("./placement"),m={};m.init=function(a,b){a.tagWindow.document.body||a.tagWindow.document.write("<body></body>"),a.tagWindow!=top&&a.tagWindow.document.close(),a.useSuperDomain&&d.setSuperDomain(a.tagWindow);var c=new l(a);a.placement=c,c.targetNode.then(function(b){c.insert(b),a.inline&&j.show(a)},function(a){d.log(a)}),c.formatContext.then(function(c){if(a.formatWindow=c.formatWindow,a.formatElement=c.formatElement,a.viewableElement=c.viewableElement,a.tagWindow.$sf){var d=a.tagWindow.$sf.ext,e=!0;d.register(a.width,a.height,function(c){"register"!=c&&e&&(e=!1,m.load(a,b))}),e&&d.status&&void 0!=d.status()&&(e=!1,m.load(a,b))}else m.load(a,b)}),a.onLoaded=a.onLoaded||new e,a.onClickProduct=a.onClickProduct||new e,a.onLoaded.subscribe(function(b){m.write(a,b)}),f.onFormatCancel.subscribe(function(b){b.id==a.id&&m.cancel(a)})},m.cancel=function(a){a.inline&&a.formatWindow.aepwa._formatReady.reject("format cancelled");var b=a.placement.rootElement;b.parentNode&&b.parentNode.removeChild(b),a.cancelled=!0},m.refresh=function(a){a.onLoaded=a.onLoaded||new e,a.onLoaded.subscribe(function(b){m.write(a,b)})},m.resizeIframes=function(a){!a.isTopFormat&&a.isOwner&&d.adjustIframeSize(a.tagWindow,a.width,a.height),d.adjustIframeSize(a.formatWindow,a.width,a.height)},m.load=function(a,b){var c=new i,e=d.isArray(a.css)?a.css:[a.css],f=h(a.tagWindow.admTopWindow),g=a.pageCss?d.isArray(a.pageCss)?a.pageCss:[a.pageCss]:[];a.impAudit&&d.report(a.impAudit),d.forEach(e,function(b,e){c.when(e),d.loadCSSFile(b,a.formatWindow,function(a){c.resolve(e,a)})}),d.forEach(g,function(b,c){d.loadCSSFile(b,d.getTopAccessWindow(a.formatWindow))}),c.then(function(c){a.cssLoadCouldBeDetected=!0,d.forEach(c,function(b){a.cssLoadCouldBeDetected=a.cssLoadCouldBeDetected&&b}),b.subscribe(function(b){f.width()>=a.minViewportWidth&&(m.resizeIframes(a),a.startWhenInView?d.poll(function(){return d.isInViewport(a.formatWindow,a.viewThreshold)}).subscribe(function(){a.onLoaded.dispatch(b)}):(a.onLoaded.dispatch(b),d.setIframeDisplay(a.formatWindow,"none"),d.setIframeDisplay(a.tagWindow,"none"),a.isTopFormat&&a.isOwner&&d.hasAccessibleFrameElement(a.tagWindow)&&d.hideNodePersistently(a.tagWindow.frameElement)))})})},m.write=function(a,b,c){c=c||a.formatElement,c.innerHTML=k.template(b)({config:a}),g.run({element:c,config:a,template:b})},m.clone=function(a,b){var c=h(b,a.formatWindow.document).get(0),f="aep-position-"+d.generateKey(4),g=a.formatWindow.document.createElement("div");c&&(g.id=f,c.appendChild(g),a.onLoaded=a.onLoaded||new e,a.onLoaded.subscribe(function(b){m.write(a,b,g)}))},b.exports=m},{"../node_modules/handlebars/dist/cjs/handlebars.runtime":1,"./ad-service":9,"./async":10,"./directive":13,"./dom":17,"./handlebars-helpers":22,"./inline":25,"./placement":29,"./signal":34,"./utils":42}],22:[function(a,b,c){var d=a("./utils");b.exports=function(a){return a.registerHelper("chunk",function(b,c,d){d=d&&d.length?d:[a.helpers.each];var e,f,g=c.hash.size,h=[];for(e=0,f=b.length;f>e;e+=g)h.push(b.slice(e,e+g));return d.shift().apply(this,[h,c,d])}),a.registerHelper("slice",function(b,c,d){d=d&&d.length?d:[a.helpers.each];var e="first"in c.hash?c.hash.first:0,f="last"in c.hash?c.hash.last+1:b.length;if("first"in c.hash&&"last"in c.hash&&"length"in c.hash)throw new Error("Too many options");return"length"in c.hash&&("last"in c.hash?e=f-c.hash.length:f=e+c.hash.length),b=b.slice(e,f),d.shift().apply(this,[b,c,d])}),a.registerHelper("split",function(b,c){if(!d.isString(b))return d.log("split helper - Value"+b+"is not a string"),"";var e=b.split(c.hash.delimiter),f=parseInt(c.hash.index,10);"index"in c.hash&&(e=0>f||f>=e.length?"default"in c.hash?[c.hash["default"]]:[]:[e[f]]);for(var g=0;g<e.length;g++)e[g]=d.trim(e[g]);return c.fn=c.fn||function(a){return a},c.inverse=c.inverse||function(){return""},a.helpers.each.apply(this,[e,c])}),a.registerHelper("toUpperCase",function(a){return a.toUpperCase()}),a.registerHelper("ads",function(b){var c=[];return b.hash.paginate&&(b.hash.size=b.hash.paginate,c.push(a.helpers.chunk)),c.push(function(b,c){for(var d=0;d<b.length;d++)b[d].first=0==d,b[d].last=d==b.length-1,b[d].firstTwo=2>d,b[d].even=d%2==0,b[d].odd=d%2!=0,b[d].lastOfThree=(d+1)%3==0,b[d].firstOfFive=d%5==0,b[d].secondOfFive=(d+4)%5==0,b[d].thirdOfFive=(d+3)%5==0,b[d].fourthOfFive=(d+2)%5==0,b[d].fifthOfFive=(d+1)%5==0;return a.helpers.each.apply(this,[b,c])}),a.helpers.slice.apply(this,[this.ads,b,c])}),a.registerHelper("compare",function(a,b,c){if(arguments.length<3)throw new Error("Helper 'compare' needs 2 parameters");var d=c.hash.operator||"==",e={"==":function(a,b){return a==b},"===":function(a,b){return a===b},"!=":function(a,b){return a!=b},"<":function(a,b){return b>a},">":function(a,b){return a>b},"<=":function(a,b){return b>=a},">=":function(a,b){return a>=b},"typeof":function(a,b){return typeof a==b}};if(!e[d])throw new Error("Helper 'compare' doesn't know the operator "+d);return e[d](a,b)?c.fn(this):c.inverse(this)}),a.registerHelper("equal",function(a,b,c){if(arguments.length<3)throw new Error("Helper 'equal' needs 2 parameters");return a!==b?c.inverse(this):c.fn(this)}),a.registerHelper("service",function(b){var c=[],e=[],f=this.config.serviceOptions=this.config.serviceOptions||{},g=d.generateKey(5);return b.hash.paginate&&(b.hash.size=b.hash.paginate,c.push(a.helpers.chunk)),c.push(function(a){return a.unshift("<a adm-show></a>"),a.join("")}),d.forEach(this.config.service,function(a,c){f[g]=b,e.push('<a adm-service=\'{"key": "'+g+'", "index": '+c+"}'></a>")}),a.helpers.slice.apply(this,[e,b,c])}),a.registerHelper("math",function(a,b,c){return a=parseFloat(a),c=parseFloat(c),{"+":a+c,"-":a-c,"*":a*c,"/":a/c,"%":a%c}[b]}),a}},{"./utils":42}],23:[function(a,b,c){var d=a("./dom"),e=a("./dom-utils"),f=a("./utils"),g=a("lie"),h={};h.isCanvasSupported=function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},h.preload=function(a,b){return new g(function(c,d){a.onload=function(){c({width:a.width,height:a.height})},a.onerror=d,a.src=b})},h.adjustImageSize=function(a,b,c,g){var h=a.style,i=a.clientWidth,j=a.clientHeight,k=b/c,l=i/j;if(k>l==!g){var m=i/k;h.width=i+"px",h.height=m+"px",g||(h.marginTop=h.marginBottom=(j-m)/2+"px")}else{var n=j*k;h.width=n+"px",h.height=j+"px",g||(h.marginLeft=h.marginRight=(i-n)/2+"px")}var o=function(b){return e.css(a,b)};if(n>i||m>j){var p=a.ownerDocument.createElement("div"),q=p.style;f.extend(q,{width:i+"px",height:j+"px",overflow:"hidden",display:o("display"),position:o("position"),top:o("top"),"float":o("float"),cssFloat:o("float"),marginTop:o("margin-top"),marginBottom:o("margin-bottom"),marginRight:o("margin-right"),marginLeft:o("margin-left"),borderRightColor:o("border-right-color"),borderRightStyle:o("border-right-style"),borderRightWidth:o("border-right-width"),borderLeftColor:o("border-left-color"),borderLeftStyle:o("border-left-style"),borderLeftWidth:o("border-left-width"),borderTopColor:o("border-top-color"),borderTopStyle:o("border-top-style"),borderTopWidth:o("border-top-width"),borderBottomColor:o("border-bottom-color"),borderBottomStyle:o("border-bottom-style"),borderBottomWidth:o("border-bottom-width")}),d(a).css({top:0}),"inline"==q.display&&(q.display="inline-block"),h.border="none",h.margin=0,a.parentNode.insertBefore(p,a),p.appendChild(a)}},h.cropImage=function(a,b,c){var e=function(a,d,e,f){var g=a.getImageData(0,0,d.width,d.height),h=g.data,i=function(a,b){return{red:h[4*(e*b+a)],green:h[4*(e*b+a)+1],blue:h[4*(e*b+a)+2]}},j=function(a){return a.red<=b.red+c&&a.red>=b.red-c&&a.green<=b.green+c&&a.green>=b.green-c&&a.blue<=b.blue+c&&a.blue>=b.blue-c},k=function(a){for(var b=a?1:-1,c=a?0:f-1;a?f>c:c>-1;c+=b)for(var d=0;e>d;d++)if(!j(i(d,c)))return c;return null},l=function(a){for(var b=a?1:-1,c=a?0:e-1;a?e>c:c>-1;c+=b)for(var d=0;f>d;d++)if(!j(i(c,d)))return c;return null},m=k(!0),n=k(!1),o=l(!0),p=l(!1),q=p-o,r=n-m,s=document.createElement("canvas");return s.setAttribute("width",q+"px"),s.setAttribute("height",r+"px"),s.getContext("2d").drawImage(d,o,m,q,r,0,0,q,r),s},i=f.getInternetExplorerVersion();return new g(function(b,c){if(h.isCanvasSupported()&&9!=i){var f=document.createElement("canvas"),g=f.getContext("2d"),j=new Image;if(d(j).bind("load",function(){f.setAttribute("width",this.width),f.setAttribute("height",this.height),g.drawImage(this,0,0);var a=e(g,f,this.width,this.height);b(a.toDataURL())}),10==i){var k=new XMLHttpRequest;k.onload=function(){j.src=window.URL.createObjectURL(this.response)},k.open("GET",a,!0),k.responseType="blob",k.send()}else j.crossOrigin="anonymous",j.src=a}else b(a)})},b.exports=h},{"./dom":17,"./dom-utils":16,"./utils":42,lie:7}],24:[function(a,b,c){var d=a("./image-utils"),e=a("./utils"),f=a("./dom"),g=a("./params"),h=a("lie"),i=function(a){var b=a.element,c=a.service.getFallbackImage(),f=!1,g=a.products[a.value.product].cfg||{},i=new h(function(c,d){a.config.loadImagesWhenInView?e.poll(function(){return e.isInViewport(b.parentNode,a.config.viewThreshold)}).subscribe(c):c()});b.style.visibility="hidden";var k=i.then(function(){return g.irp&&!e.objectIsEmpty(g.irp)?d.cropImage(a.value.src,g.irp,0):a.value.src}).then(function(a){return d.preload(b,a)})["catch"](function(){return f=!0,d.preload(b,c)}).then(function(c){return a.config.disableAdjustImages||d.adjustImageSize(b,c.width,c.height,!f&&g.zoom),b.style.visibility="visible",h.resolve(b)})["catch"](function(b){return a.config.log.dispatch("error",b),h.reject("Image load could not be detected")});return a.config.loadImagesWhenInView&&j(a,k),k},j=function(a,b){var c=a.element,d=new g(a.scope,{loaderWidth:30,loaderHeight:7,loaderColor:"#48A500",loaderBackColor:"#D4D4D4"});c.insertAdjacentHTML("beforebegin",'<div class="adm-loader"><div class="adm-loader-wrapper"><div class="adm-loader-full"></div></div></div>');var e=!1,h=f(c.previousSibling),i=f(c.previousSibling.firstChild),j=f(c.previousSibling.firstChild.firstChild);h.css({width:"100%",height:"100%",position:"relative"}),i.css({top:"50%",left:"50%",width:d.loaderWidth,height:d.loaderHeight,position:"absolute",overflow:"hidden",marginTop:-d.loaderHeight/2,marginLeft:-d.loaderWidth/2,backgroundColor:d.loaderBackColor}),j.css({width:0,height:d.loaderHeight,position:"absolute",backgroundColor:d.loaderColor}),function k(){e||j.animate({width:d.loaderWidth},500,function(){j.animate({width:0,left:d.loaderWidth},500,function(){j.animate({left:0},0,k)})})}(),b.then(function(){e=!0,h.fadeOut(200)})};b.exports=i},{"./dom":17,"./image-utils":23,"./params":28,"./utils":42,lie:7}],25:[function(a,b,c){var d,e,f=a("./dom"),g=a("./utils"),h=a("lie"),i=function(a){var b=a.nextSibling;return b&&b.nodeType==document.TEXT_NODE&&/\r|\n/.test(b.nodeValue)&&(b=b.nextSibling),b},j=function(a){var b=i(a);return b?a:j(a.parentNode)},k={onShow:new h(function(a,b){d=a,e=b}),getInsertionNode:function(a){var b=j(a),c=i(b);return c&&"BR"==c.nodeName&&"BR"==c.nextSibling.nodeName&&a.nodeType==document.TEXT_NODE&&(b=c),b},getContextMargin:function(a){var b=0,c=0,d=a.nextElementSibling,e=a.previousElementSibling,h=e?f(e).css("marginBottom",!0,!0):0,i=d?f(d).css("marginTop",!0,!0):0;if(h&&!i)c=h;else if(!h&&i)b=i;else if(!h&&!i){var j=f(a).css("lineHeight",!0,!0),k=f(d).css("height",!0,!0);b=d&&(g.isNear(k,j,1)||"BR"==d.nodeName)?j:c=j}return[b,c]},setFormatMargin:function(a,b,c){f(a.firstElementChild.nextElementSibling||a.firstElementChild).css({marginTop:(b||0)+"px",marginBottom:(c||0)+"px"})},resetStyle:function(a){f(a).css({display:"none",overflow:"hidden",height:"0",marginTop:"0",paddingTop:"0",marginBottom:"0"}).addClass("aep-inline")},slide:function(a,b,c,e){f(a).css({display:"block"}),f(a).animate({height:b+"px"},c||800,"easeOutCubic",function(){g.callIfFunction(_aep._resolveDeferredImp),d()}),g.callIfFunction(_aep._resolveDeferredImp),d()},show:function(a){var b;try{a.inline.margin?(b=a.inline.margin.replace("px","").split("|"),b=g.map(b,function(a){return parseInt(a)},[])):b=k.getContextMargin(a.formatElement),k.setFormatMargin(a.formatElement,b[0],b[1]),k.slide(a.formatElement,a.height+b[0]+b[1],a.inline.animDuration,a.inline.delay)}catch(c){g.callIfFunction(_aep._rejectDeferredImp,[c]),e(c)}},hide:function(a){k.slide(a,0)}};b.exports={resetStyle:k.resetStyle,show:k.show,hide:k.hide,onShow:k.onShow,getInsertionNode:k.getInsertionNode}},{"./dom":17,"./utils":42,lie:7}],26:[function(a,b,c){a("./manager"),_aep.push(["core","aep-formats-18.2.0",{Format:a("./format")}]),_aep.External=_aep.External||a("./external"),_aep.utils=a("./utils"),_aep.deferredImp||(_aep.deferredImp=new(a("lie"))(function(a,b){_aep._resolveDeferredImp=a,_aep._rejectDeferredImp=b}))},{"./external":19,"./format":21,"./manager":27,"./utils":42,lie:7}],27:[function(a,b,c){var d=a("./utils"),e=a("./signal"),f=function(a){var b={},c={},f={},g={},h=new e(!0),i=this,j=function(a,b){var d=a.core.match(/aep\-\w+\-\d+\.\d+\.\d+/).join();c[d]=c[d]||new e,c[d].subscribe(b)};for(this.tag=function(a,c){b[a]=c},this.format=function(a){a.forceDefault||d.extend(a,b[a.id]),a.tagWindow=window,a.tagWindow.admTopWindow=d.getTopAccessWindow(),a.tagWindow.admTopWindow.admTopWindow=a.tagWindow.admTopWindow,a.log=h;var c=a.templateId||a.template.match(/([^\/]+)\.min\.js/).pop();f[c]=f[c]||new e,j(a,function(b){b.Format.init(a,f[c])}),g[a.id]=g[a.id]||new e,g[a.id].dispatch(a),a.inline&&(a.isTopFormat=!0)},this.template=function(a,b,c){b.js=c,f[a]=f[a]||new e,f[a].dispatch(b)},this.core=function(a,b){c[a]=c[a]||new e,c[a].dispatch(b)},this.refresh=function(a){g[a]=g[a]||new e,g[a].subscribe(function(a){j(a,function(b){b.Format.refresh(a)})})},this.clone=function(a,b){g[a]=g[a]||new e,g[a].subscribe(function(a){j(a,function(c){c.Format.clone(a,b)})})},this.log=function(a){h.subscribe(a)},this.push=function(a){i[a[0]]&&i[a[0]].apply(i,a.slice(1))},h.subscribe(function(a,b){"warn"!=a&&"error"!=a||d.log(b)});a&&a.length;)i.push(a.shift())};window._aep&&!d.isArray(window._aep)||(window._aep=new f(window._aep)),b.exports=f},{"./signal":34,"./utils":42}],28:[function(a,b,c){var d=a("./utils"),e=function(a,b){var c=this;this.add=function(a){d.forEach(a,function(a,b){c[b]=c[b]||a})},d.forEach(a,function(a,b){for(var d=[],e=0;e<a.length;e++)d.push(a[e].value||a[e].element);c[b]=d.length>1?d:d[0]}),c.add(b)};b.exports=e},{"./utils":42}],29:[function(a,b,c){var d=a("./utils"),e=a("lie"),f=a("./inline"),g=function(a){var b=this,c="aep-placement-"+d.generateKey(4),g=a.tagWindow,h=g.admTopWindow,i={},j=function(){var a;try{a=(g.document.body.id.match(/dapIfM\d(?:Child)?$/)||g.frameElement.id.match(/atwAdFrame\d(?:Child)?$/)).join()}catch(b){}return a?g.parent.document.getElementById(a):null},k=function(){var b;return a.isTopFormat?(b=h.document.createElement("div"),b.id=c,b.className="aep-ads"):(b=g.document.createElement("iframe"),b.id=c,b.className="aep-ads",b.border="0",b.frameBorder="0",b.marginWidth="0",b.marginHeight="0",b.leftMargin="0",b.topMargin="0",b.style.cssText="border: 0; overflow: hidden; width: 0px; height: 0px"),b},l=function(){var a=g.document.getElementById(c).contentWindow;a.document.write("<!DOCTYPE html><html><head></head><body></body></html>"),a.document.close(),a.admTopWindow=h,i.resolve({formatWindow:a,formatElement:a.document.body,viewableElement:d.getOuterAccessibleFrame(a)})};this.formatContext=new e(function(a,b){i.resolve=a,i.reject=b}),this.rootElement=k(),a.isTopFormat&&i.resolve({formatWindow:h,formatElement:b.rootElement,viewableElement:b.rootElement}),this.targetNode=new e(function(c,e){if(a.inline)h.aepwa.target.then(function(d){a.cancelled?e("Format cancelled"):(d=f.getInsertionNode(d),f.resetStyle(b.rootElement),c(d))}),h.aepwa.target["catch"](function(a){e(a)});else{var i,k=a.isTopFormat?h:g;if(a.isTopFormat){var l=j(k.document);l?i=l:b.rootElement.ownerDocument!=g.document&&(i=g.frameElement)}i||(i=k.document.getElementById(a.id)),i&&k.document.body.contains(i)||(d.log("Tag cannot be found into the body"),i=k.document.body.firstChild||k.document.body),c(i)}}),this.insert=function(c){var d=c,e=null;"BODY"!=c.nodeName.toUpperCase()&&(d=c.parentNode,e=a.inline?c.nextElementSibling:c),d.insertBefore(b.rootElement,e),a.isTopFormat||l()}};b.exports=g},{"./inline":25,"./utils":42,lie:7}],30:[function(a,b,c){var d=a("./utils.js"),e=function(a,b,c,e){var f,g=function(a){var b=[];return a&&a.length>0&&d.forEach(a,function(a){a.creativeId&&b.push(a.creativeId)}),b.join(",")};this.setResponse=function(a){f=a},this.reportViewableImpression=function(){d.report(a+"?"+d.buildQuery({t:c,e:"vimp",ctx:e,c:f.ads?g(f.ads):null,r:d.generateNumericKey(6),byr:f.ads?null:f.byr}))},this.reportViewableTime=function(b){d.report(a+"?"+d.buildQuery({t:c,e:"vtime",v:d.msToSec(b),c:f.ads?g(f.ads):null,ctx:e,r:d.generateNumericKey(6),byr:f.ads?null:f.byr}))},this.reportDeferredImpression=function(a){d.report(b+"?"+d.buildQuery({di:a,r:d.generateNumericKey(6)}))}};b.exports=e},{"./utils.js":42}],31:[function(a,b,c){var d=a("./utils"),e=a("./signal"),f={_instances:{},get:function(a,b,c){var e=c?b.admTopWindow:f._instances,g="_aep_request_"+(c||d.generateKey(6));return e[g]||(e[g]=new f.Instance(a,b))},Instance:function(a,b){var c=new e,f=new e;this._registerCallback=function(a,c,d){if(a[c]){for(var e=a[c].split("."),f=b;e.length>1;){var g=e.shift();f=f[g]=f[g]||{}}for(var h=e.shift(),i="";f[h+i];)i++;f[h+i]=d,a[c]+=i}},this.subscribe={cb:c.subscribe,ccb:f.subscribe},a.parameters.cb=a.parameters.cb||"aep.ads",this._registerCallback(a.parameters,"cb",c.dispatch),this._registerCallback(a.parameters,"ccb",f.dispatch);var g={};for(var h in a.parameters)if(a.parameters.hasOwnProperty(h))switch(h){case"cb":g[h]="aep.ads"==a.parameters.cb?"":a.parameters.cb;break;case"trg":g[h]=a.parameters.trg;break;default:g[h]=a.parameters[h]}g.rnd=d.generateNumericKey(5);var i=a.base+"?"+d.buildQuery(g);d.loadJSFile(i,b)}};b.exports=f},{"./signal":34,"./utils":42}],32:[function(a,b,c){var d=a("./params"),e=a("./utils"),f=a("./dom");a("./dom-tweening");var g=function(a,b,c){var h,i,j,k,l,m,n=new d(c,{tabWidth:38,animationTime:350,reminderExpandDuration:100,autoCollapseTime:6e4,collapsedState:{tab:{right:-153},reminder:{right:-4}},expandedState:{tab:{right:-32},reminder:{right:-36}},openInterval:100}),o=f(a.formatWindow),p=n.collapsedState,q=!0,r=e.isSafari(),s=a.formatWindow.document,t=function(b){if(q){var c=a.minViewportWidth-2*n.tabWidth,d=(o.width()-c)/2,e=i.width();b+e>d&&(b=d-e)}return b},u=function(){h.animate(n.collapsedState.reminder,n.animationTime,"easeOutBack"),i.animate(n.collapsedState.tab,n.animationTime,"easeOutBack"),p=n.collapsedState,q=!0,k.removeClass("open-ad"),l.css({top:3}),m.stop()},v=function(a){a?(p!=n.expandedState&&(q=!1),h.animate(n.expandedState.reminder,n.reminderExpandDuration,"linear")):h.css(n.expandedState.reminder),i.animate(n.expandedState.tab,n.animationTime,"easeInOutBack",function(){r||k.each(function(a,b){a=f(a),setTimeout(function(){a.addClass("open-ad"),a.removeClass("perspective-initial")},b*n.openInterval)})},function(a){return a.right=t(a.right),a}),r||k.addClass("perspective-initial"),p=n.expandedState,m.start()};this.init=function(){if(h=f("#reminder",s),i=f("#sidetabs-content",s),j=f("#btn-close",s),k=f(".st-ad",s),l=f(".ad-content",s),m=new g.Showcase(l),h.click(u).on("mouseover",function(){v(!0)}).css(n.collapsedState.reminder),j.click(u).hover(function(){f(this).addClass("closeExpanded")},function(){f(this).removeClass("closeExpanded")}),k.on("mousedown",function(){f(this).addClass("pressed-ad")}).on("mouseout mouseup",function(){f(this).removeClass("pressed-ad")}),void 0!==a.formatWindow.document.documentElement.onmouseenter)l.hover(function(a){(a.srcElement||a.target)==this&&(m.stop(),m.open(this))},function(a){(a.srcElement||a.target)==this&&(m.close(this),m.start())});else{var b;l.each(function(c){var d=c.parentNode.parentNode;f(d).bind("mouseover",function(){c!=b&&(b&&m.close(b),b=c,m.stop(),m.open(b))}),f(a.formatWindow).on("mousemove",function(a){b&&!e.inRect(a.clientX,a.clientY,b.parentNode.parentNode.getBoundingClientRect())&&(m.close(b),m.start(),b=null)})})}o.on("resize",function(){i.css({right:t(p.tab.right)})}),v(!1),setTimeout(u,n.autoCollapseTime)}};g.Showcase=function(a){var b,c,d,e=this;this.start=function(){d=0,!c&&a.length>1&&(b=-1,c=setInterval(e.next,1500))},this.stop=function(){c&&(clearInterval(c),c=null,b>=0&&e.close(a.get(b)))},this.next=function(){a.length&&(b>=0&&e.close(a.get(b)),b++,b>=a.length&&(b=0,d++),2>d?e.open(a.get(b)):(b=-1,e.stop()))},this.open=function(a){f(a).animate({top:-114},100,"easeInOutCubic")},this.close=function(a){f(a).animate({top:2},100,"easeInOutCubic")}},b.exports=g},{"./dom":17,"./dom-tweening":15,"./params":28,"./utils":42}],33:[function(a,b,c){var d=a("./tweening"),e=a("./dom"),f=function(a){var b,c=function(a,b){this.tabRight=a,this.reminderLeft=b},f=38,g=500,h=6e4,i=a.minViewportWidth-2*f,j=new d.Player,k=new c(-115,0),l=new c(0,28),m=k,n=!0,o=a.formatWindow.document,p=function(){return(e(a.formatWindow).width()-i)/2},q=function(a,c){if(n){var d=p(),e=k.tabRight-b.width()+c;a-e>d&&(a=d+e)}return a},r=function(){j.isPlaying()||(m=k,n=!0,j.initialize({tabRight:l.tabRight,reminderLeft:l.reminderLeft},d.Functions.getNormalizedExtern("easeOutBack")),j.gotoKey(g,{tabRight:k.tabRight,reminderLeft:k.reminderLeft}))},s=function(a){j.isPlaying()||(a&&m!=l&&(n=!1),m=l,j.initialize({tabRight:k.tabRight,reminderLeft:k.reminderLeft},d.Functions.getNormalizedExtern("easeInOutBack")),j.gotoKey(g,{tabRight:l.tabRight,reminderLeft:l.reminderLeft}))};this.init=function(){var c=e("#btn-close",o),d=e("#sidetabs-content",o);b=e("#reminder",o),d.css({right:k.tabRight}),b.css({left:k.reminderLeft}),j.onFrame=function(a){d.css({right:q(a.tabRight,a.reminderLeft)}),b.css({left:a.reminderLeft})},s(!1),c.click(r),b.click(r),b.on("mouseover",function(){s(!0)}),c.on("mouseover",function(){c.addClass("closeExpanded")}),c.on("mouseout",function(){c.removeClass("closeExpanded")}),setTimeout(r,h),e(a.formatWindow).on("resize",function(){d.css({right:q(m.tabRight,m.reminderLeft)})})}};b.exports=f},{"./dom":17,"./tweening":40}],34:[function(a,b,c){var d=function(a){var b,c=[],d=this;this.dispatch=function(e){for(var f=0;f<c.length;f++)c[f].apply(d,arguments);a||(c=[],b=arguments)},this.subscribe=function(e){return b&&!a?e.apply(d,b):c.push(e),d}};b.exports=d},{}],35:[function(a,b,c){var d=a("./params"),e=a("./dom");a("./dom-tweening");var f=function(a,b,c){var f,g,h,i,j,k,l,m=this,n=0,o=a.formatWindow.document,p=new d(c,{autoMoveTime:5e3,moveDuration:500,itemsPerPage:1,buttonEnabledClass:"active",buttonDisabledClass:"null",progressUpdateInterval:30,pagesContainer:null,progressBar:null,rightButton:null,leftButton:null,buttonsContainer:null,numberOfPages:null}),q=e(p.pagesContainer,o),r=function(a){var b=0,c=0;return q.children().each(function(d,f){f==a&&(b=c),c+=e(d).outerWidth()}),b},s=function(){k-1>n&&u(1)},t=function(){n>0&&u(-1)},u=function(a){m._setPage(n+a)};this._switchPage=function(a,b){q.animate({marginLeft:-r(b)},p.moveDuration)},this._setPage=function(a){m._switchPage(n,a),n=a,m._updateButtons(),w(),e(q.children().get(a)).trigger("show")};var v=function(){var a=(new Date-j)/p.autoMoveTime;1>a&&e(p.progressBar,o).css({width:100*a+"%"})},w=function(){p.autoMoveTime>0&&(f&&clearTimeout(f),j=new Date,!g&&p.progressBar&&(g=setInterval(v,p.progressUpdateInterval)),f=n==k-1?setTimeout(x(u,-k+1),p.autoMoveTime):setTimeout(s,p.autoMoveTime))},x=function(a,b){var c=[];return c.push.apply(c,arguments),c.shift(),function(){a.apply(this,c)}},y=function(a){a.addClass(p.buttonEnabledClass),a.removeClass(p.buttonDisabledClass)},z=function(a){a.removeClass(p.buttonEnabledClass),a.addClass(p.buttonDisabledClass)};this._bindButtons=function(){p.rightButton&&p.leftButton&&(h=e(p.rightButton,o),i=e(p.leftButton,o),y(h),z(i),h.click(s),i.click(t)),p.buttonsContainer&&(l=e(p.buttonsContainer,o).children(),l.each(function(a,b){e(a).click(function(){m._setPage(b)})}))},this._updateButtons=function(){i&&h&&(0==n?z(i):y(i),n==k-1?z(h):y(h)),l&&(l.removeClass(m.params.buttonEnabledClass),e(l.get(m._getCurrentPage())).addClass(m.params.buttonEnabledClass))},this._getCurrentPage=function(){return n},this.init=function(){k=p.numberOfPages||e(p.pagesContainer,o).children().length/p.itemsPerPage,m._bindButtons(),m._updateButtons(),w()},this.params=p};b.exports=f},{"./dom":17,"./dom-tweening":15,"./params":28}],36:[function(a,b,c){var d=a("./cookie"),e=a("./utils"),f=function(a){var b,c=new d(a.name),f=-1,g=function(a,b){return a=a.slice(-b)},h=function(b){c.setCookie(b.join(a.separator),e.addDaysToDate(new Date,a.expirationDays))};this.getValues=function(){var b=c.getCookie();return b?g(b.split(a.separator),a.maxRecords):[]},this.getCurrentValue=function(){return b[f]},this.setCurrentValue=function(a){b[f]=a,h(b)},this.addRecord=function(){b.push(0),b=g(b,a.maxRecords),f=b.length-1,h(b)},b=this.getValues()};b.exports=f},{"./cookie":12,"./utils":42}],37:[function(a,b,c){var d=a("./cookie"),e=a("./utils"),f=function(a,b){var c="byr"+(b||"")+a,f=new d(c);this.isEmpty=function(a){return"undefined"==typeof a},this.isDisabled=function(){return"1"==f.getCookie()},this.disableTarget=function(a){var a=a||15;f.setCookie("1",e.addMinutesToDate(new Date,a))}};b.exports=f},{"./cookie":12,"./utils":42}],38:[function(a,b,c){var d=a("./utils"),e=a("lie"),f=a("./target-disabler"),g=function(a,b,c){var g=new f(c,"crt");b.admCrtEndPoint=b.admCrtEndPoint||{};var h=function(a){return"/"==a.slice(-1)?a:a+"/"},i=function(a,b){for(var c=0;c<b.length;c++)if(h(a)==h(b[c]))return!0;return!1},j=function(a,c,f,g){return new e(function(e,h){var j=d.generateKey(10);b[j]=function(a){clearTimeout(l),0!==a.response_status||g&&i(a.advertiser.domain,g)?h():(b.admCrtEndPoint[c]=a,e("crt"+c+"=1"))};var k=a+"?"+d.buildQuery({zoneid:c,callback:j,publisherid:null});d.loadJSFile(k,b);var l=setTimeout(h,f||3e4)})},k=function(a){return new e(function(b,c){"undefined"!=typeof a&&-1!=a.indexOf("=")?b(a):c()})},l=function(a,c){var d=!!b.rmnsel;return d&&c&&b.rmnsel.request(c,{service:a,timeout:1e4,cookieExpiration:15}),new e(function(a,e){d&&b.rmnsel.get(c)?a("rmn"+c+"=1"):e()})},m=function(a){return new e(function(b,c){a.then(b,b)})};this.getTargets=function(){var b,c=[];return d.forEach(a,function(a,f){switch(f){case"criteoEndPoint":if(!g.isDisabled()){for(var h,i=[],n=0;n<a.zoneId.length;n++)b=j(a.url,a.zoneId[n],a.requestWait,a.blackList),h=m(b),i.push(h),c.push(h);e.all(i).then(function(b){d.every(b,g.isEmpty)&&g.disableTarget(a.disableTime)})["catch"](function(){d.log("Error disabling target")})}break;case"criteoRta":b=k(a.value),c.push(m(b));break;case"rmn":b=l(a.url,a.rmnTag),c.push(m(b));break;case"custom":b=new e(function(b,c){b(a+"=1")}),c.push(m(b))}}),e.all(c)}};b.exports=g},{"./target-disabler":37,"./utils":42,lie:7}],39:[function(a,b,c){
var d=a("./signal.js"),e=function(a,b){var c,e,f=this,g=0,h=0,i=function(){return Math.round(performance.now())},j=function(){var b=i(),d=b-c;a&&d>15*a&&(d=a),g+=d,h+=d,c=b};this.reset=function(){g=0,c=i()},this.getElapsedTime=function(){return f.isRunning&&j(),b&&g>=b?b:g},this.getPartialTime=function(){return f.isRunning&&j(),b&&h>=b?b:h},this.start=function(){f.isRunning||(f.onStart.dispatch(),h=0,c=i(),f.isRunning=!0,a&&(e=setInterval(function(){j(),f.tick.dispatch()},a)))},this.stop=function(){f.isRunning&&(clearInterval(e),f.isRunning=!1,f.onStop.dispatch())},this.isRunning=!1,this.onStop=new d(!0),this.onStart=new d(!0),this.tick=new d(!0)};!function(){if("performance"in window==0&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==0){var a=Date.now();performance.timing&&performance.timing.navigationStart&&(a=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-a}}}(),b.exports=e},{"./signal.js":34}],40:[function(a,b,c){var d=a("./timer"),e={Tick:function(){var a,b=this,c=new d,e=!1;c.start(),this.setTick=function(d){c.reset(),e=!0,a=setInterval(function(){e&&b.onTick(c.getElapsedTime())},d)},this.clearTick=function(){e=!1,clearInterval(a)}},Functions:{getIdentity:function(){return function(a){return a}},getHyperbola:function(a){a=isFinite(a)?a:7;var b;b=a>0?function(b){return-1/(b+1/a)+a}:0>a?function(b){return-1/(b-1+1/a)+a/(1-a)}:e.Functions.getIdentity();var c=b(1);return function(a){return b(a)/c}},getNormalizedExtern:function(a,b){var c={easeOutBack:function(a,b,c,d,e){return void 0==e&&(e=1.70158),c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},easeInOutBack:function(a,b,c,d,e){return void 0==e&&(e=1.70158),(a/=d/2)<1?c/2*(a*a*(((e*=1.525)+1)*a-e))+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b},easeInOutCubic:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},easeOutQuad:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},easeOutCubic:function(a,b,c,d){return a/=d,a--,c*(a*a*a+1)+b},easeOutQuart:function(a,b,c,d){return a/=d,a--,-c*(a*a*a*a-1)+b}};return function(d){return c[a](d,0,1,1,b)}}},Player:function(){var a,b,c,d,f=this,g=!1,h=new e.Tick,i=[],j=100,k=function(){h.clearTick(),g=!1,f.onStop()},l=function(a){if(0===i.length)k();else{var c=i.shift();o(a,b,c),b=c,0===c.timeSpan&&d(a)}},m=function(a){c=a,f.onFrame(a.values)},n=function(a,b,c){return a+c*(b-a)},o=function(b,c,e){var f=c.values,g=e.values;for(var h in f)f.hasOwnProperty(h)&&(g[h]=parseFloat(g[h]),isNaN(g[h])&&(g[h]=f[h]));d=function(c){var d,h={};if(c<b+e.timeSpan){var i=a((c-b)/e.timeSpan);for(d in f)f.hasOwnProperty(d)&&(h[d]=n(f[d],g[d],i));m({timeSpan:0,values:h})}else{for(d in g)g.hasOwnProperty(d)&&(h[d]=g[d]);m({timeSpan:0,values:h}),l(b+e.timeSpan)}}};this.initialize=function(c,d){if(b)for(var f in b.values)b.values.hasOwnProperty(f)&&(c[f]=b.values[f]);i=[],a=d||a||e.Functions.getHyperbola(),b={timeSpan:0,values:c}},this.addKey=function(a,b){i.push({timeSpan:a,values:b})},this.gotoKey=function(a,c,d){f.initialize(b.values,d),f.addKey(a,c),f.start()},this.start=function(){f.stop(),h.setTick(Math.ceil(1e3/j)),g=!0,l(0)},this.stop=function(){g&&(h.clearTick(),b=c||b,g=!1)},this.isPlaying=function(){return g},this.onFrame=function(a){},this.onStop=function(){},h.onTick=function(a){d(a)}}};b.exports=e},{"./timer":39}],41:[function(a,b,c){var d=a("./stored-user-data"),e=a("./utils"),f=function(a){var b=a.hadInitiatedVisible?"iv":"inv",c=new d({name:"vr"+a.name+b,separator:"",maxRecords:a.vRateMaxRecords,expirationDays:a.expirationDays}),f=new d({name:"vt"+a.name,separator:",",maxRecords:a.vTimeMaxRecords,expirationDays:a.expirationDays}),g=function(b){return b.length>0&&b.length>=a.vRateMinRecords?Math.round(e.reduce(b,function(a,b){return a+parseInt(b,10)})/b.length*100):null},h=function(b){return b.length>0&&b.length>=a.vTimeMinRecords?Math.round(e.reduce(b,function(a,b){return a+parseInt(b,10)})/b.length):null},i=g(c.getValues()),j=h(f.getValues());c.addRecord(),this.registerViewableImpression=function(){c.setCurrentValue(1),f.addRecord()},this.updateViewabilityTime=function(a){a>f.getCurrentValue()&&f.setCurrentValue(a)},this.getViewabilityRate=function(){return i},this.getViewabilityTime=function(){return j}};b.exports=f},{"./stored-user-data":36,"./utils":42}],42:[function(a,b,c){var d=a("./signal"),e={};e.buildQuery=function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(a[c]||0===a[c])&&(b+=c+"="+a[c]+"&");return b.substring(0,b.length-1)},e.loadJSFile=function(a,b){b=b||window;var c=b.document,d=c.createElement("script");d.setAttribute("type","text/javascript"),d.setAttribute("src",a);var e=c.body||c.head||c.getElementsByTagName("head")[0];e.insertBefore(d,e.firstChild)},e.arrayIsEmpty=function(a){return!(a&&a.length)},e.generateKey=function(a,b){for(var c="",d=b||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",e=0;a>e;e++)c+=d.charAt(Math.floor(Math.random()*d.length));return c},e.generateNumericKey=function(a){return e.generateKey(a,"0123456789")},e.isAccessible=function(a){try{if(a.location.href)return!0}catch(b){}return!1},e.getParent=function(a){return a=a||window,e.isWindow(a.parent)?a.parent:a},e.getTopAccessWindow=function(a){var b,c,d=0;for(b=c=a||window;b!=e.getParent(b)&&20>d;){try{b=e.getParent(b)}catch(f){return a||window}e.isAccessible(b)&&(c=b),d++}return c},e.setSuperDomain=function(a){var b=a.document;try{b.domain=b.domain.substring(b.domain.indexOf(".")+1)}catch(c){}},e.getFrameElementFromWindow=function(a,b){for(var c=a.document.getElementsByTagName("iframe"),d=0;d<c.length;d++)if(c[d].contentWindow==b)return c[d];return null},e.getOuterAccessibleFrame=function(a){for(var b=a||window,c=e.getParent(b),d=null;c!=b;)e.isAccessible(c)&&(d=e.getFrameElementFromWindow(c,b)),b=c,c=e.getParent(b);return d},e.getNodeWindow=function(a){var b=a.ownerDocument;return b.parentWindow||b.defaultView},e.isWindow=function(a){try{return null!==a&&a===a.window}catch(b){return!0}},e.isDocument=function(a){return a&&9==a.nodeType},e.isElement=function(a){return!!a&&1===a.nodeType&&e.isObjectLike(a)&&!e.isPlainObject(a)},e.getInternetExplorerVersion=function(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!==c.exec(b)&&(a=parseFloat(RegExp.$1))}return a},e.getViewportSize=function(a){a=a||window.document;var b,c;return"undefined"!=typeof a.documentElement&&"undefined"!=typeof a.documentElement.clientWidth&&0!=a.documentElement.clientWidth&&("CSS1Compat"==a.compatMode||e.getInternetExplorerVersion()>-1)?(b=a.documentElement.clientWidth,c=a.documentElement.clientHeight):(b=a.getElementsByTagName("body")[0].clientWidth,c=a.getElementsByTagName("body")[0].clientHeight),{width:b,height:c}},e.isPageVisible=function(){for(var a=e.getTopAccessWindow(),b=["hidden","mozHidden","msHidden","webkitHidden"],c=0;c<b.length;c++){var d=b[c];if("undefined"!=typeof document[d])return!document[d]}return a.document.hasFocus?a.document.hasFocus():!0},e.loadCSSFile=function(a,b,c){b=b||window,c=c||function(){};var d=b.document.createElement("link");if(d.setAttribute("rel","stylesheet"),d.setAttribute("type","text/css"),d.setAttribute("href",a),!navigator.userAgent.toLowerCase().match(/^(?!.*chrome).*safari/)&&"onload"in d)d.onload=function(){c(!0)};else if("onreadystatechange"in d)d.onreadystatechange=function(){"loaded"!=d.readyState&&"complete"!=d.readyState||c(!0)};else var e={maxAttempts:200,delay:100},f=0,g=setInterval(function(){if(d.sheet)for(var a=b.document.styleSheets,h=0;h<a.length;h++){var i=a[h],j=i.ownerNode?i.ownerNode:i.owningElement;if(j===d)return c(!0),void clearInterval(g)}f++>e.maxAttempts&&(c(!1),clearInterval(g))},e.delay);b.document.getElementsByTagName("head")[0].appendChild(d)},e.extend=function(a,b,c){c=c||{array:"merge",overwrite:!0,deep:!1},a=a||{};for(var d in b)b.hasOwnProperty(d)&&(e.isPlainObject(b[d])&&e.isPlainObject(a[d])?e.extend(a[d],b[d]):e.isArray(b[d])&&e.isArray(a[d])?"concat"==c.array?a[d]=a[d].concat(b[d]):e.extend(a[d],b[d]):c.deep&&e.isArray(b[d])?a[d]=e.extend([],b[d]):c.deep&&e.isPlainObject(b[d])?a[d]=e.extend({},b[d]):!c.overwrite&&a.hasOwnProperty(d)||(a[d]=b[d]));return a},e.type=function(a){var b={};return e.forEach("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a){b["[object "+a+"]"]=a.toLowerCase()}),null===a?a+"":"object"==typeof a||"function"==typeof a?b[b.toString.call(a)]||"object":typeof a},e.isPlainObject=function(a){if("object"!==e.type(a)||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!a.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(b){return!1}return!0},e.isObjectLike=function(a){return!!a&&"object"==typeof a},e.adjustIframeSize=function(a,b,c){if(e.isAccessible(a.parent)&&a.frameElement){var d=a.document.body.style;d.overflow="hidden",d.marginLeft=0,d.marginTop=0,7==e.getInternetExplorerVersion()&&(a.document.getElementsByTagName("html")[0].style.overflow="hidden");var f=a.frameElement;f.style.width=b+"px",f.style.height=c+"px",f.style.border=0,f.style.overflow="hidden",f.frameBorder=0,f.marginWidth=0,f.marginHeight=0,f.leftMargin=0,f.topMargin=0,f.border=0}},e.hasAccessibleFrameElement=function(a){return e.isAccessible(a.parent)&&a.frameElement},e.setIframeDisplay=function(a,b){if(e.hasAccessibleFrameElement(a)){var c=a.frameElement;c.style.display=b}},e.hideNodePersistently=function(a){a.style.display="block",a.style.visibility="hidden",a.style.opacity=0,a.style.position="absolute",a.style.top="-50000px",a.style.left="-50000px",a.style.zIndex="-50000",a.style.width=0,a.style.height=0},e.isSafari=function(){return/Constructor/.test(window.HTMLElement)},e.isFirefox=function(){return"InstallTrigger"in window},e.reloadFontCss=function(a){e.forEach(a.css,function(b,c){-1!=b.indexOf("fonts.google")&&e.loadCSSFile(b,a.formatWindow,function(){e.log("Font css reloaded")})})},e.getDescendantProperty=function(a,b){for(var c=b.split("."),d=c.length-1;d>=0;d--)"this"==c[d]&&c.splice(d,1);for(;c.length&&(a=a[c.shift()]););return a},e.isString=function(a){return"string"==typeof a||a instanceof String},e.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},e.forEach=function(a,b){if(e.isNumeric(a.length))for(var c=0;c<a.length&&b(a[c],c)!==!1;c++);else for(var d in a)if(a.hasOwnProperty(d)&&b(a[d],d)===!1)break},e.isNumeric=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},e.trim=function(a){return(a||"").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")},e.parseJSON=function(a){return"string"==typeof a&&a?(a=e.trim(a),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?window.JSON&&window.JSON.parse?window.JSON.parse(a):new Function("return "+a)():null):null},e.parseIfJson=function(a){return e.parseJSON(a)||a},e.parseQueryParams=function(a){var b={};if(a&&a.split){a.indexOf("?")>-1&&(a=a.slice(a.indexOf("?")+1));for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");2==e.length&&(b[decodeURIComponent(e[0])]=decodeURIComponent(e[1]))}}return b},e.toArray=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b},e.inRect=function(a,b,c){return!(a<c.left||a>c.right||b<c.top||b>c.bottom)},e.getScroll=function(a){a=a||e.getTopAccessWindow().document;var b=a.documentElement,c=a.body,d=a.defaultView;return{scrollLeft:Math.max(b.scrollLeft,c.scrollLeft,d?d.pageXOffset:0),scrollTop:Math.max(b.scrollTop,c.scrollTop,d?d.pageYOffset:0)}},e.addEventListener=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,!0):a["on"+b]=c},e.removeEventListener=function(a,b,c){a.dettachEvent?a.dettachEvent("on"+b,c):a.removeEventListener?a.removeEventListener(b,c,!0):a["on"+b]=null},e.objectIsEmpty=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},e.unescape=function(a){return unescape(a)},e.decodeHTMLEntities=function(a){a=e.unescape(a);var b=document.createElement("textarea");return b.innerHTML="&","&amp;"==b.innerHTML?(b.innerHTML=a,b.value):a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)})},e.isNear=function(a,b,c){return Math.abs(a-b)<=c},e.isInViewport=function(a,b,c){if(e.isWindow(a)){if(!e.isAccessible(a.parent)||!a.frameElement)return!0;a=a.frameElement}var d=a.getBoundingClientRect(),f=c?e.transformRect(c,d):d,g=e.getViewportRect(a.ownerDocument),h=e.intersectRects(f,g),i=e.getWindow(a.ownerDocument);return e.isAccessible(i.parent)&&i.frameElement&&h?e.isInViewport(i.frameElement,b,e.transformRect(h,g)):!!e.intersectRects(f,e.growRect(g,b||0))},e.transformRect=function(a,b){return{top:a.top+b.top,bottom:a.bottom+b.top,left:a.left+b.left,right:a.right+b.left}},e.growRect=function(a,b){return{top:a.top-b,bottom:a.bottom+b,left:a.left-b,right:a.right+b}},e.getViewportRect=function(a){var b=a.documentElement,c=a.body,d=b.clientTop||c.clientTop||0,f=b.clientLeft||c.clientLeft||0,g=e.getViewportSize(a);return{top:d,left:f,bottom:g.height+d,right:g.width+f}},e.intersectRects=function(a,b){var c={top:Math.max(a.top,b.top),left:Math.max(a.left,b.left),bottom:Math.min(a.bottom,b.bottom),right:Math.min(a.right,b.right)};return c.right>c.left&&c.bottom>c.top?c:null},e.getWindow=function(a){return a.defaultView||a.parentWindow},e.call=function(a){return a()},e.isFunction=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},e.whileDifferent=function(a,b){for(var c="";c!=a;)c=a,a=b(a);return a},e.toCamelCase=function(a){return a.replace(/(?:adm)?\-(\w+)/g,function(a,b,c){return c?b.charAt(0).toUpperCase()+b.slice(1):b})},e.msToSec=function(a){return parseInt(Math.round(a/1e3),10)},e.isMobile=function(){var a=navigator.userAgent||navigator.vendor||window.opera,b=/android|ipad|playbook|silk/i.test(a);return b||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))},e.isSmartphone=function(){var a=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))},e.isTablet=function(){var a=navigator.userAgent||navigator.vendor||window.opera,b=/ipad|playbook|silk/i.test(a)||/android/i.test(a)&&!/mobile/i.test(a);return b},e.log=function(a){window.console&&window.console.log&&console.log.apply(console,["AEP - "+(a.stack||a)].concat(Array.prototype.slice.call(arguments).slice(1)))},e.noCache=function(a){return a.replace(/\[(timestamp|random|rnd)]/gi,e.generateKey(8))},e.report=function(a,b){var c;e.isFunction(b)||(b=function(){}),e.isString(a)&&(a=[a]),e.forEach(a,function(a){a=e.noCache(a);var d=!1;c=new Image,c.onerror=c.onload=function(){d||(d=!0,b(a))},c.src=a,e.reportHistory.push(c)})},e.reportHistory=[],e.htmlToBase64DataUri=function(a){return"data:text/html;base64,"+window.btoa(a)},e.jsToHtmlBase64DataUri=function(a){return e.htmlToBase64DataUri('<!DOCTYPE html><html><body><script type="text/javascript">'+a+"</script></body></html>")},e.isJsToHtmlBase64DataUriSupported=function(){var a=!1;try{var b=document.createElement("iframe");b.src=e.jsToHtmlBase64DataUri('window.location.href = "about:blank"'),document.body.appendChild(b),a="about:blank"==b.contentWindow.location.href}catch(c){}return b.parentNode&&document.body.removeChild(b),a},e.map=function(a,b){var c=[];return e.forEach(a,function(){c.push(b.apply(this,arguments))}),c},e.reduce=function(a,b,c){return c="undefined"==typeof c?0:c,e.forEach(a,function(){c=b.apply(a,[c].concat(Array.prototype.slice.call(arguments)))}),c},e.find=function(a,b){var c;return e.forEach(a,function(d){return b.apply(a,arguments)?(c=d,!1):void 0}),c},e.every=function(a,b){var c=null;return this.forEach(a,function(){return null===c&&(c=!0),c=!(!c||!b.apply(a,arguments))}),c},e.some=function(a,b){return!!e.find(a,b)},e.poll=function(a,b){var c=new d(!!b),e=a();b&&c.subscribe(b),e&&c.dispatch();var f=setInterval(function(){var d=a();!e&&d&&(c.dispatch(),b||clearInterval(f)),e=d},50);return c},e.callIfFunction=function(a,b,c){a&&e.isFunction(a)&&a.apply(b,c||[])},e.addDaysToDate=function(a,b){return a.setDate(a.getDate()+b),a},e.addHoursToDate=function(a,b){var c=a.getHours()+b;return a.setDate(a.getDate()+Math.floor(c/24)),a.setHours(c%24),a},e.addMinutesToDate=function(a,b){return a.setTime(a.getTime()+6e4*b),a},e.getProtocol=function(a){return a=a||window,"about:"==a.location.protocol?a.parent.location.protocol:a.location.protocol},e.addProtocolIfNeeded=function(a,b){return/^[a-zA-Z]+:\/\//.test(a)?a:b+a},b.exports=e},{"./signal":34}],43:[function(a,b,c){var d=a("./utils.js"),e=a("./dom"),f=a("./signal.js"),g=a("./timer.js"),h=a("lie"),i=function(a,b,c){var i,j=this,k=new g(250),l=a.tagWindow.admTopWindow,m=c||50,n=!1,o={area:242500,percentage:50,corrected:30},p=function(){var a=d.getScroll(l.document),b=d.getViewportSize(l.document);return{top:a.scrollTop,left:a.scrollLeft,bottom:a.scrollTop+b.height,right:a.scrollLeft+b.width}},q=function(){var a,c=e(b).width(),d=e(b).height(),f=e(b).position();return a={top:f.top,left:f.left,bottom:f.top+d,right:f.left+c,area:c*d}},r=function(){var a=p(),b=q(),c=d.intersectRects(a,b),e={width:0,height:0};return null!==c&&(e.width=c.right-c.left,e.height=c.bottom-c.top),Math.max(e.width,0)*Math.max(e.height,0)||0},s=function(){return 100*r()/q().area},t=function(){var a=q().area;return d.isPageVisible()?m==o.percentage&&a>=o.area?s()>=o.corrected:s()>=m:!1},u=function(){t()?k.isRunning||(k.tick.subscribe(function(){k.getPartialTime()>=1e3&&!n&&(j.onViewable.dispatch(k.getElapsedTime()),k.stop(),n=!0)}),k.start()):(k.isRunning&&k.stop(),n&&(n=!1,j.onHidden.dispatch()))};this.start=function(){d.getNodeWindow(b)!=top?console.log("Can not determine viewability"):(a.onClickProduct.subscribe(function(){j.onViewable.dispatch()}),i=setInterval(u,100),d.addEventListener(l,"scroll",u),d.addEventListener(l,"resize",u),u())},this.stop=function(){clearInterval(i),k.stop(!0),d.removeEventListener(l,"scroll",u),d.removeEventListener(l,"resize",u)},this.onHidden=new f(!0),this.onViewable=new f(!0),this.onFirstView=new h(function(a,b){j.onViewable.subscribe(a)})};b.exports=i},{"./dom":17,"./signal.js":34,"./timer.js":39,"./utils.js":42,lie:7}]},{},[26]);